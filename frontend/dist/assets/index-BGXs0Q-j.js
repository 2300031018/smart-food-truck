function Gd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jd={exports:{}},Ol={},Zd={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),om=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),dm=Symbol.for("react.provider"),fm=Symbol.for("react.context"),hm=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),mm=Symbol.for("react.memo"),gm=Symbol.for("react.lazy"),cc=Symbol.iterator;function ym(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var ef={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tf=Object.assign,nf={};function Qr(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}Qr.prototype.isReactComponent={};Qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rf(){}rf.prototype=Qr.prototype;function Wa(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}var qa=Wa.prototype=new rf;qa.constructor=Wa;tf(qa,Qr.prototype);qa.isPureReactComponent=!0;var dc=Array.isArray,sf=Object.prototype.hasOwnProperty,Qa={current:null},lf={key:!0,ref:!0,__self:!0,__source:!0};function of(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)sf.call(t,r)&&!lf.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:rs,type:e,key:s,ref:o,props:i,_owner:Qa.current}}function vm(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ka(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function xm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fc=/\/+/g;function lo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xm(""+e.key):t.toString(36)}function Vs(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case rs:case om:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+lo(o,0):r,dc(i)?(n="",e!=null&&(n=e.replace(fc,"$&/")+"/"),Vs(i,t,n,"",function(c){return c})):i!=null&&(Ka(i)&&(i=vm(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",dc(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+lo(s,a);o+=Vs(s,t,n,u,i)}else if(u=ym(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+lo(s,a++),o+=Vs(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(e,t,n){if(e==null)return e;var r=[],i=0;return Vs(e,r,"","",function(s){return t.call(n,s,i++)}),r}function wm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Ws={transition:null},Sm={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Qa};function af(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:gs,forEach:function(e,t,n){gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!Ka(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Qr;le.Fragment=am;le.Profiler=cm;le.PureComponent=Wa;le.StrictMode=um;le.Suspense=pm;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sm;le.act=af;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tf({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Qa.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)sf.call(t,u)&&!lf.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:rs,type:e.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(e){return e={$$typeof:fm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dm,_context:e},e.Consumer=e};le.createElement=of;le.createFactory=function(e){var t=of.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:hm,render:e}};le.isValidElement=Ka;le.lazy=function(e){return{$$typeof:gm,_payload:{_status:-1,_result:e},_init:wm}};le.memo=function(e,t){return{$$typeof:mm,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Ws.transition;Ws.transition={};try{e()}finally{Ws.transition=t}};le.unstable_act=af;le.useCallback=function(e,t){return nt.current.useCallback(e,t)};le.useContext=function(e){return nt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};le.useEffect=function(e,t){return nt.current.useEffect(e,t)};le.useId=function(){return nt.current.useId()};le.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return nt.current.useMemo(e,t)};le.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};le.useRef=function(e){return nt.current.useRef(e)};le.useState=function(e){return nt.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return nt.current.useTransition()};le.version="18.3.1";Zd.exports=le;var m=Zd.exports;const uf=Xd(m),km=Gd({__proto__:null,default:uf},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=m,Em=Symbol.for("react.element"),Cm=Symbol.for("react.fragment"),_m=Object.prototype.hasOwnProperty,Tm=jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function cf(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)_m.call(t,r)&&!Rm.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Em,type:e,key:s,ref:o,props:i,_owner:Tm.current}}Ol.Fragment=Cm;Ol.jsx=cf;Ol.jsxs=cf;Jd.exports=Ol;var l=Jd.exports,df={exports:{}},mt={},ff={exports:{}},hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,N){var z=S.length;S.push(N);e:for(;0<z;){var $=z-1>>>1,Y=S[$];if(0<i(Y,N))S[$]=N,S[z]=Y,z=$;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var N=S[0],z=S.pop();if(z!==N){S[0]=z;e:for(var $=0,Y=S.length,re=Y>>>1;$<re;){var ue=2*($+1)-1,me=S[ue],be=ue+1,Je=S[be];if(0>i(me,z))be<Y&&0>i(Je,me)?(S[$]=Je,S[be]=z,$=be):(S[$]=me,S[ue]=z,$=ue);else if(be<Y&&0>i(Je,z))S[$]=Je,S[be]=z,$=be;else break e}}return N}function i(S,N){var z=S.sortIndex-N.sortIndex;return z!==0?z:S.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,h=3,w=!1,j=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(S){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=S)r(c),N.sortIndex=N.expirationTime,t(u,N);else break;N=n(c)}}function M(S){if(_=!1,v(S),!j)if(n(u)!==null)j=!0,I(E);else{var N=n(c);N!==null&&x(M,N.startTime-S)}}function E(S,N){j=!1,_&&(_=!1,g(b),b=-1),w=!0;var z=h;try{for(v(N),f=n(u);f!==null&&(!(f.expirationTime>N)||S&&!R());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var Y=$(f.expirationTime<=N);N=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(u)&&r(u),v(N)}else r(u);f=n(u)}if(f!==null)var re=!0;else{var ue=n(c);ue!==null&&x(M,ue.startTime-N),re=!1}return re}finally{f=null,h=z,w=!1}}var T=!1,y=null,b=-1,A=5,k=-1;function R(){return!(e.unstable_now()-k<A)}function F(){if(y!==null){var S=e.unstable_now();k=S;var N=!0;try{N=y(!0,S)}finally{N?D():(T=!1,y=null)}}else T=!1}var D;if(typeof p=="function")D=function(){p(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ee=B.port2;B.port1.onmessage=F,D=function(){ee.postMessage(null)}}else D=function(){P(F,0)};function I(S){y=S,T||(T=!0,D())}function x(S,N){b=P(function(){S(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){j||w||(j=!0,I(E))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var z=h;h=N;try{return S()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,N){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var z=h;h=S;try{return N()}finally{h=z}},e.unstable_scheduleCallback=function(S,N,z){var $=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?$+z:$):z=$,S){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,S={id:d++,callback:N,priorityLevel:S,startTime:z,expirationTime:Y,sortIndex:-1},z>$?(S.sortIndex=z,t(c,S),n(u)===null&&S===n(c)&&(_?(g(b),b=-1):_=!0,x(M,z-$))):(S.sortIndex=Y,t(u,S),j||w||(j=!0,I(E))),S},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(S){var N=h;return function(){var z=h;h=N;try{return S.apply(this,arguments)}finally{h=z}}}})(hf);ff.exports=hf;var Pm=ff.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=m,pt=Pm;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pf=new Set,Ii={};function ir(e,t){zr(e,t),zr(e+"Capture",t)}function zr(e,t){for(Ii[e]=t,e=0;e<t.length;e++)pf.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=Object.prototype.hasOwnProperty,Mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hc={},pc={};function Nm(e){return Ho.call(pc,e)?!0:Ho.call(hc,e)?!1:Mm.test(e)?pc[e]=!0:(hc[e]=!0,!1)}function bm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Om(e,t,n,r){if(t===null||typeof t>"u"||bm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ya=/[\-:]([a-z])/g;function Ga(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ya,Ga);qe[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ya,Ga);qe[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ya,Ga);qe[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xa(e,t,n,r){var i=qe.hasOwnProperty(t)?qe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Om(t,n,i,r)&&(n=null),r||i===null?Nm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sn=Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),vr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),Ja=Symbol.for("react.strict_mode"),Vo=Symbol.for("react.profiler"),mf=Symbol.for("react.provider"),gf=Symbol.for("react.context"),Za=Symbol.for("react.forward_ref"),Wo=Symbol.for("react.suspense"),qo=Symbol.for("react.suspense_list"),eu=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),yf=Symbol.for("react.offscreen"),mc=Symbol.iterator;function ri(e){return e===null||typeof e!="object"?null:(e=mc&&e[mc]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,oo;function Si(e){if(oo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oo=t&&t[1]||""}return`
`+oo+e}var ao=!1;function uo(e,t){if(!e||ao)return"";ao=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{ao=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Si(e):""}function Dm(e){switch(e.tag){case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 2:case 15:return e=uo(e.type,!1),e;case 11:return e=uo(e.type.render,!1),e;case 1:return e=uo(e.type,!0),e;default:return""}}function Qo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case vr:return"Portal";case Vo:return"Profiler";case Ja:return"StrictMode";case Wo:return"Suspense";case qo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gf:return(e.displayName||"Context")+".Consumer";case mf:return(e._context.displayName||"Context")+".Provider";case Za:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eu:return t=e.displayName||null,t!==null?t:Qo(e.type)||"Memo";case gn:t=e._payload,e=e._init;try{return Qo(e(t))}catch{}}return null}function Im(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qo(t);case 8:return t===Ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Am(e){var t=vf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=Am(e))}function xf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ko(e,t){var n=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wf(e,t){t=t.checked,t!=null&&Xa(e,"checked",t,!1)}function Yo(e,t){wf(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Go(e,t.type,n):t.hasOwnProperty("defaultValue")&&Go(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Go(e,t,n){(t!=="number"||al(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ki=Array.isArray;function Lr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Xo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(ki(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function Sf(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,jf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zm=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(e){zm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ti[t]=Ti[e]})});function Ef(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ti.hasOwnProperty(e)&&Ti[e]?(""+t).trim():t+"px"}function Cf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ef(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Fm=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(e,t){if(t){if(Fm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function ea(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var na=null,Mr=null,Nr=null;function wc(e){if(e=ls(e)){if(typeof na!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Fl(t),na(e.stateNode,e.type,t))}}function _f(e){Mr?Nr?Nr.push(e):Nr=[e]:Mr=e}function Tf(){if(Mr){var e=Mr,t=Nr;if(Nr=Mr=null,wc(e),t)for(e=0;e<t.length;e++)wc(t[e])}}function Rf(e,t){return e(t)}function Pf(){}var co=!1;function Lf(e,t,n){if(co)return e(t,n);co=!0;try{return Rf(e,t,n)}finally{co=!1,(Mr!==null||Nr!==null)&&(Pf(),Tf())}}function zi(e,t){var n=e.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var ra=!1;if(en)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){ra=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{ra=!1}function $m(e,t,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ri=!1,ul=null,cl=!1,ia=null,Um={onError:function(e){Ri=!0,ul=e}};function Bm(e,t,n,r,i,s,o,a,u){Ri=!1,ul=null,$m.apply(Um,arguments)}function Hm(e,t,n,r,i,s,o,a,u){if(Bm.apply(this,arguments),Ri){if(Ri){var c=ul;Ri=!1,ul=null}else throw Error(H(198));cl||(cl=!0,ia=c)}}function sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sc(e){if(sr(e)!==e)throw Error(H(188))}function Vm(e){var t=e.alternate;if(!t){if(t=sr(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sc(i),e;if(s===r)return Sc(i),t;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Nf(e){return e=Vm(e),e!==null?bf(e):null}function bf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bf(e);if(t!==null)return t;e=e.sibling}return null}var Of=pt.unstable_scheduleCallback,kc=pt.unstable_cancelCallback,Wm=pt.unstable_shouldYield,qm=pt.unstable_requestPaint,De=pt.unstable_now,Qm=pt.unstable_getCurrentPriorityLevel,nu=pt.unstable_ImmediatePriority,Df=pt.unstable_UserBlockingPriority,dl=pt.unstable_NormalPriority,Km=pt.unstable_LowPriority,If=pt.unstable_IdlePriority,Dl=null,Bt=null;function Ym(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Dl,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:Jm,Gm=Math.log,Xm=Math.LN2;function Jm(e){return e>>>=0,e===0?32:31-(Gm(e)/Xm|0)|0}var ws=64,Ss=4194304;function ji(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ji(a):(s&=o,s!==0&&(r=ji(s)))}else o=n&~i,o!==0?r=ji(o):s!==0&&(r=ji(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bt(t),i=1<<n,r|=e[n],t&=~i;return r}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bt(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Zm(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function sa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Af(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function fo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function is(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=n}function tg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ru(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pe=0;function zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ff,iu,$f,Uf,Bf,la=!1,ks=[],jn=null,En=null,Cn=null,Fi=new Map,$i=new Map,vn=[],ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jc(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(t.pointerId)}}function si(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ls(t),t!==null&&iu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function rg(e,t,n,r,i){switch(t){case"focusin":return jn=si(jn,e,t,n,r,i),!0;case"dragenter":return En=si(En,e,t,n,r,i),!0;case"mouseover":return Cn=si(Cn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fi.set(s,si(Fi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$i.set(s,si($i.get(s)||null,e,t,n,r,i)),!0}return!1}function Hf(e){var t=Wn(e.target);if(t!==null){var n=sr(t);if(n!==null){if(t=n.tag,t===13){if(t=Mf(n),t!==null){e.blockedOn=t,Bf(e.priority,function(){$f(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=oa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ta=r,n.target.dispatchEvent(r),ta=null}else return t=ls(n),t!==null&&iu(t),e.blockedOn=n,!1;t.shift()}return!0}function Ec(e,t,n){qs(e)&&n.delete(t)}function ig(){la=!1,jn!==null&&qs(jn)&&(jn=null),En!==null&&qs(En)&&(En=null),Cn!==null&&qs(Cn)&&(Cn=null),Fi.forEach(Ec),$i.forEach(Ec)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,la||(la=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,ig)))}function Ui(e){function t(i){return li(i,e)}if(0<ks.length){li(ks[0],e);for(var n=1;n<ks.length;n++){var r=ks[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jn!==null&&li(jn,e),En!==null&&li(En,e),Cn!==null&&li(Cn,e),Fi.forEach(t),$i.forEach(t),n=0;n<vn.length;n++)r=vn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)Hf(n),n.blockedOn===null&&vn.shift()}var br=sn.ReactCurrentBatchConfig,hl=!0;function sg(e,t,n,r){var i=pe,s=br.transition;br.transition=null;try{pe=1,su(e,t,n,r)}finally{pe=i,br.transition=s}}function lg(e,t,n,r){var i=pe,s=br.transition;br.transition=null;try{pe=4,su(e,t,n,r)}finally{pe=i,br.transition=s}}function su(e,t,n,r){if(hl){var i=oa(e,t,n,r);if(i===null)ko(e,t,r,pl,n),jc(e,r);else if(rg(i,e,t,n,r))r.stopPropagation();else if(jc(e,r),t&4&&-1<ng.indexOf(e)){for(;i!==null;){var s=ls(i);if(s!==null&&Ff(s),s=oa(e,t,n,r),s===null&&ko(e,t,r,pl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ko(e,t,r,null,n)}}var pl=null;function oa(e,t,n,r){if(pl=null,e=tu(r),e=Wn(e),e!==null)if(t=sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pl=e,null}function Vf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qm()){case nu:return 1;case Df:return 4;case dl:case Km:return 16;case If:return 536870912;default:return 16}default:return 16}}var wn=null,lu=null,Qs=null;function Wf(){if(Qs)return Qs;var e,t=lu,n=t.length,r,i="value"in wn?wn.value:wn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Qs=i.slice(e,1<r?1-r:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function Cc(){return!1}function gt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?js:Cc,this.isPropagationStopped=Cc,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=gt(Kr),ss=Re({},Kr,{view:0,detail:0}),og=gt(ss),ho,po,oi,Il=Re({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(ho=e.screenX-oi.screenX,po=e.screenY-oi.screenY):po=ho=0,oi=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:po}}),_c=gt(Il),ag=Re({},Il,{dataTransfer:0}),ug=gt(ag),cg=Re({},ss,{relatedTarget:0}),mo=gt(cg),dg=Re({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),fg=gt(dg),hg=Re({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pg=gt(hg),mg=Re({},Kr,{data:0}),Tc=gt(mg),gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vg[e])?!!t[e]:!1}function au(){return xg}var wg=Re({},ss,{key:function(e){if(e.key){var t=gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sg=gt(wg),kg=Re({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=gt(kg),jg=Re({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),Eg=gt(jg),Cg=Re({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_g=gt(Cg),Tg=Re({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rg=gt(Tg),Pg=[9,13,27,32],uu=en&&"CompositionEvent"in window,Pi=null;en&&"documentMode"in document&&(Pi=document.documentMode);var Lg=en&&"TextEvent"in window&&!Pi,qf=en&&(!uu||Pi&&8<Pi&&11>=Pi),Pc=" ",Lc=!1;function Qf(e,t){switch(e){case"keyup":return Pg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function Mg(e,t){switch(e){case"compositionend":return Kf(t);case"keypress":return t.which!==32?null:(Lc=!0,Pc);case"textInput":return e=t.data,e===Pc&&Lc?null:e;default:return null}}function Ng(e,t){if(wr)return e==="compositionend"||!uu&&Qf(e,t)?(e=Wf(),Qs=lu=wn=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qf&&t.locale!=="ko"?null:t.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bg[e.type]:t==="textarea"}function Yf(e,t,n,r){_f(r),t=ml(t,"onChange"),0<t.length&&(n=new ou("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Li=null,Bi=null;function Og(e){lh(e,0)}function Al(e){var t=jr(e);if(xf(t))return e}function Dg(e,t){if(e==="change")return t}var Gf=!1;if(en){var go;if(en){var yo="oninput"in document;if(!yo){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),yo=typeof Nc.oninput=="function"}go=yo}else go=!1;Gf=go&&(!document.documentMode||9<document.documentMode)}function bc(){Li&&(Li.detachEvent("onpropertychange",Xf),Bi=Li=null)}function Xf(e){if(e.propertyName==="value"&&Al(Bi)){var t=[];Yf(t,Bi,e,tu(e)),Lf(Og,t)}}function Ig(e,t,n){e==="focusin"?(bc(),Li=t,Bi=n,Li.attachEvent("onpropertychange",Xf)):e==="focusout"&&bc()}function Ag(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(Bi)}function zg(e,t){if(e==="click")return Al(t)}function Fg(e,t){if(e==="input"||e==="change")return Al(t)}function $g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:$g;function Hi(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ho.call(t,i)||!Dt(e[i],t[i]))return!1}return!0}function Oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var n=Oc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oc(n)}}function Jf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zf(){for(var e=window,t=al();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=al(e.document)}return t}function cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ug(e){var t=Zf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jf(n.ownerDocument.documentElement,n)){if(r!==null&&cu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Dc(n,s);var o=Dc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bg=en&&"documentMode"in document&&11>=document.documentMode,Sr=null,aa=null,Mi=null,ua=!1;function Ic(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ua||Sr==null||Sr!==al(r)||(r=Sr,"selectionStart"in r&&cu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mi&&Hi(Mi,r)||(Mi=r,r=ml(aa,"onSelect"),0<r.length&&(t=new ou("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Es(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionend:Es("Transition","TransitionEnd")},vo={},eh={};en&&(eh=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function zl(e){if(vo[e])return vo[e];if(!kr[e])return e;var t=kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in eh)return vo[e]=t[n];return e}var th=zl("animationend"),nh=zl("animationiteration"),rh=zl("animationstart"),ih=zl("transitionend"),sh=new Map,Ac="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){sh.set(e,t),ir(t,[e])}for(var xo=0;xo<Ac.length;xo++){var wo=Ac[xo],Hg=wo.toLowerCase(),Vg=wo[0].toUpperCase()+wo.slice(1);On(Hg,"on"+Vg)}On(th,"onAnimationEnd");On(nh,"onAnimationIteration");On(rh,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(ih,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function zc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hm(r,t,void 0,e),e.currentTarget=null}function lh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;zc(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;zc(i,a,c),s=u}}}if(cl)throw e=ia,cl=!1,ia=null,e}function Se(e,t){var n=t[pa];n===void 0&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(oh(t,e,2,!1),n.add(r))}function So(e,t,n){var r=0;t&&(r|=4),oh(n,e,r,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Cs]){e[Cs]=!0,pf.forEach(function(n){n!=="selectionchange"&&(Wg.has(n)||So(n,!1,e),So(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,So("selectionchange",!1,t))}}function oh(e,t,n,r){switch(Vf(t)){case 1:var i=sg;break;case 4:i=lg;break;default:i=su}n=i.bind(null,t,n,e),i=void 0,!ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ko(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wn(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Lf(function(){var c=s,d=tu(n),f=[];e:{var h=sh.get(e);if(h!==void 0){var w=ou,j=e;switch(e){case"keypress":if(Ks(n)===0)break e;case"keydown":case"keyup":w=Sg;break;case"focusin":j="focus",w=mo;break;case"focusout":j="blur",w=mo;break;case"beforeblur":case"afterblur":w=mo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Eg;break;case th:case nh:case rh:w=fg;break;case ih:w=_g;break;case"scroll":w=og;break;case"wheel":w=Rg;break;case"copy":case"cut":case"paste":w=pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Rc}var _=(t&4)!==0,P=!_&&e==="scroll",g=_?h!==null?h+"Capture":null:h;_=[];for(var p=c,v;p!==null;){v=p;var M=v.stateNode;if(v.tag===5&&M!==null&&(v=M,g!==null&&(M=zi(p,g),M!=null&&_.push(Wi(p,M,v)))),P)break;p=p.return}0<_.length&&(h=new w(h,j,null,n,d),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==ta&&(j=n.relatedTarget||n.fromElement)&&(Wn(j)||j[tn]))break e;if((w||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,w?(j=n.relatedTarget||n.toElement,w=c,j=j?Wn(j):null,j!==null&&(P=sr(j),j!==P||j.tag!==5&&j.tag!==6)&&(j=null)):(w=null,j=c),w!==j)){if(_=_c,M="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=Rc,M="onPointerLeave",g="onPointerEnter",p="pointer"),P=w==null?h:jr(w),v=j==null?h:jr(j),h=new _(M,p+"leave",w,n,d),h.target=P,h.relatedTarget=v,M=null,Wn(d)===c&&(_=new _(g,p+"enter",j,n,d),_.target=v,_.relatedTarget=P,M=_),P=M,w&&j)t:{for(_=w,g=j,p=0,v=_;v;v=ur(v))p++;for(v=0,M=g;M;M=ur(M))v++;for(;0<p-v;)_=ur(_),p--;for(;0<v-p;)g=ur(g),v--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=ur(_),g=ur(g)}_=null}else _=null;w!==null&&Fc(f,h,w,_,!1),j!==null&&P!==null&&Fc(f,P,j,_,!0)}}e:{if(h=c?jr(c):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var E=Dg;else if(Mc(h))if(Gf)E=Fg;else{E=Ag;var T=Ig}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=zg);if(E&&(E=E(e,c))){Yf(f,E,n,d);break e}T&&T(e,h,c),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Go(h,"number",h.value)}switch(T=c?jr(c):window,e){case"focusin":(Mc(T)||T.contentEditable==="true")&&(Sr=T,aa=c,Mi=null);break;case"focusout":Mi=aa=Sr=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,Ic(f,n,d);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":Ic(f,n,d)}var y;if(uu)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else wr?Qf(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(qf&&n.locale!=="ko"&&(wr||b!=="onCompositionStart"?b==="onCompositionEnd"&&wr&&(y=Wf()):(wn=d,lu="value"in wn?wn.value:wn.textContent,wr=!0)),T=ml(c,b),0<T.length&&(b=new Tc(b,e,null,n,d),f.push({event:b,listeners:T}),y?b.data=y:(y=Kf(n),y!==null&&(b.data=y)))),(y=Lg?Mg(e,n):Ng(e,n))&&(c=ml(c,"onBeforeInput"),0<c.length&&(d=new Tc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=y))}lh(f,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ml(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zi(e,n),s!=null&&r.unshift(Wi(e,s,i)),s=zi(e,t),s!=null&&r.push(Wi(e,s,i))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fc(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=zi(n,s),u!=null&&o.unshift(Wi(n,u,a))):i||(u=zi(n,s),u!=null&&o.push(Wi(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var qg=/\r\n?/g,Qg=/\u0000|\uFFFD/g;function $c(e){return(typeof e=="string"?e:""+e).replace(qg,`
`).replace(Qg,"")}function _s(e,t,n){if(t=$c(t),$c(e)!==t&&n)throw Error(H(425))}function gl(){}var ca=null,da=null;function fa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ha=typeof setTimeout=="function"?setTimeout:void 0,Kg=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,Yg=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(e){return Uc.resolve(null).then(e).catch(Gg)}:ha;function Gg(e){setTimeout(function(){throw e})}function jo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ui(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ui(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Yr,qi="__reactProps$"+Yr,tn="__reactContainer$"+Yr,pa="__reactEvents$"+Yr,Xg="__reactListeners$"+Yr,Jg="__reactHandles$"+Yr;function Wn(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tn]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bc(e);e!==null;){if(n=e[Ut])return n;e=Bc(e)}return t}e=n,n=e.parentNode}return null}function ls(e){return e=e[Ut]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Fl(e){return e[qi]||null}var ma=[],Er=-1;function Dn(e){return{current:e}}function ke(e){0>Er||(e.current=ma[Er],ma[Er]=null,Er--)}function ye(e,t){Er++,ma[Er]=e.current,e.current=t}var bn={},Xe=Dn(bn),ot=Dn(!1),Jn=bn;function Fr(e,t){var n=e.type.contextTypes;if(!n)return bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function at(e){return e=e.childContextTypes,e!=null}function yl(){ke(ot),ke(Xe)}function Hc(e,t,n){if(Xe.current!==bn)throw Error(H(168));ye(Xe,t),ye(ot,n)}function ah(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,Im(e)||"Unknown",i));return Re({},n,r)}function vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Jn=Xe.current,ye(Xe,e),ye(ot,ot.current),!0}function Vc(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=ah(e,t,Jn),r.__reactInternalMemoizedMergedChildContext=e,ke(ot),ke(Xe),ye(Xe,e)):ke(ot),ye(ot,n)}var Kt=null,$l=!1,Eo=!1;function uh(e){Kt===null?Kt=[e]:Kt.push(e)}function Zg(e){$l=!0,uh(e)}function In(){if(!Eo&&Kt!==null){Eo=!0;var e=0,t=pe;try{var n=Kt;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kt=null,$l=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(e+1)),Of(nu,In),i}finally{pe=t,Eo=!1}}return null}var Cr=[],_r=0,xl=null,wl=0,yt=[],vt=0,Zn=null,Gt=1,Xt="";function Un(e,t){Cr[_r++]=wl,Cr[_r++]=xl,xl=e,wl=t}function ch(e,t,n){yt[vt++]=Gt,yt[vt++]=Xt,yt[vt++]=Zn,Zn=e;var r=Gt;e=Xt;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var s=32-bt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gt=1<<32-bt(t)+i|n<<i|r,Xt=s+e}else Gt=1<<s|n<<i|r,Xt=e}function du(e){e.return!==null&&(Un(e,1),ch(e,1,0))}function fu(e){for(;e===xl;)xl=Cr[--_r],Cr[_r]=null,wl=Cr[--_r],Cr[_r]=null;for(;e===Zn;)Zn=yt[--vt],yt[vt]=null,Xt=yt[--vt],yt[vt]=null,Gt=yt[--vt],yt[vt]=null}var ht=null,ft=null,Ce=!1,Nt=null;function dh(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,ft=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:Gt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ht=e,ft=null,!0):!1;default:return!1}}function ga(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ya(e){if(Ce){var t=ft;if(t){var n=t;if(!Wc(e,t)){if(ga(e))throw Error(H(418));t=_n(n.nextSibling);var r=ht;t&&Wc(e,t)?dh(r,n):(e.flags=e.flags&-4097|2,Ce=!1,ht=e)}}else{if(ga(e))throw Error(H(418));e.flags=e.flags&-4097|2,Ce=!1,ht=e}}}function qc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function Ts(e){if(e!==ht)return!1;if(!Ce)return qc(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fa(e.type,e.memoizedProps)),t&&(t=ft)){if(ga(e))throw fh(),Error(H(418));for(;t;)dh(e,t),t=_n(t.nextSibling)}if(qc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ft=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=ht?_n(e.stateNode.nextSibling):null;return!0}function fh(){for(var e=ft;e;)e=_n(e.nextSibling)}function $r(){ft=ht=null,Ce=!1}function hu(e){Nt===null?Nt=[e]:Nt.push(e)}var ey=sn.ReactCurrentBatchConfig;function ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Rs(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qc(e){var t=e._init;return t(e._payload)}function hh(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Ln(g,p),g.index=0,g.sibling=null,g}function s(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,M){return p===null||p.tag!==6?(p=Mo(v,g.mode,M),p.return=g,p):(p=i(p,v),p.return=g,p)}function u(g,p,v,M){var E=v.type;return E===xr?d(g,p,v.props.children,M,v.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gn&&Qc(E)===p.type)?(M=i(p,v.props),M.ref=ai(g,p,v),M.return=g,M):(M=tl(v.type,v.key,v.props,null,g.mode,M),M.ref=ai(g,p,v),M.return=g,M)}function c(g,p,v,M){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=No(v,g.mode,M),p.return=g,p):(p=i(p,v.children||[]),p.return=g,p)}function d(g,p,v,M,E){return p===null||p.tag!==7?(p=Gn(v,g.mode,M,E),p.return=g,p):(p=i(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Mo(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ys:return v=tl(p.type,p.key,p.props,null,g.mode,v),v.ref=ai(g,null,p),v.return=g,v;case vr:return p=No(p,g.mode,v),p.return=g,p;case gn:var M=p._init;return f(g,M(p._payload),v)}if(ki(p)||ri(p))return p=Gn(p,g.mode,v,null),p.return=g,p;Rs(g,p)}return null}function h(g,p,v,M){var E=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(g,p,""+v,M);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:return v.key===E?u(g,p,v,M):null;case vr:return v.key===E?c(g,p,v,M):null;case gn:return E=v._init,h(g,p,E(v._payload),M)}if(ki(v)||ri(v))return E!==null?null:d(g,p,v,M,null);Rs(g,v)}return null}function w(g,p,v,M,E){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(v)||null,a(p,g,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ys:return g=g.get(M.key===null?v:M.key)||null,u(p,g,M,E);case vr:return g=g.get(M.key===null?v:M.key)||null,c(p,g,M,E);case gn:var T=M._init;return w(g,p,v,T(M._payload),E)}if(ki(M)||ri(M))return g=g.get(v)||null,d(p,g,M,E,null);Rs(p,M)}return null}function j(g,p,v,M){for(var E=null,T=null,y=p,b=p=0,A=null;y!==null&&b<v.length;b++){y.index>b?(A=y,y=null):A=y.sibling;var k=h(g,y,v[b],M);if(k===null){y===null&&(y=A);break}e&&y&&k.alternate===null&&t(g,y),p=s(k,p,b),T===null?E=k:T.sibling=k,T=k,y=A}if(b===v.length)return n(g,y),Ce&&Un(g,b),E;if(y===null){for(;b<v.length;b++)y=f(g,v[b],M),y!==null&&(p=s(y,p,b),T===null?E=y:T.sibling=y,T=y);return Ce&&Un(g,b),E}for(y=r(g,y);b<v.length;b++)A=w(y,g,b,v[b],M),A!==null&&(e&&A.alternate!==null&&y.delete(A.key===null?b:A.key),p=s(A,p,b),T===null?E=A:T.sibling=A,T=A);return e&&y.forEach(function(R){return t(g,R)}),Ce&&Un(g,b),E}function _(g,p,v,M){var E=ri(v);if(typeof E!="function")throw Error(H(150));if(v=E.call(v),v==null)throw Error(H(151));for(var T=E=null,y=p,b=p=0,A=null,k=v.next();y!==null&&!k.done;b++,k=v.next()){y.index>b?(A=y,y=null):A=y.sibling;var R=h(g,y,k.value,M);if(R===null){y===null&&(y=A);break}e&&y&&R.alternate===null&&t(g,y),p=s(R,p,b),T===null?E=R:T.sibling=R,T=R,y=A}if(k.done)return n(g,y),Ce&&Un(g,b),E;if(y===null){for(;!k.done;b++,k=v.next())k=f(g,k.value,M),k!==null&&(p=s(k,p,b),T===null?E=k:T.sibling=k,T=k);return Ce&&Un(g,b),E}for(y=r(g,y);!k.done;b++,k=v.next())k=w(y,g,b,k.value,M),k!==null&&(e&&k.alternate!==null&&y.delete(k.key===null?b:k.key),p=s(k,p,b),T===null?E=k:T.sibling=k,T=k);return e&&y.forEach(function(F){return t(g,F)}),Ce&&Un(g,b),E}function P(g,p,v,M){if(typeof v=="object"&&v!==null&&v.type===xr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:e:{for(var E=v.key,T=p;T!==null;){if(T.key===E){if(E=v.type,E===xr){if(T.tag===7){n(g,T.sibling),p=i(T,v.props.children),p.return=g,g=p;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gn&&Qc(E)===T.type){n(g,T.sibling),p=i(T,v.props),p.ref=ai(g,T,v),p.return=g,g=p;break e}n(g,T);break}else t(g,T);T=T.sibling}v.type===xr?(p=Gn(v.props.children,g.mode,M,v.key),p.return=g,g=p):(M=tl(v.type,v.key,v.props,null,g.mode,M),M.ref=ai(g,p,v),M.return=g,g=M)}return o(g);case vr:e:{for(T=v.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=i(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=No(v,g.mode,M),p.return=g,g=p}return o(g);case gn:return T=v._init,P(g,p,T(v._payload),M)}if(ki(v))return j(g,p,v,M);if(ri(v))return _(g,p,v,M);Rs(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,v),p.return=g,g=p):(n(g,p),p=Mo(v,g.mode,M),p.return=g,g=p),o(g)):n(g,p)}return P}var Ur=hh(!0),ph=hh(!1),Sl=Dn(null),kl=null,Tr=null,pu=null;function mu(){pu=Tr=kl=null}function gu(e){var t=Sl.current;ke(Sl),e._currentValue=t}function va(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Or(e,t){kl=e,pu=Tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(pu!==e)if(e={context:e,memoizedValue:t,next:null},Tr===null){if(kl===null)throw Error(H(308));Tr=e,kl.dependencies={lanes:0,firstContext:e}}else Tr=Tr.next=e;return t}var qn=null;function yu(e){qn===null?qn=[e]:qn.push(e)}function mh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,yu(t)):(n.next=i.next,i.next=n),t.interleaved=n,nn(e,r)}function nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yn=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,nn(e,n)}return i=r.interleaved,i===null?(t.next=t,yu(r)):(t.next=i.next,i.next=t),r.interleaved=t,nn(e,n)}function Ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ru(e,n)}}function Kc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jl(e,t,n,r){var i=e.updateQueue;yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var h=a.lane,w=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,_=a;switch(h=t,w=n,_.tag){case 1:if(j=_.payload,typeof j=="function"){f=j.call(w,f,h);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=_.payload,h=typeof j=="function"?j.call(w,f,h):j,h==null)break e;f=Re({},f,h);break e;case 2:yn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else w={eventTime:w,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,u=f):d=d.next=w,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);tr|=o,e.lanes=o,e.memoizedState=f}}function Yc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var os={},Ht=Dn(os),Qi=Dn(os),Ki=Dn(os);function Qn(e){if(e===os)throw Error(H(174));return e}function xu(e,t){switch(ye(Ki,t),ye(Qi,e),ye(Ht,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jo(t,e)}ke(Ht),ye(Ht,t)}function Br(){ke(Ht),ke(Qi),ke(Ki)}function yh(e){Qn(Ki.current);var t=Qn(Ht.current),n=Jo(t,e.type);t!==n&&(ye(Qi,e),ye(Ht,n))}function wu(e){Qi.current===e&&(ke(Ht),ke(Qi))}var _e=Dn(0);function El(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Co=[];function Su(){for(var e=0;e<Co.length;e++)Co[e]._workInProgressVersionPrimary=null;Co.length=0}var Gs=sn.ReactCurrentDispatcher,_o=sn.ReactCurrentBatchConfig,er=0,Te=null,Fe=null,Ue=null,Cl=!1,Ni=!1,Yi=0,ty=0;function Qe(){throw Error(H(321))}function ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function ju(e,t,n,r,i,s){if(er=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gs.current=e===null||e.memoizedState===null?sy:ly,e=n(r,i),Ni){s=0;do{if(Ni=!1,Yi=0,25<=s)throw Error(H(301));s+=1,Ue=Fe=null,t.updateQueue=null,Gs.current=oy,e=n(r,i)}while(Ni)}if(Gs.current=_l,t=Fe!==null&&Fe.next!==null,er=0,Ue=Fe=Te=null,Cl=!1,t)throw Error(H(300));return e}function Eu(){var e=Yi!==0;return Yi=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function jt(){if(Fe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Ue===null?Te.memoizedState:Ue.next;if(t!==null)Ue=t,Fe=e;else{if(e===null)throw Error(H(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Gi(e,t){return typeof t=="function"?t(e):t}function To(e){var t=jt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Fe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((er&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Te.lanes|=d,tr|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Dt(r,t.memoizedState)||(lt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Te.lanes|=s,tr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=jt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Dt(s,t.memoizedState)||(lt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vh(){}function xh(e,t){var n=Te,r=jt(),i=t(),s=!Dt(r.memoizedState,i);if(s&&(r.memoizedState=i,lt=!0),r=r.queue,Cu(kh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Xi(9,Sh.bind(null,n,r,i,t),void 0,null),Be===null)throw Error(H(349));er&30||wh(n,t,i)}return i}function wh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sh(e,t,n,r){t.value=n,t.getSnapshot=r,jh(t)&&Eh(e)}function kh(e,t,n){return n(function(){jh(t)&&Eh(e)})}function jh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Eh(e){var t=nn(e,1);t!==null&&Ot(t,e,1,-1)}function Gc(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=iy.bind(null,Te,e),[t.memoizedState,e]}function Xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ch(){return jt().memoizedState}function Xs(e,t,n,r){var i=$t();Te.flags|=e,i.memoizedState=Xi(1|t,n,void 0,r===void 0?null:r)}function Ul(e,t,n,r){var i=jt();r=r===void 0?null:r;var s=void 0;if(Fe!==null){var o=Fe.memoizedState;if(s=o.destroy,r!==null&&ku(r,o.deps)){i.memoizedState=Xi(t,n,s,r);return}}Te.flags|=e,i.memoizedState=Xi(1|t,n,s,r)}function Xc(e,t){return Xs(8390656,8,e,t)}function Cu(e,t){return Ul(2048,8,e,t)}function _h(e,t){return Ul(4,2,e,t)}function Th(e,t){return Ul(4,4,e,t)}function Rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ph(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,Rh.bind(null,t,e),n)}function _u(){}function Lh(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ku(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Mh(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ku(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nh(e,t,n){return er&21?(Dt(n,t)||(n=Af(),Te.lanes|=n,tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=n)}function ny(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=_o.transition;_o.transition={};try{e(!1),t()}finally{pe=n,_o.transition=r}}function bh(){return jt().memoizedState}function ry(e,t,n){var r=Pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Oh(e))Dh(t,n);else if(n=mh(e,t,n,r),n!==null){var i=tt();Ot(n,e,r,i),Ih(n,t,r)}}function iy(e,t,n){var r=Pn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oh(e))Dh(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Dt(a,o)){var u=t.interleaved;u===null?(i.next=i,yu(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=mh(e,t,i,r),n!==null&&(i=tt(),Ot(n,e,r,i),Ih(n,t,r))}}function Oh(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Dh(e,t){Ni=Cl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ih(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ru(e,n)}}var _l={readContext:kt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},sy={readContext:kt,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Xc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xs(4194308,4,Rh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xs(4,2,e,t)},useMemo:function(e,t){var n=$t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ry.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:Gc,useDebugValue:_u,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=Gc(!1),t=e[0];return e=ny.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,i=$t();if(Ce){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Be===null)throw Error(H(349));er&30||wh(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Xc(kh.bind(null,r,s,e),[e]),r.flags|=2048,Xi(9,Sh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=$t(),t=Be.identifierPrefix;if(Ce){var n=Xt,r=Gt;n=(r&~(1<<32-bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ty++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ly={readContext:kt,useCallback:Lh,useContext:kt,useEffect:Cu,useImperativeHandle:Ph,useInsertionEffect:_h,useLayoutEffect:Th,useMemo:Mh,useReducer:To,useRef:Ch,useState:function(){return To(Gi)},useDebugValue:_u,useDeferredValue:function(e){var t=jt();return Nh(t,Fe.memoizedState,e)},useTransition:function(){var e=To(Gi)[0],t=jt().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:xh,useId:bh,unstable_isNewReconciler:!1},oy={readContext:kt,useCallback:Lh,useContext:kt,useEffect:Cu,useImperativeHandle:Ph,useInsertionEffect:_h,useLayoutEffect:Th,useMemo:Mh,useReducer:Ro,useRef:Ch,useState:function(){return Ro(Gi)},useDebugValue:_u,useDeferredValue:function(e){var t=jt();return Fe===null?t.memoizedState=e:Nh(t,Fe.memoizedState,e)},useTransition:function(){var e=Ro(Gi)[0],t=jt().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:xh,useId:bh,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bl={isMounted:function(e){return(e=e._reactInternals)?sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Pn(e),s=Jt(r,i);s.payload=t,n!=null&&(s.callback=n),t=Tn(e,s,i),t!==null&&(Ot(t,e,i,r),Ys(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Pn(e),s=Jt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Tn(e,s,i),t!==null&&(Ot(t,e,i,r),Ys(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=Pn(e),i=Jt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Tn(e,i,r),t!==null&&(Ot(t,e,r,n),Ys(t,e,r))}};function Jc(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Hi(n,r)||!Hi(i,s):!0}function Ah(e,t,n){var r=!1,i=bn,s=t.contextType;return typeof s=="object"&&s!==null?s=kt(s):(i=at(t)?Jn:Xe.current,r=t.contextTypes,s=(r=r!=null)?Fr(e,i):bn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Zc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bl.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},vu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=kt(s):(s=at(t)?Jn:Xe.current,i.context=Fr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(xa(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bl.enqueueReplaceState(i,i.state,null),jl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Hr(e,t){try{var n="",r=t;do n+=Dm(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Po(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ay=typeof WeakMap=="function"?WeakMap:Map;function zh(e,t,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,Ma=r),Sa(e,t)},n}function Fh(e,t,n){n=Jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Sa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sa(e,t),typeof r!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ed(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ay;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ky.bind(null,e,t,n),t.then(e,e))}function td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jt(-1,1),t.tag=2,Tn(n,t,1))),n.lanes|=1),e)}var uy=sn.ReactCurrentOwner,lt=!1;function et(e,t,n,r){t.child=e===null?ph(t,null,n,r):Ur(t,e.child,n,r)}function rd(e,t,n,r,i){n=n.render;var s=t.ref;return Or(t,i),r=ju(e,t,n,r,s,i),n=Eu(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rn(e,t,i)):(Ce&&n&&du(t),t.flags|=1,et(e,t,r,i),t.child)}function id(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ou(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,$h(e,t,s,r,i)):(e=tl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hi,n(o,r)&&e.ref===t.ref)return rn(e,t,i)}return t.flags|=1,e=Ln(s,r),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Hi(s,r)&&e.ref===t.ref)if(lt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,rn(e,t,i)}return ka(e,t,n,r,i)}function Uh(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Pr,ct),ct|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Pr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(Pr,ct),ct|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ye(Pr,ct),ct|=r;return et(e,t,i,n),t.child}function Bh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=at(n)?Jn:Xe.current;return s=Fr(t,s),Or(t,i),n=ju(e,t,n,r,s,i),r=Eu(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rn(e,t,i)):(Ce&&r&&du(t),t.flags|=1,et(e,t,n,i),t.child)}function sd(e,t,n,r,i){if(at(n)){var s=!0;vl(t)}else s=!1;if(Or(t,i),t.stateNode===null)Js(e,t),Ah(t,n,r),wa(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kt(c):(c=at(n)?Jn:Xe.current,c=Fr(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Zc(t,o,r,c),yn=!1;var h=t.memoizedState;o.state=h,jl(t,r,o,i),u=t.memoizedState,a!==r||h!==u||ot.current||yn?(typeof d=="function"&&(xa(t,n,d,r),u=t.memoizedState),(a=yn||Jc(t,n,a,r,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,gh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Rt(t.type,a),o.props=c,f=t.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=kt(u):(u=at(n)?Jn:Xe.current,u=Fr(t,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==u)&&Zc(t,o,r,u),yn=!1,h=t.memoizedState,o.state=h,jl(t,r,o,i);var j=t.memoizedState;a!==f||h!==j||ot.current||yn?(typeof w=="function"&&(xa(t,n,w,r),j=t.memoizedState),(c=yn||Jc(t,n,c,r,h,j,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ja(e,t,n,r,s,i)}function ja(e,t,n,r,i,s){Bh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Vc(t,n,!1),rn(e,t,s);r=t.stateNode,uy.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ur(t,e.child,null,s),t.child=Ur(t,null,a,s)):et(e,t,a,s),t.memoizedState=r.state,i&&Vc(t,n,!0),t.child}function Hh(e){var t=e.stateNode;t.pendingContext?Hc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hc(e,t.context,!1),xu(e,t.containerInfo)}function ld(e,t,n,r,i){return $r(),hu(i),t.flags|=256,et(e,t,n,r),t.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function Ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vh(e,t,n){var r=t.pendingProps,i=_e.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ye(_e,i&1),e===null)return ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wl(o,r,0,null),e=Gn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ca(n),t.memoizedState=Ea,e):Tu(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cy(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ln(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ln(a,s):(s=Gn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ca(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ea,r}return s=e.child,e=s.sibling,r=Ln(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tu(e,t){return t=Wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ps(e,t,n,r){return r!==null&&hu(r),Ur(t,e.child,null,n),e=Tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cy(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Po(Error(H(422))),Ps(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Wl({mode:"visible",children:r.children},i,0,null),s=Gn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ur(t,e.child,null,o),t.child.memoizedState=Ca(o),t.memoizedState=Ea,s);if(!(t.mode&1))return Ps(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Po(s,r,void 0),Ps(e,t,o,r)}if(a=(o&e.childLanes)!==0,lt||a){if(r=Be,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,nn(e,i),Ot(r,e,i,-1))}return bu(),r=Po(Error(H(421))),Ps(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jy.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ft=_n(i.nextSibling),ht=t,Ce=!0,Nt=null,e!==null&&(yt[vt++]=Gt,yt[vt++]=Xt,yt[vt++]=Zn,Gt=e.id,Xt=e.overflow,Zn=t),t=Tu(t,r.children),t.flags|=4096,t)}function od(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),va(e.return,t,n)}function Lo(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Wh(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(et(e,t,r.children,n),r=_e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&od(e,n,t);else if(e.tag===19)od(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(_e,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&El(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Lo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&El(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Lo(t,!0,n,null,s);break;case"together":Lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Js(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dy(e,t,n){switch(t.tag){case 3:Hh(t),$r();break;case 5:yh(t);break;case 1:at(t.type)&&vl(t);break;case 4:xu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ye(Sl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?Vh(e,t,n):(ye(_e,_e.current&1),e=rn(e,t,n),e!==null?e.sibling:null);ye(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Wh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,Uh(e,t,n)}return rn(e,t,n)}var qh,_a,Qh,Kh;qh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_a=function(){};Qh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qn(Ht.current);var s=null;switch(n){case"input":i=Ko(e,i),r=Ko(e,r),s=[];break;case"select":i=Re({},i,{value:void 0}),r=Re({},r,{value:void 0}),s=[];break;case"textarea":i=Xo(e,i),r=Xo(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gl)}Zo(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ii.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ii.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Se("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Kh=function(e,t,n,r){n!==r&&(t.flags|=4)};function ui(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fy(e,t,n){var r=t.pendingProps;switch(fu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return at(t.type)&&yl(),Ke(t),null;case 3:return r=t.stateNode,Br(),ke(ot),ke(Xe),Su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Oa(Nt),Nt=null))),_a(e,t),Ke(t),null;case 5:wu(t);var i=Qn(Ki.current);if(n=t.type,e!==null&&t.stateNode!=null)Qh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Ke(t),null}if(e=Qn(Ht.current),Ts(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ut]=t,r[qi]=s,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<Ei.length;i++)Se(Ei[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":gc(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":vc(r,s),Se("invalid",r)}Zo(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_s(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_s(r.textContent,a,e),i=["children",""+a]):Ii.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":vs(r),yc(r,s,!0);break;case"textarea":vs(r),xc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ut]=t,e[qi]=r,qh(e,t,!1,!1),t.stateNode=e;e:{switch(o=ea(n,r),n){case"dialog":Se("cancel",e),Se("close",e),i=r;break;case"iframe":case"object":case"embed":Se("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ei.length;i++)Se(Ei[i],e);i=r;break;case"source":Se("error",e),i=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),i=r;break;case"details":Se("toggle",e),i=r;break;case"input":gc(e,r),i=Ko(e,r),Se("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Re({},r,{value:void 0}),Se("invalid",e);break;case"textarea":vc(e,r),i=Xo(e,r),Se("invalid",e);break;default:i=r}Zo(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Cf(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&jf(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ai(e,u):typeof u=="number"&&Ai(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ii.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Se("scroll",e):u!=null&&Xa(e,s,u,o))}switch(n){case"input":vs(e),yc(e,r,!1);break;case"textarea":vs(e),xc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Lr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)Kh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Qn(Ki.current),Qn(Ht.current),Ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ut]=t,(s=r.nodeValue!==n)&&(e=ht,e!==null))switch(e.tag){case 3:_s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=t,t.stateNode=r}return Ke(t),null;case 13:if(ke(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&ft!==null&&t.mode&1&&!(t.flags&128))fh(),$r(),t.flags|=98560,s=!1;else if(s=Ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(H(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Ut]=t}else $r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),s=!1}else Nt!==null&&(Oa(Nt),Nt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?$e===0&&($e=3):bu())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Br(),_a(e,t),e===null&&Vi(t.stateNode.containerInfo),Ke(t),null;case 10:return gu(t.type._context),Ke(t),null;case 17:return at(t.type)&&yl(),Ke(t),null;case 19:if(ke(_e),s=t.memoizedState,s===null)return Ke(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ui(s,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=El(e),o!==null){for(t.flags|=128,ui(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(_e,_e.current&1|2),t.child}e=e.sibling}s.tail!==null&&De()>Vr&&(t.flags|=128,r=!0,ui(s,!1),t.lanes=4194304)}else{if(!r)if(e=El(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ui(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return Ke(t),null}else 2*De()-s.renderingStartTime>Vr&&n!==1073741824&&(t.flags|=128,r=!0,ui(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=De(),t.sibling=null,n=_e.current,ye(_e,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return Nu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ct&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function hy(e,t){switch(fu(t),t.tag){case 1:return at(t.type)&&yl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Br(),ke(ot),ke(Xe),Su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wu(t),null;case 13:if(ke(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));$r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(_e),null;case 4:return Br(),null;case 10:return gu(t.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var Ls=!1,Ge=!1,py=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function Ta(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var ad=!1;function my(e,t){if(ca=hl,e=Zf(),cu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)h=f,f=w;for(;;){if(f===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(u=o),(w=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(da={focusedElem:e,selectionRange:n},hl=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var _=j.memoizedProps,P=j.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:Rt(t.type,_),P);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(M){Ne(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return j=ad,ad=!1,j}function bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ta(t,n,s)}i=i.next}while(i!==r)}}function Hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ra(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yh(e){var t=e.alternate;t!==null&&(e.alternate=null,Yh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[qi],delete t[pa],delete t[Xg],delete t[Jg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gh(e){return e.tag===5||e.tag===3||e.tag===4}function ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gl));else if(r!==4&&(e=e.child,e!==null))for(Pa(e,t,n),e=e.sibling;e!==null;)Pa(e,t,n),e=e.sibling}function La(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(La(e,t,n),e=e.sibling;e!==null;)La(e,t,n),e=e.sibling}var Ve=null,Pt=!1;function cn(e,t,n){for(n=n.child;n!==null;)Xh(e,t,n),n=n.sibling}function Xh(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Dl,n)}catch{}switch(n.tag){case 5:Ge||Rr(n,t);case 6:var r=Ve,i=Pt;Ve=null,cn(e,t,n),Ve=r,Pt=i,Ve!==null&&(Pt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Pt?(e=Ve,n=n.stateNode,e.nodeType===8?jo(e.parentNode,n):e.nodeType===1&&jo(e,n),Ui(e)):jo(Ve,n.stateNode));break;case 4:r=Ve,i=Pt,Ve=n.stateNode.containerInfo,Pt=!0,cn(e,t,n),Ve=r,Pt=i;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ta(n,t,o),i=i.next}while(i!==r)}cn(e,t,n);break;case 1:if(!Ge&&(Rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,t,a)}cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,cn(e,t,n),Ge=r):cn(e,t,n);break;default:cn(e,t,n)}}function cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new py),t.forEach(function(r){var i=Ey.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Pt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Pt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Pt=!0;break e}a=a.return}if(Ve===null)throw Error(H(160));Xh(s,o,i),Ve=null,Pt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ne(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jh(t,e),t=t.sibling}function Jh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),zt(e),r&4){try{bi(3,e,e.return),Hl(3,e)}catch(_){Ne(e,e.return,_)}try{bi(5,e,e.return)}catch(_){Ne(e,e.return,_)}}break;case 1:Et(t,e),zt(e),r&512&&n!==null&&Rr(n,n.return);break;case 5:if(Et(t,e),zt(e),r&512&&n!==null&&Rr(n,n.return),e.flags&32){var i=e.stateNode;try{Ai(i,"")}catch(_){Ne(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&wf(i,s),ea(a,o);var c=ea(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?Cf(i,f):d==="dangerouslySetInnerHTML"?jf(i,f):d==="children"?Ai(i,f):Xa(i,d,f,c)}switch(a){case"input":Yo(i,s);break;case"textarea":Sf(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Lr(i,!!s.multiple,w,!1):h!==!!s.multiple&&(s.defaultValue!=null?Lr(i,!!s.multiple,s.defaultValue,!0):Lr(i,!!s.multiple,s.multiple?[]:"",!1))}i[qi]=s}catch(_){Ne(e,e.return,_)}}break;case 6:if(Et(t,e),zt(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Ne(e,e.return,_)}}break;case 3:if(Et(t,e),zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ui(t.containerInfo)}catch(_){Ne(e,e.return,_)}break;case 4:Et(t,e),zt(e);break;case 13:Et(t,e),zt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lu=De())),r&4&&cd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(c=Ge)||d,Et(t,e),Ge=c):Et(t,e),zt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Q=e,d=e.child;d!==null;){for(f=Q=d;Q!==null;){switch(h=Q,w=h.child,h.tag){case 0:case 11:case 14:case 15:bi(4,h,h.return);break;case 1:Rr(h,h.return);var j=h.stateNode;if(typeof j.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(_){Ne(r,n,_)}}break;case 5:Rr(h,h.return);break;case 22:if(h.memoizedState!==null){fd(f);continue}}w!==null?(w.return=h,Q=w):fd(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Ef("display",o))}catch(_){Ne(e,e.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Ne(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Et(t,e),zt(e),r&4&&cd(e);break;case 21:break;default:Et(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gh(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ai(i,""),r.flags&=-33);var s=ud(e);La(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ud(e);Pa(e,a,o);break;default:throw Error(H(161))}}catch(u){Ne(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gy(e,t,n){Q=e,Zh(e)}function Zh(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ls;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ge;a=Ls;var c=Ge;if(Ls=o,(Ge=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?hd(i):u!==null?(u.return=o,Q=u):hd(i);for(;s!==null;)Q=s,Zh(s),s=s.sibling;Q=i,Ls=a,Ge=c}dd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):dd(e)}}function dd(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Hl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Yc(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ui(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ge||t.flags&512&&Ra(t)}catch(h){Ne(t,t.return,h)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function fd(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function hd(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hl(4,t)}catch(u){Ne(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ne(t,i,u)}}var s=t.return;try{Ra(t)}catch(u){Ne(t,s,u)}break;case 5:var o=t.return;try{Ra(t)}catch(u){Ne(t,o,u)}}}catch(u){Ne(t,t.return,u)}if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}var yy=Math.ceil,Tl=sn.ReactCurrentDispatcher,Ru=sn.ReactCurrentOwner,St=sn.ReactCurrentBatchConfig,ce=0,Be=null,Ae=null,We=0,ct=0,Pr=Dn(0),$e=0,Ji=null,tr=0,Vl=0,Pu=0,Oi=null,st=null,Lu=0,Vr=1/0,Qt=null,Rl=!1,Ma=null,Rn=null,Ms=!1,Sn=null,Pl=0,Di=0,Na=null,Zs=-1,el=0;function tt(){return ce&6?De():Zs!==-1?Zs:Zs=De()}function Pn(e){return e.mode&1?ce&2&&We!==0?We&-We:ey.transition!==null?(el===0&&(el=Af()),el):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Vf(e.type)),e):1}function Ot(e,t,n,r){if(50<Di)throw Di=0,Na=null,Error(H(185));is(e,n,r),(!(ce&2)||e!==Be)&&(e===Be&&(!(ce&2)&&(Vl|=n),$e===4&&xn(e,We)),ut(e,r),n===1&&ce===0&&!(t.mode&1)&&(Vr=De()+500,$l&&In()))}function ut(e,t){var n=e.callbackNode;eg(e,t);var r=fl(e,e===Be?We:0);if(r===0)n!==null&&kc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kc(n),t===1)e.tag===0?Zg(pd.bind(null,e)):uh(pd.bind(null,e)),Yg(function(){!(ce&6)&&In()}),n=null;else{switch(zf(r)){case 1:n=nu;break;case 4:n=Df;break;case 16:n=dl;break;case 536870912:n=If;break;default:n=dl}n=op(n,ep.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ep(e,t){if(Zs=-1,el=0,ce&6)throw Error(H(327));var n=e.callbackNode;if(Dr()&&e.callbackNode!==n)return null;var r=fl(e,e===Be?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ll(e,r);else{t=r;var i=ce;ce|=2;var s=np();(Be!==e||We!==t)&&(Qt=null,Vr=De()+500,Yn(e,t));do try{wy();break}catch(a){tp(e,a)}while(!0);mu(),Tl.current=s,ce=i,Ae!==null?t=0:(Be=null,We=0,t=$e)}if(t!==0){if(t===2&&(i=sa(e),i!==0&&(r=i,t=ba(e,i))),t===1)throw n=Ji,Yn(e,0),xn(e,r),ut(e,De()),n;if(t===6)xn(e,r);else{if(i=e.current.alternate,!(r&30)&&!vy(i)&&(t=Ll(e,r),t===2&&(s=sa(e),s!==0&&(r=s,t=ba(e,s))),t===1))throw n=Ji,Yn(e,0),xn(e,r),ut(e,De()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Bn(e,st,Qt);break;case 3:if(xn(e,r),(r&130023424)===r&&(t=Lu+500-De(),10<t)){if(fl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ha(Bn.bind(null,e,st,Qt),t);break}Bn(e,st,Qt);break;case 4:if(xn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-bt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yy(r/1960))-r,10<r){e.timeoutHandle=ha(Bn.bind(null,e,st,Qt),r);break}Bn(e,st,Qt);break;case 5:Bn(e,st,Qt);break;default:throw Error(H(329))}}}return ut(e,De()),e.callbackNode===n?ep.bind(null,e):null}function ba(e,t){var n=Oi;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Ll(e,t),e!==2&&(t=st,st=n,t!==null&&Oa(t)),e}function Oa(e){st===null?st=e:st.push.apply(st,e)}function vy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xn(e,t){for(t&=~Pu,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function pd(e){if(ce&6)throw Error(H(327));Dr();var t=fl(e,0);if(!(t&1))return ut(e,De()),null;var n=Ll(e,t);if(e.tag!==0&&n===2){var r=sa(e);r!==0&&(t=r,n=ba(e,r))}if(n===1)throw n=Ji,Yn(e,0),xn(e,t),ut(e,De()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,st,Qt),ut(e,De()),null}function Mu(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Vr=De()+500,$l&&In())}}function nr(e){Sn!==null&&Sn.tag===0&&!(ce&6)&&Dr();var t=ce;ce|=1;var n=St.transition,r=pe;try{if(St.transition=null,pe=1,e)return e()}finally{pe=r,St.transition=n,ce=t,!(ce&6)&&In()}}function Nu(){ct=Pr.current,ke(Pr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kg(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yl();break;case 3:Br(),ke(ot),ke(Xe),Su();break;case 5:wu(r);break;case 4:Br();break;case 13:ke(_e);break;case 19:ke(_e);break;case 10:gu(r.type._context);break;case 22:case 23:Nu()}n=n.return}if(Be=e,Ae=e=Ln(e.current,null),We=ct=t,$e=0,Ji=null,Pu=Vl=tr=0,st=Oi=null,qn!==null){for(t=0;t<qn.length;t++)if(n=qn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qn=null}return e}function tp(e,t){do{var n=Ae;try{if(mu(),Gs.current=_l,Cl){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cl=!1}if(er=0,Ue=Fe=Te=null,Ni=!1,Yi=0,Ru.current=null,n===null||n.return===null){$e=1,Ji=t,Ae=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=We,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=td(o);if(w!==null){w.flags&=-257,nd(w,o,a,s,t),w.mode&1&&ed(s,c,t),t=w,u=c;var j=t.updateQueue;if(j===null){var _=new Set;_.add(u),t.updateQueue=_}else j.add(u);break e}else{if(!(t&1)){ed(s,c,t),bu();break e}u=Error(H(426))}}else if(Ce&&a.mode&1){var P=td(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),nd(P,o,a,s,t),hu(Hr(u,a));break e}}s=u=Hr(u,a),$e!==4&&($e=2),Oi===null?Oi=[s]:Oi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=zh(s,u,t);Kc(s,g);break e;case 1:a=u;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Rn===null||!Rn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var M=Fh(s,a,t);Kc(s,M);break e}}s=s.return}while(s!==null)}ip(n)}catch(E){t=E,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function np(){var e=Tl.current;return Tl.current=_l,e===null?_l:e}function bu(){($e===0||$e===3||$e===2)&&($e=4),Be===null||!(tr&268435455)&&!(Vl&268435455)||xn(Be,We)}function Ll(e,t){var n=ce;ce|=2;var r=np();(Be!==e||We!==t)&&(Qt=null,Yn(e,t));do try{xy();break}catch(i){tp(e,i)}while(!0);if(mu(),ce=n,Tl.current=r,Ae!==null)throw Error(H(261));return Be=null,We=0,$e}function xy(){for(;Ae!==null;)rp(Ae)}function wy(){for(;Ae!==null&&!Wm();)rp(Ae)}function rp(e){var t=lp(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?ip(e):Ae=t,Ru.current=null}function ip(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hy(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ae=null;return}}else if(n=fy(n,t,ct),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);$e===0&&($e=5)}function Bn(e,t,n){var r=pe,i=St.transition;try{St.transition=null,pe=1,Sy(e,t,n,r)}finally{St.transition=i,pe=r}return null}function Sy(e,t,n,r){do Dr();while(Sn!==null);if(ce&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(tg(e,s),e===Be&&(Ae=Be=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ms||(Ms=!0,op(dl,function(){return Dr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=St.transition,St.transition=null;var o=pe;pe=1;var a=ce;ce|=4,Ru.current=null,my(e,n),Jh(n,e),Ug(da),hl=!!ca,da=ca=null,e.current=n,gy(n),qm(),ce=a,pe=o,St.transition=s}else e.current=n;if(Ms&&(Ms=!1,Sn=e,Pl=i),s=e.pendingLanes,s===0&&(Rn=null),Ym(n.stateNode),ut(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rl)throw Rl=!1,e=Ma,Ma=null,e;return Pl&1&&e.tag!==0&&Dr(),s=e.pendingLanes,s&1?e===Na?Di++:(Di=0,Na=e):Di=0,In(),null}function Dr(){if(Sn!==null){var e=zf(Pl),t=St.transition,n=pe;try{if(St.transition=null,pe=16>e?16:e,Sn===null)var r=!1;else{if(e=Sn,Sn=null,Pl=0,ce&6)throw Error(H(331));var i=ce;for(ce|=4,Q=e.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:bi(8,d,s)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var h=d.sibling,w=d.return;if(Yh(d),d===c){Q=null;break}if(h!==null){h.return=w,Q=h;break}Q=w}}}var j=s.alternate;if(j!==null){var _=j.child;if(_!==null){j.child=null;do{var P=_.sibling;_.sibling=null,_=P}while(_!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bi(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Q=g;break e}Q=s.return}}var p=e.current;for(Q=p;Q!==null;){o=Q;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Q=v;else e:for(o=p;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hl(9,a)}}catch(E){Ne(a,a.return,E)}if(a===o){Q=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Q=M;break e}Q=a.return}}if(ce=i,In(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Dl,e)}catch{}r=!0}return r}finally{pe=n,St.transition=t}}return!1}function md(e,t,n){t=Hr(n,t),t=zh(e,t,1),e=Tn(e,t,1),t=tt(),e!==null&&(is(e,1,t),ut(e,t))}function Ne(e,t,n){if(e.tag===3)md(e,e,n);else for(;t!==null;){if(t.tag===3){md(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){e=Hr(n,e),e=Fh(t,e,1),t=Tn(t,e,1),e=tt(),t!==null&&(is(t,1,e),ut(t,e));break}}t=t.return}}function ky(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(We&n)===n&&($e===4||$e===3&&(We&130023424)===We&&500>De()-Lu?Yn(e,0):Pu|=n),ut(e,t)}function sp(e,t){t===0&&(e.mode&1?(t=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):t=1);var n=tt();e=nn(e,t),e!==null&&(is(e,t,n),ut(e,n))}function jy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sp(e,n)}function Ey(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),sp(e,n)}var lp;lp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lt=!1,dy(e,t,n);lt=!!(e.flags&131072)}else lt=!1,Ce&&t.flags&1048576&&ch(t,wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Js(e,t),e=t.pendingProps;var i=Fr(t,Xe.current);Or(t,n),i=ju(null,t,r,e,i,n);var s=Eu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(s=!0,vl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vu(t),i.updater=Bl,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=ja(null,t,r,!0,s,n)):(t.tag=0,Ce&&s&&du(t),et(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Js(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=_y(r),e=Rt(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=sd(null,t,r,e,n);break e;case 11:t=rd(null,t,r,e,n);break e;case 14:t=id(null,t,r,Rt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rt(r,i),ka(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rt(r,i),sd(e,t,r,i,n);case 3:e:{if(Hh(t),e===null)throw Error(H(387));r=t.pendingProps,s=t.memoizedState,i=s.element,gh(e,t),jl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Hr(Error(H(423)),t),t=ld(e,t,r,n,i);break e}else if(r!==i){i=Hr(Error(H(424)),t),t=ld(e,t,r,n,i);break e}else for(ft=_n(t.stateNode.containerInfo.firstChild),ht=t,Ce=!0,Nt=null,n=ph(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($r(),r===i){t=rn(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return yh(t),e===null&&ya(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,fa(r,i)?o=null:s!==null&&fa(r,s)&&(t.flags|=32),Bh(e,t),et(e,t,o,n),t.child;case 6:return e===null&&ya(t),null;case 13:return Vh(e,t,n);case 4:return xu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ur(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rt(r,i),rd(e,t,r,i,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ye(Sl,r._currentValue),r._currentValue=o,s!==null)if(Dt(s.value,o)){if(s.children===i.children&&!ot.current){t=rn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Jt(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),va(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),va(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}et(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Or(t,n),i=kt(i),r=r(i),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,i=Rt(r,t.pendingProps),i=Rt(r.type,i),id(e,t,r,i,n);case 15:return $h(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rt(r,i),Js(e,t),t.tag=1,at(r)?(e=!0,vl(t)):e=!1,Or(t,n),Ah(t,r,i),wa(t,r,i,n),ja(null,t,r,!0,e,n);case 19:return Wh(e,t,n);case 22:return Uh(e,t,n)}throw Error(H(156,t.tag))};function op(e,t){return Of(e,t)}function Cy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new Cy(e,t,n,r)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _y(e){if(typeof e=="function")return Ou(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Za)return 11;if(e===eu)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tl(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Ou(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xr:return Gn(n.children,i,s,t);case Ja:o=8,i|=8;break;case Vo:return e=wt(12,n,t,i|2),e.elementType=Vo,e.lanes=s,e;case Wo:return e=wt(13,n,t,i),e.elementType=Wo,e.lanes=s,e;case qo:return e=wt(19,n,t,i),e.elementType=qo,e.lanes=s,e;case yf:return Wl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mf:o=10;break e;case gf:o=9;break e;case Za:o=11;break e;case eu:o=14;break e;case gn:o=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Gn(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function Wl(e,t,n,r){return e=wt(22,e,r,t),e.elementType=yf,e.lanes=n,e.stateNode={isHidden:!1},e}function Mo(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function No(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ty(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fo(0),this.expirationTimes=fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Du(e,t,n,r,i,s,o,a,u){return e=new Ty(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(s),e}function Ry(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ap(e){if(!e)return bn;e=e._reactInternals;e:{if(sr(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(at(n))return ah(e,n,t)}return t}function up(e,t,n,r,i,s,o,a,u){return e=Du(n,r,!0,e,i,s,o,a,u),e.context=ap(null),n=e.current,r=tt(),i=Pn(n),s=Jt(r,i),s.callback=t??null,Tn(n,s,i),e.current.lanes=i,is(e,i,r),ut(e,r),e}function ql(e,t,n,r){var i=t.current,s=tt(),o=Pn(i);return n=ap(n),t.context===null?t.context=n:t.pendingContext=n,t=Jt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tn(i,t,o),e!==null&&(Ot(e,i,o,s),Ys(e,i,o)),o}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Iu(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function Py(){return null}var cp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Au(e){this._internalRoot=e}Ql.prototype.render=Au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));ql(e,t,null,null)};Ql.prototype.unmount=Au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nr(function(){ql(null,e,null,null)}),t[tn]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vn.length&&t!==0&&t<vn[n].priority;n++);vn.splice(n,0,e),n===0&&Hf(e)}};function zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yd(){}function Ly(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ml(o);s.call(c)}}var o=up(t,r,e,0,null,!1,!1,"",yd);return e._reactRootContainer=o,e[tn]=o.current,Vi(e.nodeType===8?e.parentNode:e),nr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ml(u);a.call(c)}}var u=Du(e,0,!1,null,null,!1,!1,"",yd);return e._reactRootContainer=u,e[tn]=u.current,Vi(e.nodeType===8?e.parentNode:e),nr(function(){ql(t,u,n,r)}),u}function Yl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Ml(o);a.call(u)}}ql(t,o,e,i)}else o=Ly(n,t,e,i,r);return Ml(o)}Ff=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ji(t.pendingLanes);n!==0&&(ru(t,n|1),ut(t,De()),!(ce&6)&&(Vr=De()+500,In()))}break;case 13:nr(function(){var r=nn(e,1);if(r!==null){var i=tt();Ot(r,e,1,i)}}),Iu(e,1)}};iu=function(e){if(e.tag===13){var t=nn(e,134217728);if(t!==null){var n=tt();Ot(t,e,134217728,n)}Iu(e,134217728)}};$f=function(e){if(e.tag===13){var t=Pn(e),n=nn(e,t);if(n!==null){var r=tt();Ot(n,e,t,r)}Iu(e,t)}};Uf=function(){return pe};Bf=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};na=function(e,t,n){switch(t){case"input":if(Yo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fl(r);if(!i)throw Error(H(90));xf(r),Yo(r,i)}}}break;case"textarea":Sf(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}};Rf=Mu;Pf=nr;var My={usingClientEntryPoint:!1,Events:[ls,jr,Fl,_f,Tf,Mu]},ci={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ny={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nf(e),e===null?null:e.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||Py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{Dl=Ns.inject(Ny),Bt=Ns}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=My;mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(t))throw Error(H(200));return Ry(e,t,null,n)};mt.createRoot=function(e,t){if(!zu(e))throw Error(H(299));var n=!1,r="",i=cp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Du(e,1,!1,null,null,n,!1,r,i),e[tn]=t.current,Vi(e.nodeType===8?e.parentNode:e),new Au(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Nf(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return nr(e)};mt.hydrate=function(e,t,n){if(!Kl(t))throw Error(H(200));return Yl(null,e,t,!0,n)};mt.hydrateRoot=function(e,t,n){if(!zu(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=cp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=up(t,null,e,1,n??null,i,!1,s,o),e[tn]=t.current,Vi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)};mt.render=function(e,t,n){if(!Kl(t))throw Error(H(200));return Yl(null,e,t,!1,n)};mt.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(H(40));return e._reactRootContainer?(nr(function(){Yl(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1};mt.unstable_batchedUpdates=Mu;mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kl(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Yl(e,t,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function dp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dp)}catch(e){console.error(e)}}dp(),df.exports=mt;var Fu=df.exports;const by=Xd(Fu),Oy=Gd({__proto__:null,default:by},[Fu]);var fp,vd=Fu;fp=vd.createRoot,vd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}var Oe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oe||(Oe={}));const xd="popstate";function Dy(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zi("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rr(i)}return Ay(t,n,null,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Iy(){return Math.random().toString(36).substr(2,8)}function wd(e,t){return{usr:e.state,key:e.key,idx:t}}function Zi(e,t,n,r){return n===void 0&&(n=null),Ee({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ln(t):t,{state:n,key:t&&t.key||r||Iy()})}function rr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ln(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ay(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Oe.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Ee({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Oe.Pop;let P=d(),g=P==null?null:P-c;c=P,u&&u({action:a,location:_.location,delta:g})}function h(P,g){a=Oe.Push;let p=Zi(_.location,P,g);c=d()+1;let v=wd(p,c),M=_.createHref(p);try{o.pushState(v,"",M)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(M)}s&&u&&u({action:a,location:_.location,delta:1})}function w(P,g){a=Oe.Replace;let p=Zi(_.location,P,g);c=d();let v=wd(p,c),M=_.createHref(p);o.replaceState(v,"",M),s&&u&&u({action:a,location:_.location,delta:0})}function j(P){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof P=="string"?P:rr(P);return p=p.replace(/ $/,"%20"),se(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let _={get action(){return a},get location(){return e(i,o)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(xd,f),u=P,()=>{i.removeEventListener(xd,f),u=null}},createHref(P){return t(i,P)},createURL:j,encodeLocation(P){let g=j(P);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:w,go(P){return o.go(P)}};return _}var he;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(he||(he={}));const zy=new Set(["lazy","caseSensitive","path","id","index","children"]);function Fy(e){return e.index===!0}function Nl(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(se(i.index!==!0||!i.children,"Cannot specify children on an index route"),se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Fy(i)){let u=Ee({},i,t(i),{id:a});return r[a]=u,u}else{let u=Ee({},i,t(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=Nl(i.children,t,o,r)),u}})}function Hn(e,t,n){return n===void 0&&(n="/"),nl(e,t,n,!1)}function nl(e,t,n,r){let i=typeof t=="string"?ln(t):t,s=Gr(i.pathname||"/",n);if(s==null)return null;let o=hp(e);Uy(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Jy(s);a=Gy(o[u],c,r)}return a}function $y(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function hp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(se(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Zt([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hp(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:Ky(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of pp(s.path))i(s,o,u)}),t}function pp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=pp(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Uy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Yy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const By=/^:[\w-]+$/,Hy=3,Vy=2,Wy=1,qy=10,Qy=-2,Sd=e=>e==="*";function Ky(e,t){let n=e.split("/"),r=n.length;return n.some(Sd)&&(r+=Qy),t&&(r+=Vy),n.filter(i=>!Sd(i)).reduce((i,s)=>i+(By.test(s)?Hy:s===""?Wy:qy),r)}function Yy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Gy(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=kd({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=kd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Zt([s,f.pathname]),pathnameBase:tv(Zt([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Zt([s,f.pathnameBase]))}return o}function kd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Xy(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:w}=d;if(h==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const j=a[f];return w&&!j?c[h]=void 0:c[h]=(j||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function Xy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Wr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Jy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Zy(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ln(e):e;return{pathname:n?n.startsWith("/")?n:ev(n,t):t,search:nv(r),hash:rv(i)}}function ev(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gl(e,t){let n=mp(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xl(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ln(e):(i=Ee({},e),se(!i.pathname||!i.pathname.includes("?"),bo("?","pathname","search",i)),se(!i.pathname||!i.pathname.includes("#"),bo("#","pathname","hash",i)),se(!i.search||!i.search.includes("#"),bo("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?t[f]:"/"}let u=Zy(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Zt=e=>e.join("/").replace(/\/\/+/g,"/"),tv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class bl{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function es(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gp=["post","put","patch","delete"],iv=new Set(gp),sv=["get",...gp],lv=new Set(sv),ov=new Set([301,302,303,307,308]),av=new Set([307,308]),Oo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uv={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},di={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$u=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cv=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),yp="remix-router-transitions";function dv(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;se(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let C=e.detectErrorBoundary;i=L=>({hasErrorBoundary:C(L)})}else i=cv;let s={},o=Nl(e.routes,i,void 0,s),a,u=e.basename||"/",c=e.dataStrategy||mv,d=e.patchRoutesOnNavigation,f=Ee({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,w=new Set,j=null,_=null,P=null,g=e.hydrationData!=null,p=Hn(o,e.history.location,u),v=!1,M=null;if(p==null&&!d){let C=it(404,{pathname:e.history.location.pathname}),{matches:L,route:O}=bd(o);p=L,M={[O.id]:C}}p&&!e.hydrationData&&fs(p,o,e.history.location.pathname).active&&(p=null);let E;if(p)if(p.some(C=>C.route.lazy))E=!1;else if(!p.some(C=>C.route.loader))E=!0;else if(f.v7_partialHydration){let C=e.hydrationData?e.hydrationData.loaderData:null,L=e.hydrationData?e.hydrationData.errors:null;if(L){let O=p.findIndex(U=>L[U.route.id]!==void 0);E=p.slice(0,O+1).every(U=>!Ia(U.route,C,L))}else E=p.every(O=>!Ia(O.route,C,L))}else E=e.hydrationData!=null;else if(E=!1,p=[],f.v7_partialHydration){let C=fs(null,o,e.history.location.pathname);C.active&&C.matches&&(v=!0,p=C.matches)}let T,y={historyAction:e.history.action,location:e.history.location,matches:p,initialized:E,navigation:Oo,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||M,fetchers:new Map,blockers:new Map},b=Oe.Pop,A=!1,k,R=!1,F=new Map,D=null,B=!1,ee=!1,I=[],x=new Set,S=new Map,N=0,z=-1,$=new Map,Y=new Set,re=new Map,ue=new Map,me=new Set,be=new Map,Je=new Map,V;function xe(){if(h=e.history.listen(C=>{let{action:L,location:O,delta:U}=C;if(V){V(),V=void 0;return}Wr(Je.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=lc({currentLocation:y.location,nextLocation:O,historyAction:L});if(W&&U!=null){let Z=new Promise(ne=>{V=ne});e.history.go(U*-1),ds(W,{state:"blocked",location:O,proceed(){ds(W,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),Z.then(()=>e.history.go(U))},reset(){let ne=new Map(y.blockers);ne.set(W,di),we({blockers:ne})}});return}return zn(L,O)}),n){Pv(t,F);let C=()=>Lv(t,F);t.addEventListener("pagehide",C),D=()=>t.removeEventListener("pagehide",C)}return y.initialized||zn(Oe.Pop,y.location,{initialHydration:!0}),T}function Ze(){h&&h(),D&&D(),w.clear(),k&&k.abort(),y.fetchers.forEach((C,L)=>cs(L)),y.blockers.forEach((C,L)=>sc(L))}function je(C){return w.add(C),()=>w.delete(C)}function we(C,L){L===void 0&&(L={}),y=Ee({},y,C);let O=[],U=[];f.v7_fetcherPersist&&y.fetchers.forEach((W,Z)=>{W.state==="idle"&&(me.has(Z)?U.push(Z):O.push(Z))}),me.forEach(W=>{!y.fetchers.has(W)&&!S.has(W)&&U.push(W)}),[...w].forEach(W=>W(y,{deletedFetchers:U,viewTransitionOpts:L.viewTransitionOpts,flushSync:L.flushSync===!0})),f.v7_fetcherPersist?(O.forEach(W=>y.fetchers.delete(W)),U.forEach(W=>cs(W))):U.forEach(W=>me.delete(W))}function It(C,L,O){var U,W;let{flushSync:Z}=O===void 0?{}:O,ne=y.actionData!=null&&y.navigation.formMethod!=null&&Lt(y.navigation.formMethod)&&y.navigation.state==="loading"&&((U=C.state)==null?void 0:U._isRedirect)!==!0,G;L.actionData?Object.keys(L.actionData).length>0?G=L.actionData:G=null:ne?G=y.actionData:G=null;let X=L.loaderData?Md(y.loaderData,L.loaderData,L.matches||[],L.errors):y.loaderData,K=y.blockers;K.size>0&&(K=new Map(K),K.forEach((ae,He)=>K.set(He,di)));let J=A===!0||y.navigation.formMethod!=null&&Lt(y.navigation.formMethod)&&((W=C.state)==null?void 0:W._isRedirect)!==!0;a&&(o=a,a=void 0),B||b===Oe.Pop||(b===Oe.Push?e.history.push(C,C.state):b===Oe.Replace&&e.history.replace(C,C.state));let ie;if(b===Oe.Pop){let ae=F.get(y.location.pathname);ae&&ae.has(C.pathname)?ie={currentLocation:y.location,nextLocation:C}:F.has(C.pathname)&&(ie={currentLocation:C,nextLocation:y.location})}else if(R){let ae=F.get(y.location.pathname);ae?ae.add(C.pathname):(ae=new Set([C.pathname]),F.set(y.location.pathname,ae)),ie={currentLocation:y.location,nextLocation:C}}we(Ee({},L,{actionData:G,loaderData:X,historyAction:b,location:C,initialized:!0,navigation:Oo,revalidation:"idle",restoreScrollPosition:ac(C,L.matches||y.matches),preventScrollReset:J,blockers:K}),{viewTransitionOpts:ie,flushSync:Z===!0}),b=Oe.Pop,A=!1,R=!1,B=!1,ee=!1,I=[]}async function Ju(C,L){if(typeof C=="number"){e.history.go(C);return}let O=Da(y.location,y.matches,u,f.v7_prependBasename,C,f.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:U,submission:W,error:Z}=jd(f.v7_normalizeFormMethod,!1,O,L),ne=y.location,G=Zi(y.location,U,L&&L.state);G=Ee({},G,e.history.encodeLocation(G));let X=L&&L.replace!=null?L.replace:void 0,K=Oe.Push;X===!0?K=Oe.Replace:X===!1||W!=null&&Lt(W.formMethod)&&W.formAction===y.location.pathname+y.location.search&&(K=Oe.Replace);let J=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,ie=(L&&L.flushSync)===!0,ae=lc({currentLocation:ne,nextLocation:G,historyAction:K});if(ae){ds(ae,{state:"blocked",location:G,proceed(){ds(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ju(C,L)},reset(){let He=new Map(y.blockers);He.set(ae,di),we({blockers:He})}});return}return await zn(K,G,{submission:W,pendingError:Z,preventScrollReset:J,replace:L&&L.replace,enableViewTransition:L&&L.viewTransition,flushSync:ie})}function Qp(){if(no(),we({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){zn(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}zn(b||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:R===!0})}}async function zn(C,L,O){k&&k.abort(),k=null,b=C,B=(O&&O.startUninterruptedRevalidation)===!0,rm(y.location,y.matches),A=(O&&O.preventScrollReset)===!0,R=(O&&O.enableViewTransition)===!0;let U=a||o,W=O&&O.overrideNavigation,Z=O!=null&&O.initialHydration&&y.matches&&y.matches.length>0&&!v?y.matches:Hn(U,L,u),ne=(O&&O.flushSync)===!0;if(Z&&y.initialized&&!ee&&Sv(y.location,L)&&!(O&&O.submission&&Lt(O.submission.formMethod))){It(L,{matches:Z},{flushSync:ne});return}let G=fs(Z,U,L.pathname);if(G.active&&G.matches&&(Z=G.matches),!Z){let{error:ge,notFoundMatches:fe,route:Pe}=ro(L.pathname);It(L,{matches:fe,loaderData:{},errors:{[Pe.id]:ge}},{flushSync:ne});return}k=new AbortController;let X=cr(e.history,L,k.signal,O&&O.submission),K;if(O&&O.pendingError)K=[Vn(Z).route.id,{type:he.error,error:O.pendingError}];else if(O&&O.submission&&Lt(O.submission.formMethod)){let ge=await Kp(X,L,O.submission,Z,G.active,{replace:O.replace,flushSync:ne});if(ge.shortCircuited)return;if(ge.pendingActionResult){let[fe,Pe]=ge.pendingActionResult;if(dt(Pe)&&es(Pe.error)&&Pe.error.status===404){k=null,It(L,{matches:ge.matches,loaderData:{},errors:{[fe]:Pe.error}});return}}Z=ge.matches||Z,K=ge.pendingActionResult,W=Do(L,O.submission),ne=!1,G.active=!1,X=cr(e.history,X.url,X.signal)}let{shortCircuited:J,matches:ie,loaderData:ae,errors:He}=await Yp(X,L,Z,G.active,W,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,ne,K);J||(k=null,It(L,Ee({matches:ie||Z},Nd(K),{loaderData:ae,errors:He})))}async function Kp(C,L,O,U,W,Z){Z===void 0&&(Z={}),no();let ne=Tv(L,O);if(we({navigation:ne},{flushSync:Z.flushSync===!0}),W){let K=await hs(U,L.pathname,C.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){let J=Vn(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[J,{type:he.error,error:K.error}]}}else if(K.matches)U=K.matches;else{let{notFoundMatches:J,error:ie,route:ae}=ro(L.pathname);return{matches:J,pendingActionResult:[ae.id,{type:he.error,error:ie}]}}}let G,X=Ci(U,L);if(!X.route.action&&!X.route.lazy)G={type:he.error,error:it(405,{method:C.method,pathname:L.pathname,routeId:X.route.id})};else if(G=(await Zr("action",y,C,[X],U,null))[X.route.id],C.signal.aborted)return{shortCircuited:!0};if(Kn(G)){let K;return Z&&Z.replace!=null?K=Z.replace:K=Rd(G.response.headers.get("Location"),new URL(C.url),u)===y.location.pathname+y.location.search,await Fn(C,G,!0,{submission:O,replace:K}),{shortCircuited:!0}}if(kn(G))throw it(400,{type:"defer-action"});if(dt(G)){let K=Vn(U,X.route.id);return(Z&&Z.replace)!==!0&&(b=Oe.Push),{matches:U,pendingActionResult:[K.route.id,G]}}return{matches:U,pendingActionResult:[X.route.id,G]}}async function Yp(C,L,O,U,W,Z,ne,G,X,K,J){let ie=W||Do(L,Z),ae=Z||ne||Dd(ie),He=!B&&(!f.v7_partialHydration||!X);if(U){if(He){let Le=Zu(J);we(Ee({navigation:ie},Le!==void 0?{actionData:Le}:{}),{flushSync:K})}let de=await hs(O,L.pathname,C.signal);if(de.type==="aborted")return{shortCircuited:!0};if(de.type==="error"){let Le=Vn(de.partialMatches).route.id;return{matches:de.partialMatches,loaderData:{},errors:{[Le]:de.error}}}else if(de.matches)O=de.matches;else{let{error:Le,notFoundMatches:or,route:ni}=ro(L.pathname);return{matches:or,loaderData:{},errors:{[ni.id]:Le}}}}let ge=a||o,[fe,Pe]=Cd(e.history,y,O,ae,L,f.v7_partialHydration&&X===!0,f.v7_skipActionErrorRevalidation,ee,I,x,me,re,Y,ge,u,J);if(io(de=>!(O&&O.some(Le=>Le.route.id===de))||fe&&fe.some(Le=>Le.route.id===de)),z=++N,fe.length===0&&Pe.length===0){let de=rc();return It(L,Ee({matches:O,loaderData:{},errors:J&&dt(J[1])?{[J[0]]:J[1].error}:null},Nd(J),de?{fetchers:new Map(y.fetchers)}:{}),{flushSync:K}),{shortCircuited:!0}}if(He){let de={};if(!U){de.navigation=ie;let Le=Zu(J);Le!==void 0&&(de.actionData=Le)}Pe.length>0&&(de.fetchers=Gp(Pe)),we(de,{flushSync:K})}Pe.forEach(de=>{un(de.key),de.controller&&S.set(de.key,de.controller)});let lr=()=>Pe.forEach(de=>un(de.key));k&&k.signal.addEventListener("abort",lr);let{loaderResults:ei,fetcherResults:qt}=await ec(y,O,fe,Pe,C);if(C.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",lr),Pe.forEach(de=>S.delete(de.key));let At=bs(ei);if(At)return await Fn(C,At.result,!0,{replace:G}),{shortCircuited:!0};if(At=bs(qt),At)return Y.add(At.key),await Fn(C,At.result,!0,{replace:G}),{shortCircuited:!0};let{loaderData:so,errors:ti}=Ld(y,O,ei,J,Pe,qt,be);be.forEach((de,Le)=>{de.subscribe(or=>{(or||de.done)&&be.delete(Le)})}),f.v7_partialHydration&&X&&y.errors&&(ti=Ee({},y.errors,ti));let $n=rc(),ps=ic(z),ms=$n||ps||Pe.length>0;return Ee({matches:O,loaderData:so,errors:ti},ms?{fetchers:new Map(y.fetchers)}:{})}function Zu(C){if(C&&!dt(C[1]))return{[C[0]]:C[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function Gp(C){return C.forEach(L=>{let O=y.fetchers.get(L.key),U=fi(void 0,O?O.data:void 0);y.fetchers.set(L.key,U)}),new Map(y.fetchers)}function Xp(C,L,O,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");un(C);let W=(U&&U.flushSync)===!0,Z=a||o,ne=Da(y.location,y.matches,u,f.v7_prependBasename,O,f.v7_relativeSplatPath,L,U==null?void 0:U.relative),G=Hn(Z,ne,u),X=fs(G,Z,ne);if(X.active&&X.matches&&(G=X.matches),!G){Wt(C,L,it(404,{pathname:ne}),{flushSync:W});return}let{path:K,submission:J,error:ie}=jd(f.v7_normalizeFormMethod,!0,ne,U);if(ie){Wt(C,L,ie,{flushSync:W});return}let ae=Ci(G,K),He=(U&&U.preventScrollReset)===!0;if(J&&Lt(J.formMethod)){Jp(C,L,K,ae,G,X.active,W,He,J);return}re.set(C,{routeId:L,path:K}),Zp(C,L,K,ae,G,X.active,W,He,J)}async function Jp(C,L,O,U,W,Z,ne,G,X){no(),re.delete(C);function K(Ie){if(!Ie.route.action&&!Ie.route.lazy){let ar=it(405,{method:X.formMethod,pathname:O,routeId:L});return Wt(C,L,ar,{flushSync:ne}),!0}return!1}if(!Z&&K(U))return;let J=y.fetchers.get(C);an(C,Rv(X,J),{flushSync:ne});let ie=new AbortController,ae=cr(e.history,O,ie.signal,X);if(Z){let Ie=await hs(W,new URL(ae.url).pathname,ae.signal,C);if(Ie.type==="aborted")return;if(Ie.type==="error"){Wt(C,L,Ie.error,{flushSync:ne});return}else if(Ie.matches){if(W=Ie.matches,U=Ci(W,O),K(U))return}else{Wt(C,L,it(404,{pathname:O}),{flushSync:ne});return}}S.set(C,ie);let He=N,fe=(await Zr("action",y,ae,[U],W,C))[U.route.id];if(ae.signal.aborted){S.get(C)===ie&&S.delete(C);return}if(f.v7_fetcherPersist&&me.has(C)){if(Kn(fe)||dt(fe)){an(C,mn(void 0));return}}else{if(Kn(fe))if(S.delete(C),z>He){an(C,mn(void 0));return}else return Y.add(C),an(C,fi(X)),Fn(ae,fe,!1,{fetcherSubmission:X,preventScrollReset:G});if(dt(fe)){Wt(C,L,fe.error);return}}if(kn(fe))throw it(400,{type:"defer-action"});let Pe=y.navigation.location||y.location,lr=cr(e.history,Pe,ie.signal),ei=a||o,qt=y.navigation.state!=="idle"?Hn(ei,y.navigation.location,u):y.matches;se(qt,"Didn't find any matches after fetcher action");let At=++N;$.set(C,At);let so=fi(X,fe.data);y.fetchers.set(C,so);let[ti,$n]=Cd(e.history,y,qt,X,Pe,!1,f.v7_skipActionErrorRevalidation,ee,I,x,me,re,Y,ei,u,[U.route.id,fe]);$n.filter(Ie=>Ie.key!==C).forEach(Ie=>{let ar=Ie.key,uc=y.fetchers.get(ar),lm=fi(void 0,uc?uc.data:void 0);y.fetchers.set(ar,lm),un(ar),Ie.controller&&S.set(ar,Ie.controller)}),we({fetchers:new Map(y.fetchers)});let ps=()=>$n.forEach(Ie=>un(Ie.key));ie.signal.addEventListener("abort",ps);let{loaderResults:ms,fetcherResults:de}=await ec(y,qt,ti,$n,lr);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",ps),$.delete(C),S.delete(C),$n.forEach(Ie=>S.delete(Ie.key));let Le=bs(ms);if(Le)return Fn(lr,Le.result,!1,{preventScrollReset:G});if(Le=bs(de),Le)return Y.add(Le.key),Fn(lr,Le.result,!1,{preventScrollReset:G});let{loaderData:or,errors:ni}=Ld(y,qt,ms,void 0,$n,de,be);if(y.fetchers.has(C)){let Ie=mn(fe.data);y.fetchers.set(C,Ie)}ic(At),y.navigation.state==="loading"&&At>z?(se(b,"Expected pending action"),k&&k.abort(),It(y.navigation.location,{matches:qt,loaderData:or,errors:ni,fetchers:new Map(y.fetchers)})):(we({errors:ni,loaderData:Md(y.loaderData,or,qt,ni),fetchers:new Map(y.fetchers)}),ee=!1)}async function Zp(C,L,O,U,W,Z,ne,G,X){let K=y.fetchers.get(C);an(C,fi(X,K?K.data:void 0),{flushSync:ne});let J=new AbortController,ie=cr(e.history,O,J.signal);if(Z){let fe=await hs(W,new URL(ie.url).pathname,ie.signal,C);if(fe.type==="aborted")return;if(fe.type==="error"){Wt(C,L,fe.error,{flushSync:ne});return}else if(fe.matches)W=fe.matches,U=Ci(W,O);else{Wt(C,L,it(404,{pathname:O}),{flushSync:ne});return}}S.set(C,J);let ae=N,ge=(await Zr("loader",y,ie,[U],W,C))[U.route.id];if(kn(ge)&&(ge=await Uu(ge,ie.signal,!0)||ge),S.get(C)===J&&S.delete(C),!ie.signal.aborted){if(me.has(C)){an(C,mn(void 0));return}if(Kn(ge))if(z>ae){an(C,mn(void 0));return}else{Y.add(C),await Fn(ie,ge,!1,{preventScrollReset:G});return}if(dt(ge)){Wt(C,L,ge.error);return}se(!kn(ge),"Unhandled fetcher deferred data"),an(C,mn(ge.data))}}async function Fn(C,L,O,U){let{submission:W,fetcherSubmission:Z,preventScrollReset:ne,replace:G}=U===void 0?{}:U;L.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let X=L.response.headers.get("Location");se(X,"Expected a Location header on the redirect Response"),X=Rd(X,new URL(C.url),u);let K=Zi(y.location,X,{_isRedirect:!0});if(n){let fe=!1;if(L.response.headers.has("X-Remix-Reload-Document"))fe=!0;else if($u.test(X)){const Pe=e.history.createURL(X);fe=Pe.origin!==t.location.origin||Gr(Pe.pathname,u)==null}if(fe){G?t.location.replace(X):t.location.assign(X);return}}k=null;let J=G===!0||L.response.headers.has("X-Remix-Replace")?Oe.Replace:Oe.Push,{formMethod:ie,formAction:ae,formEncType:He}=y.navigation;!W&&!Z&&ie&&ae&&He&&(W=Dd(y.navigation));let ge=W||Z;if(av.has(L.response.status)&&ge&&Lt(ge.formMethod))await zn(J,K,{submission:Ee({},ge,{formAction:X}),preventScrollReset:ne||A,enableViewTransition:O?R:void 0});else{let fe=Do(K,W);await zn(J,K,{overrideNavigation:fe,fetcherSubmission:Z,preventScrollReset:ne||A,enableViewTransition:O?R:void 0})}}async function Zr(C,L,O,U,W,Z){let ne,G={};try{ne=await gv(c,C,L,O,U,W,Z,s,i)}catch(X){return U.forEach(K=>{G[K.route.id]={type:he.error,error:X}}),G}for(let[X,K]of Object.entries(ne))if(kv(K)){let J=K.result;G[X]={type:he.redirect,response:xv(J,O,X,W,u,f.v7_relativeSplatPath)}}else G[X]=await vv(K);return G}async function ec(C,L,O,U,W){let Z=C.matches,ne=Zr("loader",C,W,O,L,null),G=Promise.all(U.map(async J=>{if(J.matches&&J.match&&J.controller){let ae=(await Zr("loader",C,cr(e.history,J.path,J.controller.signal),[J.match],J.matches,J.key))[J.match.route.id];return{[J.key]:ae}}else return Promise.resolve({[J.key]:{type:he.error,error:it(404,{pathname:J.path})}})})),X=await ne,K=(await G).reduce((J,ie)=>Object.assign(J,ie),{});return await Promise.all([Cv(L,X,W.signal,Z,C.loaderData),_v(L,K,U)]),{loaderResults:X,fetcherResults:K}}function no(){ee=!0,I.push(...io()),re.forEach((C,L)=>{S.has(L)&&x.add(L),un(L)})}function an(C,L,O){O===void 0&&(O={}),y.fetchers.set(C,L),we({fetchers:new Map(y.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function Wt(C,L,O,U){U===void 0&&(U={});let W=Vn(y.matches,L);cs(C),we({errors:{[W.route.id]:O},fetchers:new Map(y.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function tc(C){return ue.set(C,(ue.get(C)||0)+1),me.has(C)&&me.delete(C),y.fetchers.get(C)||uv}function cs(C){let L=y.fetchers.get(C);S.has(C)&&!(L&&L.state==="loading"&&$.has(C))&&un(C),re.delete(C),$.delete(C),Y.delete(C),f.v7_fetcherPersist&&me.delete(C),x.delete(C),y.fetchers.delete(C)}function em(C){let L=(ue.get(C)||0)-1;L<=0?(ue.delete(C),me.add(C),f.v7_fetcherPersist||cs(C)):ue.set(C,L),we({fetchers:new Map(y.fetchers)})}function un(C){let L=S.get(C);L&&(L.abort(),S.delete(C))}function nc(C){for(let L of C){let O=tc(L),U=mn(O.data);y.fetchers.set(L,U)}}function rc(){let C=[],L=!1;for(let O of Y){let U=y.fetchers.get(O);se(U,"Expected fetcher: "+O),U.state==="loading"&&(Y.delete(O),C.push(O),L=!0)}return nc(C),L}function ic(C){let L=[];for(let[O,U]of $)if(U<C){let W=y.fetchers.get(O);se(W,"Expected fetcher: "+O),W.state==="loading"&&(un(O),$.delete(O),L.push(O))}return nc(L),L.length>0}function tm(C,L){let O=y.blockers.get(C)||di;return Je.get(C)!==L&&Je.set(C,L),O}function sc(C){y.blockers.delete(C),Je.delete(C)}function ds(C,L){let O=y.blockers.get(C)||di;se(O.state==="unblocked"&&L.state==="blocked"||O.state==="blocked"&&L.state==="blocked"||O.state==="blocked"&&L.state==="proceeding"||O.state==="blocked"&&L.state==="unblocked"||O.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+L.state);let U=new Map(y.blockers);U.set(C,L),we({blockers:U})}function lc(C){let{currentLocation:L,nextLocation:O,historyAction:U}=C;if(Je.size===0)return;Je.size>1&&Wr(!1,"A router only supports one blocker at a time");let W=Array.from(Je.entries()),[Z,ne]=W[W.length-1],G=y.blockers.get(Z);if(!(G&&G.state==="proceeding")&&ne({currentLocation:L,nextLocation:O,historyAction:U}))return Z}function ro(C){let L=it(404,{pathname:C}),O=a||o,{matches:U,route:W}=bd(O);return io(),{notFoundMatches:U,route:W,error:L}}function io(C){let L=[];return be.forEach((O,U)=>{(!C||C(U))&&(O.cancel(),L.push(U),be.delete(U))}),L}function nm(C,L,O){if(j=C,P=L,_=O||null,!g&&y.navigation===Oo){g=!0;let U=ac(y.location,y.matches);U!=null&&we({restoreScrollPosition:U})}return()=>{j=null,P=null,_=null}}function oc(C,L){return _&&_(C,L.map(U=>$y(U,y.loaderData)))||C.key}function rm(C,L){if(j&&P){let O=oc(C,L);j[O]=P()}}function ac(C,L){if(j){let O=oc(C,L),U=j[O];if(typeof U=="number")return U}return null}function fs(C,L,O){if(d)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:nl(L,O,u,!0)}}else return{active:!0,matches:nl(L,O,u,!0)||[]};return{active:!1,matches:null}}async function hs(C,L,O,U){if(!d)return{type:"success",matches:C};let W=C;for(;;){let Z=a==null,ne=a||o,G=s;try{await d({signal:O,path:L,matches:W,fetcherKey:U,patch:(J,ie)=>{O.aborted||Td(J,ie,ne,G,i)}})}catch(J){return{type:"error",error:J,partialMatches:W}}finally{Z&&!O.aborted&&(o=[...o])}if(O.aborted)return{type:"aborted"};let X=Hn(ne,L,u);if(X)return{type:"success",matches:X};let K=nl(ne,L,u,!0);if(!K||W.length===K.length&&W.every((J,ie)=>J.route.id===K[ie].route.id))return{type:"success",matches:null};W=K}}function im(C){s={},a=Nl(C,i,void 0,s)}function sm(C,L){let O=a==null;Td(C,L,a||o,s,i),O&&(o=[...o],we({}))}return T={get basename(){return u},get future(){return f},get state(){return y},get routes(){return o},get window(){return t},initialize:xe,subscribe:je,enableScrollRestoration:nm,navigate:Ju,fetch:Xp,revalidate:Qp,createHref:C=>e.history.createHref(C),encodeLocation:C=>e.history.encodeLocation(C),getFetcher:tc,deleteFetcher:em,dispose:Ze,getBlocker:tm,deleteBlocker:sc,patchRoutes:sm,_internalFetchControllers:S,_internalActiveDeferreds:be,_internalSetRoutes:im},T}function fv(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Da(e,t,n,r,i,s,o,a){let u,c;if(o){u=[];for(let f of t)if(u.push(f),f.route.id===o){c=f;break}}else u=t,c=t[t.length-1];let d=Xl(i||".",Gl(u,s),Gr(e.pathname,n)||e.pathname,a==="path");if(i==null&&(d.search=e.search,d.hash=e.hash),(i==null||i===""||i===".")&&c){let f=Bu(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(d.search),w=h.getAll("index");h.delete("index"),w.filter(_=>_).forEach(_=>h.append("index",_));let j=h.toString();d.search=j?"?"+j:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Zt([n,d.pathname])),rr(d)}function jd(e,t,n,r){if(!r||!fv(r))return{path:n};if(r.formMethod&&!Ev(r.formMethod))return{path:n,error:it(405,{method:r.formMethod})};let i=()=>({path:n,error:it(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=wp(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Lt(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,j)=>{let[_,P]=j;return""+w+_+"="+P+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Lt(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}se(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=Aa(r.formData),c=r.formData;else if(r.body instanceof FormData)u=Aa(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Pd(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Pd(u)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Lt(d.formMethod))return{path:n,submission:d};let f=ln(n);return t&&f.search&&Bu(f.search)&&u.append("index",""),f.search="?"+u,{path:rr(f),submission:d}}function Ed(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(i=>i.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Cd(e,t,n,r,i,s,o,a,u,c,d,f,h,w,j,_){let P=_?dt(_[1])?_[1].error:_[1].data:void 0,g=e.createURL(t.location),p=e.createURL(i),v=n;s&&t.errors?v=Ed(n,Object.keys(t.errors)[0],!0):_&&dt(_[1])&&(v=Ed(n,_[0]));let M=_?_[1].statusCode:void 0,E=o&&M&&M>=400,T=v.filter((b,A)=>{let{route:k}=b;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return Ia(k,t.loaderData,t.errors);if(hv(t.loaderData,t.matches[A],b)||u.some(D=>D===b.route.id))return!0;let R=t.matches[A],F=b;return _d(b,Ee({currentUrl:g,currentParams:R.params,nextUrl:p,nextParams:F.params},r,{actionResult:P,actionStatus:M,defaultShouldRevalidate:E?!1:a||g.pathname+g.search===p.pathname+p.search||g.search!==p.search||vp(R,F)}))}),y=[];return f.forEach((b,A)=>{if(s||!n.some(B=>B.route.id===b.routeId)||d.has(A))return;let k=Hn(w,b.path,j);if(!k){y.push({key:A,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let R=t.fetchers.get(A),F=Ci(k,b.path),D=!1;h.has(A)?D=!1:c.has(A)?(c.delete(A),D=!0):R&&R.state!=="idle"&&R.data===void 0?D=a:D=_d(F,Ee({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:P,actionStatus:M,defaultShouldRevalidate:E?!1:a})),D&&y.push({key:A,routeId:b.routeId,path:b.path,matches:k,match:F,controller:new AbortController})}),[T,y]}function Ia(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function hv(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function vp(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function _d(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Td(e,t,n,r,i){var s;let o;if(e){let c=r[e];se(c,"No route found to patch children into: routeId = "+e),c.children||(c.children=[]),o=c.children}else o=n;let a=t.filter(c=>!o.some(d=>xp(c,d))),u=Nl(a,i,[e||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...u)}function xp(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(s=>xp(n,s))}):!1}async function pv(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];se(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Wr(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!zy.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ee({},t(i),{lazy:void 0}))}async function mv(e){let{matches:t}=e,n=t.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function gv(e,t,n,r,i,s,o,a,u,c){let d=s.map(w=>w.route.lazy?pv(w.route,u,a):void 0),f=s.map((w,j)=>{let _=d[j],P=i.some(p=>p.route.id===w.route.id);return Ee({},w,{shouldLoad:P,resolve:async p=>(p&&r.method==="GET"&&(w.route.lazy||w.route.loader)&&(P=!0),P?yv(t,r,w,_,p,c):Promise.resolve({type:he.data,result:void 0}))})}),h=await e({matches:f,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return h}async function yv(e,t,n,r,i,s){let o,a,u=c=>{let d,f=new Promise((j,_)=>d=_);a=()=>d(),t.signal.addEventListener("abort",a);let h=j=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:s},...j!==void 0?[j]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(_=>h(_)):h())}}catch(j){return{type:"error",result:j}}})();return Promise.race([w,f])};try{let c=n.route[e];if(r)if(c){let d,[f]=await Promise.all([u(c).catch(h=>{d=h}),r]);if(d!==void 0)throw d;o=f}else if(await r,c=n.route[e],c)o=await u(c);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw it(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:he.data,result:void 0};else if(c)o=await u(c);else{let d=new URL(t.url),f=d.pathname+d.search;throw it(404,{pathname:f})}se(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:he.error,result:c}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function vv(e){let{result:t,type:n}=e;if(Sp(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:he.error,error:h}}return n===he.error?{type:he.error,error:new bl(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:he.data,data:f,statusCode:t.status,headers:t.headers}}if(n===he.error){if(Od(t)){var r,i;if(t.data instanceof Error){var s,o;return{type:he.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:he.error,error:new bl(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:es(t)?t.status:void 0,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:he.error,error:t,statusCode:es(t)?t.status:void 0}}if(jv(t)){var a,u;return{type:he.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((u=t.init)==null?void 0:u.headers)&&new Headers(t.init.headers)}}if(Od(t)){var c,d;return{type:he.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:he.data,data:t}}function xv(e,t,n,r,i,s){let o=e.headers.get("Location");if(se(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!$u.test(o)){let a=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=Da(new URL(t.url),a,i,!0,o,s),e.headers.set("Location",o)}return e}function Rd(e,t,n){if($u.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Gr(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function cr(e,t,n,r){let i=e.createURL(wp(t)).toString(),s={signal:n};if(r&&Lt(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Aa(r.formData):s.body=r.formData}return new Request(i,s)}function Aa(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Pd(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function wv(e,t,n,r,i){let s={},o=null,a,u=!1,c={},d=n&&dt(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,w=t[h];if(se(!Kn(w),"Cannot handle redirect results in processLoaderData"),dt(w)){let j=w.error;d!==void 0&&(j=d,d=void 0),o=o||{};{let _=Vn(e,h);o[_.route.id]==null&&(o[_.route.id]=j)}s[h]=void 0,u||(u=!0,a=es(w.error)?w.error.status:500),w.headers&&(c[h]=w.headers)}else kn(w)?(r.set(h,w.deferredData),s[h]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!u&&(a=w.statusCode),w.headers&&(c[h]=w.headers)):(s[h]=w.data,w.statusCode&&w.statusCode!==200&&!u&&(a=w.statusCode),w.headers&&(c[h]=w.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Ld(e,t,n,r,i,s,o){let{loaderData:a,errors:u}=wv(t,n,r,o);return i.forEach(c=>{let{key:d,match:f,controller:h}=c,w=s[d];if(se(w,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(dt(w)){let j=Vn(e.matches,f==null?void 0:f.route.id);u&&u[j.route.id]||(u=Ee({},u,{[j.route.id]:w.error})),e.fetchers.delete(d)}else if(Kn(w))se(!1,"Unhandled fetcher revalidation redirect");else if(kn(w))se(!1,"Unhandled fetcher deferred data");else{let j=mn(w.data);e.fetchers.set(d,j)}}),{loaderData:a,errors:u}}function Md(e,t,n,r){let i=Ee({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Nd(e){return e?dt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Vn(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function bd(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function it(e,t){let{pathname:n,routeId:r,method:i,type:s,message:o}=t===void 0?{}:t,a="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):e===403?(a="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",u='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new bl(e||500,a,new Error(u),!0)}function bs(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Kn(i))return{key:r,result:i}}}function wp(e){let t=typeof e=="string"?ln(e):e;return rr(Ee({},t,{hash:""}))}function Sv(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function kv(e){return Sp(e.result)&&ov.has(e.result.status)}function kn(e){return e.type===he.deferred}function dt(e){return e.type===he.error}function Kn(e){return(e&&e.type)===he.redirect}function Od(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function jv(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Sp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Ev(e){return lv.has(e.toLowerCase())}function Lt(e){return iv.has(e.toLowerCase())}async function Cv(e,t,n,r,i){let s=Object.entries(t);for(let o=0;o<s.length;o++){let[a,u]=s[o],c=e.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let d=r.find(h=>h.route.id===c.route.id),f=d!=null&&!vp(d,c)&&(i&&i[c.route.id])!==void 0;kn(u)&&f&&await Uu(u,n,!1).then(h=>{h&&(t[a]=h)})}}async function _v(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=t[i];e.find(c=>(c==null?void 0:c.route.id)===s)&&kn(a)&&(se(o,"Expected an AbortController for revalidating fetcher deferred result"),await Uu(a,o.signal,!0).then(c=>{c&&(t[i]=c)}))}}async function Uu(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:he.data,data:e.deferredData.unwrappedData}}catch(i){return{type:he.error,error:i}}return{type:he.data,data:e.deferredData.data}}}function Bu(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ci(e,t){let n=typeof t=="string"?ln(t).search:t.search;if(e[e.length-1].route.index&&Bu(n||""))return e[e.length-1];let r=mp(e);return r[r.length-1]}function Dd(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Do(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Tv(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function fi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Rv(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function mn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Pv(e,t){try{let n=e.sessionStorage.getItem(yp);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function Lv(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(yp,JSON.stringify(n))}catch(r){Wr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ts.apply(this,arguments)}const Jl=m.createContext(null),kp=m.createContext(null),An=m.createContext(null),Zl=m.createContext(null),on=m.createContext({outlet:null,matches:[],isDataRoute:!1}),jp=m.createContext(null);function Mv(e,t){let{relative:n}=t===void 0?{}:t;Xr()||se(!1);let{basename:r,navigator:i}=m.useContext(An),{hash:s,pathname:o,search:a}=_p(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Zt([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Xr(){return m.useContext(Zl)!=null}function as(){return Xr()||se(!1),m.useContext(Zl).location}function Ep(e){m.useContext(An).static||m.useLayoutEffect(e)}function us(){let{isDataRoute:e}=m.useContext(on);return e?Hv():Nv()}function Nv(){Xr()||se(!1);let e=m.useContext(Jl),{basename:t,future:n,navigator:r}=m.useContext(An),{matches:i}=m.useContext(on),{pathname:s}=as(),o=JSON.stringify(Gl(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return Ep(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Xl(c,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Zt([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,s,e])}function Cp(){let{matches:e}=m.useContext(on),t=e[e.length-1];return t?t.params:{}}function _p(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(An),{matches:i}=m.useContext(on),{pathname:s}=as(),o=JSON.stringify(Gl(i,r.v7_relativeSplatPath));return m.useMemo(()=>Xl(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function bv(e,t){return Tp(e,t)}function Tp(e,t,n,r){Xr()||se(!1);let{navigator:i}=m.useContext(An),{matches:s}=m.useContext(on),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=as(),d;if(t){var f;let P=typeof t=="string"?ln(t):t;u==="/"||(f=P.pathname)!=null&&f.startsWith(u)||se(!1),d=P}else d=c;let h=d.pathname||"/",w=h;if(u!=="/"){let P=u.replace(/^\//,"").split("/");w="/"+h.replace(/^\//,"").split("/").slice(P.length).join("/")}let j=Hn(e,{pathname:w}),_=zv(j&&j.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Zt([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:Zt([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return t&&_?m.createElement(Zl.Provider,{value:{location:ts({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Oe.Pop}},_):_}function Ov(){let e=Bv(),t=es(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,null)}const Dv=m.createElement(Ov,null);class Iv extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(on.Provider,{value:this.props.routeContext},m.createElement(jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Av(e){let{routeContext:t,match:n,children:r}=e,i=m.useContext(Jl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(on.Provider,{value:t},r)}function zv(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||se(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:w}=n,j=f.route.loader&&h[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||j){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let w,j=!1,_=null,P=null;n&&(w=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||Dv,u&&(c<0&&h===0?(Vv("route-fallback"),j=!0,P=null):c===h&&(j=!0,P=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),p=()=>{let v;return w?v=_:j?v=P:f.route.Component?v=m.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,m.createElement(Av,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(Iv,{location:n.location,revalidation:n.revalidation,component:_,error:w,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var Rp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rp||{}),Pp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pp||{});function Fv(e){let t=m.useContext(Jl);return t||se(!1),t}function $v(e){let t=m.useContext(kp);return t||se(!1),t}function Uv(e){let t=m.useContext(on);return t||se(!1),t}function Lp(e){let t=Uv(),n=t.matches[t.matches.length-1];return n.route.id||se(!1),n.route.id}function Bv(){var e;let t=m.useContext(jp),n=$v(),r=Lp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Hv(){let{router:e}=Fv(Rp.UseNavigateStable),t=Lp(Pp.UseNavigateStable),n=m.useRef(!1);return Ep(()=>{n.current=!0}),m.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ts({fromRouteId:t},s)))},[e,t])}const Id={};function Vv(e,t,n){Id[e]||(Id[e]=!0)}function Wv(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function qr(e){let{to:t,replace:n,state:r,relative:i}=e;Xr()||se(!1);let{future:s,static:o}=m.useContext(An),{matches:a}=m.useContext(on),{pathname:u}=as(),c=us(),d=Xl(t,Gl(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Me(e){se(!1)}function qv(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Oe.Pop,navigator:s,static:o=!1,future:a}=e;Xr()&&se(!1);let u=t.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:u,navigator:s,static:o,future:ts({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=ln(r));let{pathname:d="/",search:f="",hash:h="",state:w=null,key:j="default"}=r,_=m.useMemo(()=>{let P=Gr(d,u);return P==null?null:{location:{pathname:P,search:f,hash:h,state:w,key:j},navigationType:i}},[u,d,f,h,w,j,i]);return _==null?null:m.createElement(An.Provider,{value:c},m.createElement(Zl.Provider,{children:n,value:_}))}function Qv(e){let{children:t,location:n}=e;return bv(za(t),n)}new Promise(()=>{});function za(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,i)=>{if(!m.isValidElement(r))return;let s=[...t,i];if(r.type===m.Fragment){n.push.apply(n,za(r.props.children,s));return}r.type!==Me&&se(!1),!r.props.index||!r.props.children||se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=za(r.props.children,s)),n.push(o)}),n}function Kv(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:m.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:m.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:m.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(this,arguments)}function Yv(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Gv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Xv(e,t){return e.button===0&&(!t||t==="_self")&&!Gv(e)}const Jv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zv="6";try{window.__reactRouterVersion=Zv}catch{}function ex(e,t){return dv({basename:t==null?void 0:t.basename,future:ns({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Dy({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||tx(),routes:e,mapRouteProperties:Kv,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function tx(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ns({},t,{errors:nx(t.errors)})),t}function nx(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new bl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const rx=m.createContext({isTransitioning:!1}),ix=m.createContext(new Map),sx="startTransition",Ad=km[sx],lx="flushSync",zd=Oy[lx];function ox(e){Ad?Ad(e):e()}function hi(e){zd?zd(e):e()}class ax{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function ux(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=m.useState(n.state),[o,a]=m.useState(),[u,c]=m.useState({isTransitioning:!1}),[d,f]=m.useState(),[h,w]=m.useState(),[j,_]=m.useState(),P=m.useRef(new Map),{v7_startTransition:g}=r||{},p=m.useCallback(b=>{g?ox(b):b()},[g]),v=m.useCallback((b,A)=>{let{deletedFetchers:k,flushSync:R,viewTransitionOpts:F}=A;b.fetchers.forEach((B,ee)=>{B.data!==void 0&&P.current.set(ee,B.data)}),k.forEach(B=>P.current.delete(B));let D=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!F||D){R?hi(()=>s(b)):p(()=>s(b));return}if(R){hi(()=>{h&&(d&&d.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let B=n.window.document.startViewTransition(()=>{hi(()=>s(b))});B.finished.finally(()=>{hi(()=>{f(void 0),w(void 0),a(void 0),c({isTransitioning:!1})})}),hi(()=>w(B));return}h?(d&&d.resolve(),h.skipTransition(),_({state:b,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(a(b),c({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,h,d,P,p]);m.useLayoutEffect(()=>n.subscribe(v),[n,v]),m.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new ax)},[u]),m.useEffect(()=>{if(d&&o&&n.window){let b=o,A=d.promise,k=n.window.document.startViewTransition(async()=>{p(()=>s(b)),await A});k.finished.finally(()=>{f(void 0),w(void 0),a(void 0),c({isTransitioning:!1})}),w(k)}},[p,o,d,n.window]),m.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,h,i.location,o]),m.useEffect(()=>{!u.isTransitioning&&j&&(a(j.state),c({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}),_(void 0))},[u.isTransitioning,j]),m.useEffect(()=>{},[]);let M=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:b=>n.navigate(b),push:(b,A,k)=>n.navigate(b,{state:A,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(b,A,k)=>n.navigate(b,{replace:!0,state:A,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),E=n.basename||"/",T=m.useMemo(()=>({router:n,navigator:M,static:!1,basename:E}),[n,M,E]),y=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.useEffect(()=>Wv(r,n.future),[r,n.future]),m.createElement(m.Fragment,null,m.createElement(Jl.Provider,{value:T},m.createElement(kp.Provider,{value:i},m.createElement(ix.Provider,{value:P.current},m.createElement(rx.Provider,{value:u},m.createElement(qv,{basename:E,location:i.location,navigationType:i.historyAction,navigator:M,future:y},i.initialized||n.future.v7_partialHydration?m.createElement(cx,{routes:n.routes,future:n.future,state:i}):t))))),null)}const cx=m.memo(dx);function dx(e){let{routes:t,future:n,state:r}=e;return Tp(t,void 0,r,n)}const fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=m.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=Yv(t,Jv),{basename:w}=m.useContext(An),j,_=!1;if(typeof c=="string"&&hx.test(c)&&(j=c,fx))try{let v=new URL(window.location.href),M=c.startsWith("//")?new URL(v.protocol+c):new URL(c),E=Gr(M.pathname,w);M.origin===v.origin&&E!=null?c=E+M.search+M.hash:_=!0}catch{}let P=Mv(c,{relative:i}),g=px(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:f});function p(v){r&&r(v),v.defaultPrevented||g(v)}return m.createElement("a",ns({},h,{href:j||P,onClick:_||s?r:p,ref:n,target:u}))});var Fd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fd||(Fd={}));var $d;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($d||($d={}));function px(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=t===void 0?{}:t,u=us(),c=as(),d=_p(e,{relative:o});return m.useCallback(f=>{if(Xv(f,n)){f.preventDefault();let h=r!==void 0?r:rr(c)===rr(d);u(e,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,d,r,i,n,e,s,o,a])}const Hu="/api";function mx(e,t=!0){const n={};return t&&(n["Content-Type"]="application/json"),e&&(n.Authorization=`Bearer ${e}`),n}async function te(e,{method:t="GET",body:n,token:r,isJson:i=!0}={}){const s=await fetch(`${Hu}${e}`,{method:t,headers:mx(r,i),body:n&&i?JSON.stringify(n):n}),a=(s.headers.get("content-type")||"").includes("application/json")?await s.json():await s.text();if(!s.ok){let u="Request failed";a&&(typeof a=="string"?u=a:a.error?typeof a.error=="string"?u=a.error:a.error.message&&(u=a.error.message):a.message&&(u=a.message));const c=new Error(u);throw c.status=s.status,c.payload=a,c}return a}const q={login:(e,t)=>te("/auth/login",{method:"POST",body:{email:e,password:t}}),signup:e=>te("/auth/signup",{method:"POST",body:e}),me:e=>te("/auth/me",{token:e}),getTrucks:()=>te("/trucks"),getTruck:e=>te(`/trucks/${e}`),createTruck:(e,t)=>te("/trucks",{method:"POST",body:t,token:e}),updateTruck:(e,t,n)=>te(`/trucks/${t}`,{method:"PUT",body:n,token:e}),deactivateTruck:(e,t)=>te(`/trucks/${t}/deactivate`,{method:"PATCH",token:e}),getManagedTrucks:e=>te("/trucks/managed",{token:e}),assignManager:(e,t,n)=>te(`/trucks/${t}/assign-manager`,{method:"PATCH",body:{managerId:n},token:e}),unassignManager:(e,t)=>te(`/trucks/${t}/unassign-manager`,{method:"PATCH",token:e}),getTruckStaff:(e,t)=>te(`/trucks/${t}/staff`,{token:e}),assignStaff:(e,t,n)=>te(`/trucks/${t}/staff`,{method:"POST",body:{userId:n},token:e}),unassignStaff:(e,t,n)=>te(`/trucks/${t}/staff/${n}`,{method:"DELETE",token:e}),updateTruckStatusLocation:(e,t,n)=>te(`/trucks/${t}/status-location`,{method:"PATCH",body:n,token:e}),deleteTruck:(e,t)=>te(`/trucks/${t}`,{method:"DELETE",token:e}),getMenuItems:(e,{group:t}={})=>{const n=t?`?group=${encodeURIComponent(t)}`:"";return te(`/menu/truck/${e}${n}`)},addMenuItem:(e,t,n)=>te(`/menu/truck/${t}`,{method:"POST",body:n,token:e}),updateMenuItem:(e,t,n)=>te(`/menu/${t}`,{method:"PUT",body:n,token:e}),deleteMenuItem:(e,t)=>te(`/menu/${t}`,{method:"DELETE",token:e}),toggleMenuAvailability:(e,t)=>te(`/menu/${t}/toggle`,{method:"PATCH",token:e}),updateMenuStock:(e,t,n)=>te(`/menu/${t}/stock`,{method:"PATCH",body:n,token:e}),cleanupOrphans:e=>te("/admin/cleanup-orphans",{method:"POST",token:e}),createOrder:(e,t)=>te("/orders",{method:"POST",body:t,token:e}),getOrders:e=>te("/orders",{token:e}),getOrder:(e,t)=>te(`/orders/${t}`,{token:e}),updateOrderStatus:(e,t,n)=>te(`/orders/${t}/status`,{method:"PATCH",body:{status:n},token:e}),createReservation:(e,t)=>te("/reservations",{method:"POST",body:t,token:e}),getReservations:(e,t={})=>{const n=new URLSearchParams(t).toString();return te(`/reservations${n?`?${n}`:""}`,{token:e})},updateReservationStatus:(e,t,n)=>te(`/reservations/${t}/status`,{method:"PATCH",body:{status:n},token:e}),cancelReservation:(e,t)=>te(`/reservations/${t}/cancel`,{method:"PATCH",token:e}),createManager:(e,t)=>te("/users/managers",{method:"POST",body:t,token:e}),getManagers:(e,{includeInactive:t=!1}={})=>te(`/users/managers${t?"?includeInactive=true":""}`,{token:e}),getManagersOverview:e=>te("/users/managers/overview",{token:e}),getManagersHierarchy:(e,{includeInactive:t=!1}={})=>te(`/users/managers/hierarchy${t?"?includeInactive=true":""}`,{token:e}),deleteManager:(e,t)=>te(`/users/managers/${t}`,{method:"DELETE",token:e}),reactivateManager:(e,t)=>te(`/users/managers/${t}/reactivate`,{method:"PATCH",token:e}),createStaff:(e,t)=>te("/users/staff",{method:"POST",body:t,token:e}),listStaff:e=>te("/users/staff",{token:e}),updateStaff:(e,t,n)=>te(`/users/staff/${t}`,{method:"PUT",body:n,token:e}),deactivateStaff:(e,t)=>te(`/users/staff/${t}/deactivate`,{method:"PATCH",token:e}),reactivateStaff:(e,t)=>te(`/users/staff/${t}/reactivate`,{method:"PATCH",token:e}),assignStaffToTruck:(e,t,n)=>te(`/users/staff/${t}/assign`,{method:"PATCH",body:{truckId:n},token:e}),unassignStaffFromTruck:(e,t)=>te(`/users/staff/${t}/unassign`,{method:"PATCH",token:e}),deleteStaff:(e,t)=>te(`/users/staff/${t}`,{method:"DELETE",token:e})},dr={listStaff:e=>te("/users/staff",{token:e}),assignStaffToManagedTruck:(e,t,n)=>te(`/trucks/${t}/staff`,{method:"POST",body:{userId:n},token:e}),unassignStaffFromManagedTruck:(e,t,n)=>te(`/trucks/${t}/staff/${n}`,{method:"DELETE",token:e}),updateStaffLimited:(e,t,n)=>te(`/users/staff/${t}/manager-update`,{method:"PATCH",body:n,token:e}),getManagedTrucks:e=>te("/trucks/managed",{token:e}),reclaimUnassigned:e=>te("/users/staff/reclaim",{token:e})},Mp=m.createContext(null);function gx({children:e}){const[t,n]=m.useState(()=>localStorage.getItem("sft_token")||null),[r,i]=m.useState(()=>{const u=localStorage.getItem("sft_user");return u?JSON.parse(u):null});function s(u,c){n(u),i(c),localStorage.setItem("sft_token",u),localStorage.setItem("sft_user",JSON.stringify(c))}function o(){n(null),i(null),localStorage.removeItem("sft_token"),localStorage.removeItem("sft_user")}const a={token:t,user:r,login:s,logout:o};return l.jsx(Mp.Provider,{value:a,children:e})}function ve(){return m.useContext(Mp)}function yx(){const{login:e}=ve(),t=us(),[n,r]=m.useState(""),[i,s]=m.useState(""),[o,a]=m.useState(!1),[u,c]=m.useState(null);async function d(f){f.preventDefault(),c(null),a(!0);try{const h=await q.login(n,i);if(h.success){e(h.data.token,h.data.user);const w=h.data.user.role;t({admin:"/admin",manager:"/manager",staff:"/staff",customer:"/customer"}[w]||"/")}else c("Login failed")}catch(h){c(h.message)}finally{a(!1)}}return l.jsxs("div",{style:{maxWidth:360,margin:"60px auto",fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Login"}),l.jsxs("form",{onSubmit:d,style:{display:"flex",flexDirection:"column",gap:12},children:[l.jsx("input",{placeholder:"Email",type:"email",value:n,onChange:f=>r(f.target.value),required:!0}),l.jsx("input",{placeholder:"Password",type:"password",value:i,onChange:f=>s(f.target.value),required:!0}),l.jsx("button",{disabled:o,children:o?"Logging in...":"Login"}),u&&l.jsx("div",{style:{color:"red"},children:u})]})]})}function vx(){const{login:e}=ve(),t=us(),[n,r]=m.useState({name:"",email:"",password:""}),[i,s]=m.useState(!1),[o,a]=m.useState(null);function u(d){const{name:f,value:h}=d.target;r(w=>({...w,[f]:h}))}async function c(d){d.preventDefault(),a(null),s(!0);try{const f=await q.signup(n);f.success?(e(f.data.token,f.data.user),t("/trucks")):a("Signup failed")}catch(f){a(f.message)}finally{s(!1)}}return l.jsxs("div",{style:{maxWidth:360,margin:"60px auto",fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Sign Up"}),l.jsxs("form",{onSubmit:c,style:{display:"flex",flexDirection:"column",gap:12},children:[l.jsx("input",{name:"name",placeholder:"Name",value:n.name,onChange:u}),l.jsx("input",{name:"email",type:"email",placeholder:"Email",value:n.email,onChange:u,required:!0}),l.jsx("input",{name:"password",type:"password",placeholder:"Password",value:n.password,onChange:u,required:!0}),l.jsx("button",{disabled:i,children:i?"Creating...":"Create Account"}),o&&l.jsx("div",{style:{color:"red"},children:o}),l.jsxs("div",{style:{fontSize:12},children:["Already have an account? ",l.jsx("a",{href:"/login",children:"Login"})]})]})]})}function Vu({lat:e,lng:t,zoom:n=15,height:r=180,rounded:i=!0,showOpenInMaps:s=!0}){if(typeof e!="number"||typeof t!="number")return null;const o=`https://www.google.com/maps?q=${encodeURIComponent(e)},${encodeURIComponent(t)}&z=${encodeURIComponent(n)}&output=embed`,a=`https://www.google.com/maps?q=${encodeURIComponent(e)},${encodeURIComponent(t)}`;return l.jsxs("div",{style:{marginTop:8},children:[l.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:i?8:0,overflow:"hidden"},children:l.jsx("iframe",{title:`map-${e}-${t}`,src:o,width:"100%",height:r,style:{border:0,display:"block"},loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"})}),s&&l.jsx("a",{href:a,target:"_blank",rel:"noreferrer",style:{fontSize:12,opacity:.8,display:"inline-block",marginTop:4},children:"Open in Google Maps"})]})}const Vt=Object.create(null);Vt.open="0";Vt.close="1";Vt.ping="2";Vt.pong="3";Vt.message="4";Vt.upgrade="5";Vt.noop="6";const rl=Object.create(null);Object.keys(Vt).forEach(e=>{rl[Vt[e]]=e});const Fa={type:"error",data:"parser error"},Np=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",bp=typeof ArrayBuffer=="function",Op=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Wu=({type:e,data:t},n,r)=>Np&&t instanceof Blob?n?r(t):Ud(t,r):bp&&(t instanceof ArrayBuffer||Op(t))?n?r(t):Ud(new Blob([t]),r):r(Vt[e]+(t||"")),Ud=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Bd(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Io;function xx(e,t){if(Np&&e.data instanceof Blob)return e.data.arrayBuffer().then(Bd).then(t);if(bp&&(e.data instanceof ArrayBuffer||Op(e.data)))return t(Bd(e.data));Wu(e,!1,n=>{Io||(Io=new TextEncoder),t(Io.encode(n))})}const Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_i=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Hd.length;e++)_i[Hd.charCodeAt(e)]=e;const wx=e=>{let t=e.length*.75,n=e.length,r,i=0,s,o,a,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(r=0;r<n;r+=4)s=_i[e.charCodeAt(r)],o=_i[e.charCodeAt(r+1)],a=_i[e.charCodeAt(r+2)],u=_i[e.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|u&63;return c},Sx=typeof ArrayBuffer=="function",qu=(e,t)=>{if(typeof e!="string")return{type:"message",data:Dp(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:kx(e.substring(1),t)}:rl[n]?e.length>1?{type:rl[n],data:e.substring(1)}:{type:rl[n]}:Fa},kx=(e,t)=>{if(Sx){const n=wx(e);return Dp(n,t)}else return{base64:!0,data:e}},Dp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Ip="",jx=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,o)=>{Wu(s,!1,a=>{r[o]=a,++i===n&&t(r.join(Ip))})})},Ex=(e,t)=>{const n=e.split(Ip),r=[];for(let i=0;i<n.length;i++){const s=qu(n[i],t);if(r.push(s),s.type==="error")break}return r};function Cx(){return new TransformStream({transform(e,t){xx(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Ao;function Os(e){return e.reduce((t,n)=>t+n.length,0)}function Ds(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function _x(e,t){Ao||(Ao=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Os(n)<1)break;const u=Ds(n,1);s=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Os(n)<2)break;const u=Ds(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Os(n)<8)break;const u=Ds(n,8),c=new DataView(u.buffer,u.byteOffset,u.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(Fa);break}i=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Os(n)<i)break;const u=Ds(n,i);a.enqueue(qu(s?u:Ao.decode(u),t)),r=0}if(i===0||i>e){a.enqueue(Fa);break}}}})}const Ap=4;function ze(e){if(e)return Tx(e)}function Tx(e){for(var t in ze.prototype)e[t]=ze.prototype[t];return e}ze.prototype.on=ze.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ze.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ze.prototype.off=ze.prototype.removeListener=ze.prototype.removeAllListeners=ze.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ze.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};ze.prototype.emitReserved=ze.prototype.emit;ze.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ze.prototype.hasListeners=function(e){return!!this.listeners(e).length};const eo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Rx="arraybuffer";function zp(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Px=xt.setTimeout,Lx=xt.clearTimeout;function to(e,t){t.useNativeTimers?(e.setTimeoutFn=Px.bind(xt),e.clearTimeoutFn=Lx.bind(xt)):(e.setTimeoutFn=xt.setTimeout.bind(xt),e.clearTimeoutFn=xt.clearTimeout.bind(xt))}const Mx=1.33;function Nx(e){return typeof e=="string"?bx(e):Math.ceil((e.byteLength||e.size)*Mx)}function bx(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Fp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ox(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Dx(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class Ix extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Qu extends ze{constructor(t){super(),this.writable=!1,to(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Ix(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=qu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Ox(t);return n.length?"?"+n:""}}class Ax extends Qu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Ex(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,jx(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Fp()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let $p=!1;try{$p=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const zx=$p;function Fx(){}class $x extends Ax{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let Ir=class il extends ze{constructor(t,n,r){super(),this.createRequest=t,to(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=zp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=il.requestsCount++,il.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Fx,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete il.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ir.requestsCount=0;Ir.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Vd);else if(typeof addEventListener=="function"){const e="onpagehide"in xt?"pagehide":"unload";addEventListener(e,Vd,!1)}}function Vd(){for(let e in Ir.requests)Ir.requests.hasOwnProperty(e)&&Ir.requests[e].abort()}const Ux=function(){const e=Up({xdomain:!1});return e&&e.responseType!==null}();class Bx extends $x{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Ux&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ir(Up,this.uri(),t)}}function Up(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||zx))return new XMLHttpRequest}catch{}if(!t)try{return new xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Bp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Hx extends Qu{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Bp?{}:zp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Wu(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&eo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Fp()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const zo=xt.WebSocket||xt.MozWebSocket;class Vx extends Hx{createSocket(t,n,r){return Bp?new zo(t,n,r):n?new zo(t,n):new zo(t)}doWrite(t,n){this.ws.send(n)}}class Wx extends Qu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=_x(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=Cx();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:u})=>{a||(this.onPacket(u),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&eo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const qx={websocket:Vx,webtransport:Wx,polling:Bx},Qx=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Kx=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $a(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Qx.exec(e||""),s={},o=14;for(;o--;)s[Kx[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Yx(s,s.path),s.queryKey=Gx(s,s.query),s}function Yx(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Gx(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const Ua=typeof addEventListener=="function"&&typeof removeEventListener=="function",sl=[];Ua&&addEventListener("offline",()=>{sl.forEach(e=>e())},!1);class Mn extends ze{constructor(t,n){if(super(),this.binaryType=Rx,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=$a(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=$a(n.host).host);to(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Dx(this.opts.query)),Ua&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},sl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Ap,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Mn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Mn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Nx(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,eo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Mn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ua&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=sl.indexOf(this._offlineEventListener);r!==-1&&sl.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Mn.protocol=Ap;class Xx extends Mn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Mn.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Mn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,s(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function u(){o("socket closed")}function c(f){n&&f.name!==n.name&&s()}const d=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",u),this.off("upgrading",c)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Jx=class extends Xx{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>qx[i]).filter(i=>!!i)),super(t,r)}};function Zx(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=$a(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const e0=typeof ArrayBuffer=="function",t0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Hp=Object.prototype.toString,n0=typeof Blob=="function"||typeof Blob<"u"&&Hp.call(Blob)==="[object BlobConstructor]",r0=typeof File=="function"||typeof File<"u"&&Hp.call(File)==="[object FileConstructor]";function Ku(e){return e0&&(e instanceof ArrayBuffer||t0(e))||n0&&e instanceof Blob||r0&&e instanceof File}function ll(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(ll(e[n]))return!0;return!1}if(Ku(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ll(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ll(e[n]))return!0;return!1}function i0(e){const t=[],n=e.data,r=e;return r.data=Ba(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ba(e,t){if(!e)return e;if(Ku(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ba(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ba(e[r],t));return n}return e}function s0(e,t){return e.data=Ha(e.data,t),delete e.attachments,e}function Ha(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ha(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ha(e[n],t));return e}const l0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],o0=5;var oe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(oe||(oe={}));class a0{constructor(t){this.replacer=t}encode(t){return(t.type===oe.EVENT||t.type===oe.ACK)&&ll(t)?this.encodeAsBinary({type:t.type===oe.EVENT?oe.BINARY_EVENT:oe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===oe.BINARY_EVENT||t.type===oe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=i0(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Wd(e){return Object.prototype.toString.call(e)==="[object Object]"}class Yu extends ze{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===oe.BINARY_EVENT;r||n.type===oe.BINARY_ACK?(n.type=r?oe.EVENT:oe.ACK,this.reconstructor=new u0(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ku(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(oe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===oe.BINARY_EVENT||r.type===oe.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(Yu.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case oe.CONNECT:return Wd(n);case oe.DISCONNECT:return n===void 0;case oe.CONNECT_ERROR:return typeof n=="string"||Wd(n);case oe.EVENT:case oe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&l0.indexOf(n[0])===-1);case oe.ACK:case oe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class u0{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=s0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const c0=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Yu,Encoder:a0,get PacketType(){return oe},protocol:o0},Symbol.toStringTag,{value:"Module"}));function Mt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const d0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Vp extends ze{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Mt(t,"open",this.onopen.bind(this)),Mt(t,"packet",this.onpacket.bind(this)),Mt(t,"error",this.onerror.bind(this)),Mt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,s;if(d0.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:oe.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),o.id=d}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:oe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case oe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case oe.EVENT:case oe.BINARY_EVENT:this.onevent(t);break;case oe.ACK:case oe.BINARY_ACK:this.onack(t);break;case oe.DISCONNECT:this.ondisconnect();break;case oe.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:oe.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Jr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Jr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Jr.prototype.reset=function(){this.attempts=0};Jr.prototype.setMin=function(e){this.ms=e};Jr.prototype.setMax=function(e){this.max=e};Jr.prototype.setJitter=function(e){this.jitter=e};class Va extends ze{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,to(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Jr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||c0;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Jx(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Mt(n,"open",function(){r.onopen(),t&&t()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Mt(n,"error",s);if(this._timeout!==!1){const a=this._timeout,u=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Mt(t,"ping",this.onping.bind(this)),Mt(t,"data",this.ondata.bind(this)),Mt(t,"error",this.onerror.bind(this)),Mt(t,"close",this.onclose.bind(this)),Mt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){eo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Vp(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const pi={};function ol(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Zx(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=pi[i]&&s in pi[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let u;return a?u=new Va(r,t):(pi[i]||(pi[i]=new Va(r,t)),u=pi[i]),n.query&&!t.query&&(t.query=n.queryKey),u.socket(n.path,t)}Object.assign(ol,{Manager:Va,Socket:Vp,io:ol,connect:ol});let Is=null;function Gu(e){if(Is)return Is;const t=window.location.origin;return Is=ol(t,{path:"/socket.io",autoConnect:!0,transports:["websocket"],auth:{token:e}}),Is}function f0(){const{token:e,user:t}=ve(),[n,r]=m.useState([]),[i,s]=m.useState(!0),[o,a]=m.useState(null),[u,c]=m.useState(!1),[d,f]=m.useState({name:"",description:"",managerId:""}),[h,w]=m.useState(null),[j,_]=m.useState([]);if(m.useEffect(()=>{let E=!0;return(async()=>{try{const T=await q.getTrucks();if(T.success&&E&&r(T.data),e&&(t==null?void 0:t.role)==="admin")try{const y=await q.getManagers(e);y.success&&E&&_(y.data)}catch{}}catch(T){E&&a(T.message)}finally{E&&s(!1)}})(),()=>{E=!1}},[e,t]),m.useEffect(()=>{const E=Gu(e),T=new Set;(n||[]).forEach(b=>T.add(`truck:${b.id||b._id}`)),T.forEach(b=>E.emit("subscribe",{room:b}));const y=({truckId:b,liveLocation:A})=>{r(k=>k.map(R=>R.id===b||R._id===b?{...R,liveLocation:A}:R))};return E.on("truck:location",y),()=>{try{T.forEach(b=>E.emit("unsubscribe",{room:b})),E.off("truck:location",y)}catch{}}},[e,n.map(E=>E.id||E._id).join(",")]),i)return l.jsx("p",{style:{padding:20},children:"Loading trucks..."});if(o)return l.jsx("p",{style:{color:"red",padding:20},children:o});async function P(E){E.preventDefault(),c(!0),a(null);try{const T={name:d.name,description:d.description};t.role==="admin"&&d.managerId&&(T.managerId=d.managerId);const y=await q.createTruck(e,T);y.success&&(r(b=>[...b,y.data]),f({name:"",description:"",managerId:""}))}catch(T){a(T.message)}finally{c(!1)}}async function g(E,T){if(T){w(E.id||E._id);try{const y=await q.assignManager(e,E.id||E._id,T);y.success&&r(b=>b.map(A=>(A.id||A._id)===(E.id||E._id)?{...A,manager:y.data.manager}:A))}catch(y){a(y.message)}finally{w(null)}}}async function p(E){w(E.id||E._id);try{(await q.unassignManager(e,E.id||E._id)).success&&r(y=>y.map(b=>(b.id||b._id)===(E.id||E._id)?{...b,manager:null}:b))}catch(T){a(T.message)}finally{w(null)}}async function v(E,T){w(E.id||E._id);try{const y=await q.updateTruckStatusLocation(e,E.id||E._id,{status:T});y.success&&r(b=>b.map(A=>(A.id||A._id)===(E.id||E._id)?{...A,status:y.data.status}:A))}catch(y){a(y.message)}finally{w(null)}}async function M(E){if(!(!e||t.role!=="admin")&&window.confirm(`Delete truck "${E.name}"? This will remove its menu items and unassign its staff.`)){w(E.id||E._id);try{(await q.deleteTruck(e,E.id||E._id)).success&&r(y=>y.filter(b=>(b.id||b._id)!==(E.id||E._id)))}catch(T){a(T.message)}finally{w(null)}}}return l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Food Trucks"}),e&&["admin","manager"].includes(t.role)&&l.jsxs("form",{onSubmit:P,style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:20},children:[l.jsx("input",{placeholder:"Name",value:d.name,onChange:E=>f(T=>({...T,name:E.target.value})),required:!0}),l.jsx("input",{placeholder:"Description",value:d.description,onChange:E=>f(T=>({...T,description:E.target.value}))}),t.role==="admin"&&l.jsxs("select",{value:d.managerId,onChange:E=>f(T=>({...T,managerId:E.target.value})),required:!0,children:[l.jsx("option",{value:"",children:"Select Manager"}),j.map(E=>l.jsx("option",{value:E.id,children:E.email},E.id))]}),l.jsx("button",{disabled:u,children:u?"Creating...":"Create Truck"})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:fr,children:"Name"}),l.jsx("th",{style:fr,children:"Status"}),l.jsx("th",{style:fr,children:"Live Location"}),e&&t.role!=="customer"&&l.jsx("th",{style:fr,children:"Manager"}),e&&t.role!=="customer"&&l.jsx("th",{style:fr,children:"Staff Count"}),e&&t.role==="admin"&&l.jsx("th",{style:fr,children:"Actions"})]})}),l.jsx("tbody",{children:n.map(E=>l.jsxs("tr",{style:{borderTop:"1px solid #eee"},children:[l.jsx("td",{style:hr,children:l.jsx(Yt,{to:`/trucks/${E.id||E._id}`,children:E.name})}),l.jsx("td",{style:hr,children:E.status}),l.jsx("td",{style:hr,children:(()=>{const T=E.liveLocation,y=E.location,b=typeof(T==null?void 0:T.lat)=="number"?T.lat:typeof(y==null?void 0:y.lat)=="number"?y.lat:null,A=typeof(T==null?void 0:T.lng)=="number"?T.lng:typeof(y==null?void 0:y.lng)=="number"?y.lng:null;return b!==null&&A!==null?l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:4},children:[`${b.toFixed(3)}, ${A.toFixed(3)}`," "," ",l.jsx("a",{href:`https://www.google.com/maps?q=${encodeURIComponent(b)},${encodeURIComponent(A)}`,target:"_blank",rel:"noreferrer",children:"Directions"})]}),l.jsx(Vu,{lat:b,lng:A,height:120})]}):l.jsx("span",{style:{opacity:.5},children:"No live location"})})()}),e&&t.role!=="customer"&&l.jsx("td",{style:hr,children:E.manager?E.manager.email||E.manager.name:l.jsx("em",{style:{opacity:.6},children:"Unassigned"})}),e&&t.role!=="customer"&&l.jsx("td",{style:hr,children:E.staffCount??""}),e&&t.role==="admin"&&l.jsx("td",{style:hr,children:l.jsxs("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:[!E.manager&&j.length>0&&l.jsxs("select",{onChange:T=>g(E,T.target.value),defaultValue:"",children:[l.jsx("option",{value:"",disabled:!0,children:"Assign mgr"}),j.map(T=>l.jsx("option",{value:T.id,children:T.email},T.id))]}),E.manager&&l.jsx("button",{onClick:()=>p(E),disabled:h===E.id,children:"Unassign"}),l.jsx("button",{onClick:()=>v(E,"active"),disabled:h===E.id||E.status==="active",children:"Active"}),l.jsx("button",{onClick:()=>v(E,"offline"),disabled:h===E.id||E.status==="offline",children:"Offline"}),l.jsx("button",{onClick:()=>M(E),disabled:h===E.id,style:{background:"#b91c1c",color:"#fff"},children:"Delete"})]})})]},E.id||E._id))})]})})]})}const fr={textAlign:"left",padding:6,background:"#f5f5f5",fontSize:12},hr={padding:6,fontSize:13};function Xn(e){const t=Number(e);if(Number.isNaN(t))return"";try{return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}catch{return` ${t.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`}}function Wp(e){return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}}async function As(e,t){var i;const n=await fetch(`${Hu}${e}`,{headers:Wp(t)}),r=await n.json();if(!n.ok)throw new Error(((i=r==null?void 0:r.error)==null?void 0:i.message)||(r==null?void 0:r.message)||"Request failed");return r}async function h0(e,t,n){var s;const r=await fetch(`${Hu}${e}`,{method:"POST",headers:Wp(n),body:JSON.stringify(t||{})}),i=await r.json();if(!r.ok)throw new Error(((s=i==null?void 0:i.error)==null?void 0:s.message)||(i==null?void 0:i.message)||"Request failed");return i}const Ar={getOrderRoom:(e,t)=>As(`/chats/order/${t}/room`,e),getTruckRoom:(e,t)=>As(`/chats/truck/${t}/room`,e),getSupportRoom:e=>As("/chats/support/room",e),listMessages:(e,t)=>As(`/chats/rooms/${t}/messages`,e),postMessage:(e,t,n)=>h0(`/chats/rooms/${t}/messages`,{text:n},e)};function Xu({roomResolver:e,title:t="Chat",open:n,onClose:r}){const{token:i,user:s}=ve(),[o,a]=m.useState(null),[u,c]=m.useState([]),[d,f]=m.useState(""),[h,w]=m.useState(!1),[j,_]=m.useState(null),P=m.useRef(null),g=m.useRef(null);m.useEffect(()=>{async function v(){if(n){w(!0),_(null);try{const M=await e(i);M!=null&&M.success?a(M.data):a(M);const E=M!=null&&M.data?M.data.id||M.data._id:M.id||M._id,T=await Ar.listMessages(i,E);c(T.data||T),P.current&&clearInterval(P.current),P.current=setInterval(async()=>{try{const y=await Ar.listMessages(i,E);c(y.data||y)}catch{}},3e3)}catch(M){_(M.message)}finally{w(!1)}}}return v(),()=>{P.current&&clearInterval(P.current)}},[n,i,e]),m.useEffect(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[u,n]);async function p(){if(!(!d.trim()||!o))try{const v=o.id||o._id,M=await Ar.postMessage(i,v,d.trim()),E=M.data||M;c(T=>[...T,E]),f("")}catch(v){alert(v.message)}}return n?l.jsxs("div",{style:{position:"fixed",right:0,top:0,bottom:0,width:360,background:"#fff",borderLeft:"1px solid #ddd",boxShadow:"-8px 0 20px rgba(0,0,0,0.06)",display:"flex",flexDirection:"column",zIndex:9999},children:[l.jsxs("div",{style:{padding:"10px 12px",borderBottom:"1px solid #eee",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("strong",{children:t}),l.jsx("button",{onClick:r,style:{cursor:"pointer"},children:""})]}),h?l.jsx("div",{style:{padding:12},children:"Loading"}):j?l.jsxs("div",{style:{padding:12,color:"#b00020"},children:["Error: ",j]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:g,style:{flex:1,overflowY:"auto",padding:12,fontSize:14},children:u.map(v=>l.jsxs("div",{style:{marginBottom:8,display:"flex",flexDirection:"column",alignItems:v.sender===(s==null?void 0:s.id)?"flex-end":"flex-start"},children:[l.jsx("div",{style:{background:v.sender===(s==null?void 0:s.id)?"#e7f5ff":"#f5f5f5",padding:"6px 8px",borderRadius:6,maxWidth:260},children:l.jsx("div",{style:{whiteSpace:"pre-wrap"},children:v.text})}),l.jsx("div",{style:{fontSize:10,opacity:.6,marginTop:2},children:new Date(v.createdAt).toLocaleTimeString()})]},v._id||v.id))}),l.jsxs("div",{style:{padding:10,borderTop:"1px solid #eee",display:"flex",gap:6},children:[l.jsx("input",{value:d,onChange:v=>f(v.target.value),onKeyDown:v=>{v.key==="Enter"&&p()},placeholder:"Type a message",style:{flex:1}}),l.jsx("button",{onClick:p,children:"Send"})]})]})]}):null}function p0(){var B,ee,I,x;const{id:e}=Cp(),{token:t,user:n}=ve(),[r,i]=m.useState(null),[s,o]=m.useState([]),[a,u]=m.useState(null),[c,d]=m.useState(!0),[f,h]=m.useState(!1),[w,j]=m.useState(!1),[_,P]=m.useState(null),[g,p]=m.useState(!1),[v,M]=m.useState({lat:"",lng:""}),E=m.useRef(null);if(m.useEffect(()=>{let S=!0;return Promise.all([q.getTruck(e),q.getMenuItems(e)]).then(([N,z])=>{S&&(N.success&&i(N.data),z.success&&o(z.data))}).catch(N=>u(N.message)).finally(()=>d(!1)),()=>{S=!1}},[e]),m.useEffect(()=>{if(!t)return;const S=Gu(t),N=`truck:${e}`,z=$=>{($==null?void 0:$.truckId)===((r==null?void 0:r.id)||(r==null?void 0:r._id)||e)&&i(Y=>({...Y||{},liveLocation:$.liveLocation}))};return S.emit("subscribe",{room:N}),S.on("truck:location",z),()=>{try{S.emit("unsubscribe",{room:N}),S.off("truck:location",z)}catch{}}},[e,t,r==null?void 0:r.id,r==null?void 0:r._id]),m.useEffect(()=>()=>{E.current&&navigator.geolocation&&navigator.geolocation.clearWatch(E.current)},[]),m.useEffect(()=>{var z,$,Y,re;const S=((z=r==null?void 0:r.liveLocation)==null?void 0:z.lat)??(($=r==null?void 0:r.location)==null?void 0:$.lat),N=((Y=r==null?void 0:r.liveLocation)==null?void 0:Y.lng)??((re=r==null?void 0:r.location)==null?void 0:re.lng);M({lat:typeof S=="number"?String(S):"",lng:typeof N=="number"?String(N):""})},[(B=r==null?void 0:r.liveLocation)==null?void 0:B.lat,(ee=r==null?void 0:r.liveLocation)==null?void 0:ee.lng,(I=r==null?void 0:r.location)==null?void 0:I.lat,(x=r==null?void 0:r.location)==null?void 0:x.lng]),c)return l.jsx("p",{style:{padding:20},children:"Loading..."});if(a)return l.jsx("p",{style:{padding:20,color:"red"},children:a});if(!r)return l.jsx("p",{style:{padding:20},children:"Truck not found."});const T=t&&(n==null?void 0:n.role)==="manager"&&(r==null?void 0:r.manager)&&(r.manager.id===n.id||r.manager.id===n._id),y=t&&((n==null?void 0:n.role)==="admin"||T),b=t&&((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager"||(n==null?void 0:n.role)==="staff"),A=t&&((n==null?void 0:n.role)==="admin"||T);async function k(S,N){try{const z=await q.updateTruckStatusLocation(t,e,{liveLocation:{lat:S,lng:N}});z.success&&i($=>({...$,liveLocation:z.data.liveLocation}))}catch(z){P(z.message)}}function R(){if(P(null),j(!0),!("geolocation"in navigator)){P("Geolocation not supported"),j(!1);return}navigator.geolocation.getCurrentPosition(async S=>{const{latitude:N,longitude:z}=S.coords;await k(N,z),j(!1)},S=>{P(S.message||"Failed to get location"),j(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:1e4})}function F(){if(!("geolocation"in navigator)){P("Geolocation not supported");return}if(g)E.current&&navigator.geolocation.clearWatch(E.current),E.current=null,p(!1);else{P(null);const S=navigator.geolocation.watchPosition(async N=>{const{latitude:z,longitude:$}=N.coords;await k(z,$)},N=>{P(N.message||"Location error")},{enableHighAccuracy:!0,maximumAge:1e4});E.current=S,p(!0)}}async function D(){P(null);const S=Number(v.lat),N=Number(v.lng);if(!Number.isFinite(S)||!Number.isFinite(N)){P("Enter valid latitude and longitude");return}j(!0),await k(S,N),j(!1)}return l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:r.name}),(()=>{const S=r==null?void 0:r.liveLocation,N=r==null?void 0:r.location,z=typeof(S==null?void 0:S.lat)=="number"?S.lat:typeof(N==null?void 0:N.lat)=="number"?N.lat:null,$=typeof(S==null?void 0:S.lng)=="number"?S.lng:typeof(N==null?void 0:N.lng)=="number"?N.lng:null;return z!==null&&$!==null?l.jsxs(l.Fragment,{children:[l.jsx("a",{href:`https://www.google.com/maps?q=${encodeURIComponent(z)},${encodeURIComponent($)}`,target:"_blank",rel:"noreferrer",style:{display:"inline-block",margin:"6px 0 6px",fontSize:14},children:"Directions"}),l.jsx(Vu,{lat:z,lng:$,height:200})]}):null})(),b&&l.jsx("button",{onClick:()=>h(!0),style:{marginTop:6,marginBottom:10},children:"Truck Chat"}),l.jsx("p",{children:r.description}),A&&l.jsxs("div",{style:{margin:"8px 0 12px",padding:12,border:"1px solid #e5e7eb",borderRadius:6,background:"#f9fafb"},children:[l.jsx("div",{style:{marginBottom:6,fontWeight:600},children:"Live Location"}),l.jsx("div",{style:{fontSize:13,marginBottom:8},children:(()=>{const S=r==null?void 0:r.liveLocation,N=r==null?void 0:r.location,z=typeof(S==null?void 0:S.lat)=="number"?S.lat:typeof(N==null?void 0:N.lat)=="number"?N.lat:null,$=typeof(S==null?void 0:S.lng)=="number"?S.lng:typeof(N==null?void 0:N.lng)=="number"?N.lng:null;return l.jsxs(l.Fragment,{children:["Current: ",z!==null&&$!==null?`${z.toFixed(5)}, ${$.toFixed(5)}`:""]})})()}),l.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[l.jsx("button",{type:"button",onClick:R,disabled:w,children:w?"Updating":"Update to my location"}),l.jsx("button",{type:"button",onClick:F,children:g?"Stop auto-update":"Auto-update from my device"})]}),l.jsxs("div",{style:{marginTop:8,display:"flex",gap:6,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{placeholder:"Latitude",value:v.lat,onChange:S=>M(N=>({...N,lat:S.target.value})),style:{width:140}}),l.jsx("input",{placeholder:"Longitude",value:v.lng,onChange:S=>M(N=>({...N,lng:S.target.value})),style:{width:140}}),l.jsx("button",{type:"button",onClick:D,disabled:w,children:"Save location"})]}),_&&l.jsx("div",{style:{color:"#b91c1c",fontSize:12,marginTop:6},children:_}),(r==null?void 0:r.liveLocation)&&l.jsxs("div",{style:{fontSize:11,opacity:.7,marginTop:6},children:["Last updated: ",r.liveLocation.updatedAt?new Date(r.liveLocation.updatedAt).toLocaleString():"now"]})]}),l.jsx("h3",{children:"Menu"}),l.jsx("ul",{style:{listStyle:"none",padding:0},children:s.map(S=>l.jsx("li",{style:{marginBottom:10},children:l.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:l.jsxs("span",{children:[S.name," - ",Xn(S.price),S.category?`  ${S.category}`:""]})})},S._id))}),y&&l.jsx("a",{href:`/trucks/${e}/menu-manage`,style:{display:"inline-block",marginTop:12},children:"Manage Menu"}),l.jsx(Xu,{open:f,onClose:()=>h(!1),title:`Truck Chat  ${r.name}`,roomResolver:S=>Ar.getTruckRoom(S,e)})]})}function qp({truckId:e}){const{token:t,user:n}=ve(),[r,i]=m.useState([]),[s,o]=m.useState(null),[a,u]=m.useState(()=>{try{return localStorage.getItem("menuGroupMode")==="1"}catch{return!1}}),[c,d]=m.useState(()=>{try{const x=localStorage.getItem("menuCategoryOrder");return x?JSON.parse(x):[]}catch{return[]}}),[f,h]=m.useState(()=>{try{const x=localStorage.getItem("menuCollapsedCats");return x?JSON.parse(x):{}}catch{return{}}}),[w,j]=m.useState(null),[_,P]=m.useState({name:"",price:"",category:"",prepTime:""}),[g,p]=m.useState(null),[v,M]=m.useState({name:"",price:"",category:"",prepTime:""}),[E,T]=m.useState(null),[y,b]=m.useState(!0),[A,k]=m.useState(!1);m.useEffect(()=>{let x=!0;if(!e)return;const S=async()=>{try{const N=await q.getTruck(e),z=await q.getMenuItems(e,a?{group:"category"}:{});if(!x)return;if(N.success&&j(N.data),z.success)if(a&&z.data.categories){let $=z.data.categories;if(c.length){const Y=new Map(c.map((re,ue)=>[re,ue]));$=[...$].sort((re,ue)=>{const me=Y.has(re.name)?Y.get(re.name):9999,be=Y.has(ue.name)?Y.get(ue.name):9999;return me!==be?me-be:re.name.localeCompare(ue.name)})}o({categories:$})}else i(z.data),o(null)}catch(N){x&&T(N.message)}finally{x&&b(!1)}};return b(!0),S(),()=>{x=!1}},[e,a,c]),m.useEffect(()=>{try{localStorage.setItem("menuGroupMode",a?"1":"0")}catch{}},[a]),m.useEffect(()=>{try{localStorage.setItem("menuCategoryOrder",JSON.stringify(c))}catch{}},[c]),m.useEffect(()=>{try{localStorage.setItem("menuCollapsedCats",JSON.stringify(f))}catch{}},[f]);function R(x){P(S=>({...S,[x.target.name]:x.target.value}))}async function F(x){x.preventDefault(),k(!0),T(null);try{const S={..._,price:Number(_.price)},N=await q.addMenuItem(t,e,S);if(N.success){if(a){const z=await q.getMenuItems(e,{group:"category"});z.success&&o(z.data)}else i(z=>[...z,N.data]);P({name:"",price:"",category:"",prepTime:""})}}catch(S){T(S.message)}finally{k(!1)}}function D(x){p(x._id),M({name:x.name,price:x.price,category:x.category||"",prepTime:x.prepTime||""})}function B(x){M(S=>({...S,[x.target.name]:x.target.value}))}async function ee(){try{const x={...v,price:Number(v.price)},S=await q.updateMenuItem(t,g,x);if(S&&(S.success||S._id)){const N=S.data||S;if(a){const z=await q.getMenuItems(e,{group:"category"});z.success&&o(z.data)}else i(z=>z.map($=>$._id===g?N:$));p(null)}}catch(x){alert(x.message)}}async function I(x){if(confirm("Delete this menu item? This cannot be undone."))try{await q.deleteMenuItem(t,x)&&(a?o(N=>N&&{categories:N.categories.map(z=>({...z,items:z.items.filter($=>$._id!==x)}))}):i(N=>N.filter(z=>z._id!==x)))}catch(S){alert(S.message)}}return t?["admin","manager"].includes(n==null?void 0:n.role)?e?y?l.jsx("p",{style:{padding:20},children:"Loading..."}):E?l.jsx("p",{style:{padding:20,color:"red"},children:E}):w?l.jsxs("div",{children:[l.jsxs("h3",{children:["Manage Menu  ",w.name]}),l.jsxs("div",{style:{margin:"8px 0 16px",display:"flex",gap:12,alignItems:"center"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:14},children:[l.jsx("input",{type:"checkbox",checked:a,onChange:x=>u(x.target.checked)})," Group by Category"]}),a&&l.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:l.jsx(m0,{categories:(s==null?void 0:s.categories)||[],order:c,setOrder:d})})]}),l.jsxs("form",{onSubmit:F,style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:20},children:[l.jsx("input",{name:"name",placeholder:"Name",value:_.name,onChange:R,required:!0}),l.jsx("input",{name:"price",placeholder:"Price",type:"number",step:"0.01",value:_.price,onChange:R,required:!0}),l.jsx("input",{name:"category",placeholder:"Category",value:_.category,onChange:R}),l.jsx("input",{name:"prepTime",placeholder:"Prep (min)",value:_.prepTime,onChange:R}),l.jsx("button",{disabled:A,children:A?"Adding...":"Add Item"})]}),!a&&l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:Ct,children:"Name"}),l.jsx("th",{style:Ct,children:"Price (INR)"}),l.jsx("th",{style:Ct,children:"Category"}),l.jsx("th",{style:Ct,children:"Prep (min)"}),l.jsx("th",{style:Ct,children:"Available"}),l.jsx("th",{style:Ct,children:"Actions"})]})}),l.jsx("tbody",{children:r.map(x=>l.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[l.jsx("td",{style:_t,children:g===x._id?l.jsx("input",{name:"name",value:v.name,onChange:B,required:!0}):x.name}),l.jsx("td",{style:_t,children:g===x._id?l.jsx("input",{name:"price",type:"number",step:"0.01",value:v.price,onChange:B,required:!0}):Xn(x.price)}),l.jsx("td",{style:_t,children:g===x._id?l.jsx("input",{name:"category",value:v.category,onChange:B}):x.category||"-"}),l.jsx("td",{style:_t,children:g===x._id?l.jsx("input",{name:"prepTime",value:v.prepTime,onChange:B,placeholder:"Prep min"}):x.prepTime||"-"}),l.jsx("td",{style:_t,children:x.isAvailable?"Yes":"No"}),l.jsx("td",{style:_t,children:g===x._id?l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{type:"button",onClick:ee,children:"Save"}),l.jsx("button",{type:"button",onClick:()=>p(null),children:"Cancel"})]}):l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{type:"button",onClick:()=>D(x),children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>I(x._id),children:"Delete"})]})})]},x._id))})]}),a&&s&&l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:24},children:s.categories.map(x=>{const S=f[x.name];return l.jsxs("div",{style:{border:"1px solid #e2e2e2",borderRadius:4},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",cursor:"pointer",background:"#fafafa",padding:"6px 10px"},onClick:()=>h(N=>({...N,[x.name]:!N[x.name]})),children:[l.jsx("h3",{style:{margin:0,fontSize:16},children:x.name}),l.jsx("span",{style:{fontSize:12,opacity:.7},children:S?"":""})]}),!S&&l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:Ct,children:"Name"}),l.jsx("th",{style:Ct,children:"Price (INR)"}),l.jsx("th",{style:Ct,children:"Prep (min)"}),l.jsx("th",{style:Ct,children:"Available"}),l.jsx("th",{style:Ct,children:"Actions"})]})}),l.jsx("tbody",{children:x.items.map(N=>l.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[l.jsx("td",{style:_t,children:g===N._id?l.jsx("input",{name:"name",value:v.name,onChange:B,required:!0}):N.name}),l.jsx("td",{style:_t,children:g===N._id?l.jsx("input",{name:"price",type:"number",step:"0.01",value:v.price,onChange:B,required:!0}):Xn(N.price)}),l.jsx("td",{style:_t,children:g===N._id?l.jsx("input",{name:"prepTime",value:v.prepTime,onChange:B,placeholder:"Prep min"}):N.prepTime||"-"}),l.jsx("td",{style:_t,children:N.isAvailable?"Yes":"No"}),l.jsx("td",{style:_t,children:g===N._id?l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{type:"button",onClick:ee,children:"Save"}),l.jsx("button",{type:"button",onClick:()=>p(null),children:"Cancel"})]}):l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{type:"button",onClick:()=>D(N),children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>I(N._id),children:"Delete"})]})})]},N._id))})]})]},x.name)})})]}):l.jsx("p",{style:{padding:20},children:"Truck not found"}):l.jsx("p",{style:{padding:20},children:"Select a truck"}):l.jsx("p",{style:{padding:20},children:"Forbidden: admin/manager only"}):l.jsx("p",{style:{padding:20},children:"Unauthorized"})}const Ct={textAlign:"left",padding:6,background:"#f5f5f5",border:"1px solid #ddd"},_t={padding:6,border:"1px solid #ddd",fontSize:14};function m0({categories:e,order:t,setOrder:n}){const r=e.map(a=>a.name),i=t.filter(a=>r.includes(a));i.length!==t.length&&setTimeout(()=>n(i),0);function s(a,u){n(c=>{const d=c.slice();d.includes(a)||d.push(a);const f=d.indexOf(a),h=f+u;return h<0||h>=d.length||([d[f],d[h]]=[d[h],d[f]]),d})}function o(){n(a=>[...a,...r.filter(u=>!a.includes(u))])}return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,fontSize:12,background:"#f7f7f7",padding:8,borderRadius:4},children:[l.jsx("strong",{style:{fontSize:13},children:"Category Order"}),l.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[i.map(a=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,background:"#fff",padding:"2px 6px",border:"1px solid #ccc",borderRadius:4},children:[l.jsx("span",{children:a}),l.jsx("button",{type:"button",onClick:()=>s(a,-1),style:{border:"1px solid #bbb",background:"#fafafa",fontSize:11,padding:"2px 4px"},children:""}),l.jsx("button",{type:"button",onClick:()=>s(a,1),style:{border:"1px solid #bbb",background:"#fafafa",fontSize:11,padding:"2px 4px"},children:""})]},a)),l.jsx("button",{type:"button",onClick:o,style:{border:"1px solid #bbb",background:"#fafafa",fontSize:11,padding:"2px 4px"},children:"Add Missing"})]})]})}function g0(){const{id:e}=Cp(),{token:t,user:n}=ve();return t?["admin","manager"].includes(n==null?void 0:n.role)?l.jsx("div",{style:{padding:20,fontFamily:"system-ui"},children:l.jsx(qp,{truckId:e})}):l.jsx("p",{style:{padding:20},children:"Forbidden: admin/manager only"}):l.jsx("p",{style:{padding:20},children:"Unauthorized"})}function y0(){const{token:e}=ve(),[t,n]=m.useState([]),[r,i]=m.useState(""),[s,o]=m.useState([]),[a,u]=m.useState([]),[c,d]=m.useState(""),[f,h]=m.useState(null),[w,j]=m.useState(!1),[_,P]=m.useState(null),[g,p]=m.useState(null);m.useEffect(()=>{q.getTrucks().then(y=>{y.success&&n(y.data)})},[]),m.useEffect(()=>{r&&(q.getMenuItems(r).then(y=>{y.success&&o(y.data)}),u([]))},[r]);function v(y){u(b=>b.find(k=>k.menuItem===y._id)?b.map(k=>k.menuItem===y._id?{...k,quantity:k.quantity+1}:k):[...b,{menuItem:y._id,name:y.name,quantity:1,unitPrice:y.price}])}function M(y,b){u(A=>A.map(k=>k.menuItem===y?{...k,quantity:b}:k))}const E=a.reduce((y,b)=>y+b.unitPrice*b.quantity,0);async function T(y){var b;y.preventDefault(),j(!0),h(null),P(null);try{const A={truck:r,items:a.map(R=>({menuItem:R.menuItem,quantity:R.quantity})),notes:c},k=await q.createOrder(e,A);k.success&&(P(k.data._id),p({id:k.data._id,truckId:r,truckName:(b=t.find(R=>(R.id||R._id)===r))==null?void 0:b.name}),u([]),d(""))}catch(A){h(A.message)}finally{j(!1)}}return l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Create Order"}),l.jsxs("form",{onSubmit:T,style:{display:"flex",flexDirection:"column",gap:12,maxWidth:600},children:[l.jsxs("select",{value:r,onChange:y=>i(y.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select Truck"}),t.map(y=>l.jsx("option",{value:y.id||y._id,children:y.name},y.id||y._id))]}),r&&l.jsxs("div",{style:{display:"flex",gap:24},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("h4",{children:"Menu"}),l.jsxs("ul",{style:{listStyle:"none",padding:0},children:[s.length===0&&l.jsx("li",{style:{opacity:.7,fontSize:12},children:"No items available for this truck."}),s.map(y=>l.jsxs("li",{style:{marginBottom:4},children:[y.name," ",Xn(y.price)," ",l.jsx("button",{type:"button",onClick:()=>v(y),children:"Add"})]},y._id))]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h4",{children:"Cart"}),a.length===0&&l.jsx("p",{style:{fontSize:12},children:"No items yet."}),a.map(y=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[l.jsx("span",{style:{flex:1},children:y.name}),l.jsx("input",{type:"number",min:1,value:y.quantity,onChange:b=>M(y.menuItem,Number(b.target.value)),style:{width:60}}),l.jsx("span",{children:Xn(y.unitPrice*y.quantity)})]},y.menuItem)),l.jsxs("div",{style:{fontWeight:"bold",marginTop:8},children:["Total: ",Xn(E)]})]})]}),l.jsx("textarea",{placeholder:"Notes (optional)",value:c,onChange:y=>d(y.target.value)}),l.jsx("button",{disabled:w||a.length===0,children:w?"Submitting...":"Submit Order"}),f&&l.jsx("div",{style:{color:"red"},children:f}),_&&l.jsxs("div",{style:{background:"#ecfdf5",border:"1px solid #a7f3d0",color:"#065f46",padding:"10px",borderRadius:6},children:[l.jsx("div",{style:{fontWeight:"bold"},children:"Order placed!"}),l.jsxs("div",{children:["Pickup only: collect from ",l.jsx("a",{href:`/trucks/${g==null?void 0:g.truckId}`,children:(g==null?void 0:g.truckName)||"the truck"}),"."]}),l.jsxs("div",{children:["Order #: ",l.jsx("span",{style:{fontFamily:"monospace"},children:v0(_)}),"  Pickup Code: ",l.jsx("strong",{children:(_||"").slice(-6).toUpperCase()})]})]})]})]})}function v0(e){try{return`ORD-${(e||"").slice(-6).toUpperCase()}`}catch{return"ORD-"}}function x0(){const{token:e}=ve(),[t,n]=m.useState([]),[r,i]=m.useState(""),[s,o]=m.useState(""),[a,u]=m.useState("12:00"),[c,d]=m.useState("13:00"),[f,h]=m.useState(2),[w,j]=m.useState(""),[_,P]=m.useState(null),[g,p]=m.useState(!1),[v,M]=m.useState(null);m.useEffect(()=>{q.getTrucks().then(T=>{T.success&&n(T.data)})},[]);async function E(T){T.preventDefault(),p(!0),P(null),M(null);try{const y={truck:r,date:s,slotStart:a,slotEnd:c,partySize:Number(f),notes:w},b=await q.createReservation(e,y);b.success&&(M(b.data._id),j(""))}catch(y){P(y.message)}finally{p(!1)}}return l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Create Reservation"}),l.jsxs("form",{onSubmit:E,style:{display:"flex",flexDirection:"column",gap:12,maxWidth:400},children:[l.jsxs("select",{value:r,onChange:T=>i(T.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select Truck"}),t.map(T=>l.jsx("option",{value:T._id,children:T.name},T._id))]}),l.jsx("input",{type:"date",value:s,onChange:T=>o(T.target.value),required:!0}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("input",{type:"time",value:a,onChange:T=>u(T.target.value),required:!0}),l.jsx("input",{type:"time",value:c,onChange:T=>d(T.target.value),required:!0})]}),l.jsx("input",{type:"number",min:1,value:f,onChange:T=>h(T.target.value),required:!0}),l.jsx("textarea",{placeholder:"Notes",value:w,onChange:T=>j(T.target.value)}),l.jsx("button",{disabled:g,children:g?"Submitting...":"Create Reservation"}),_&&l.jsx("div",{style:{color:"red"},children:_}),v&&l.jsxs("div",{style:{color:"green"},children:["Reservation created: ",v]})]})]})}let zs=null;function w0(e){return typeof window>"u"?Promise.reject(new Error("No window")):window.google&&window.google.maps?Promise.resolve(window.google.maps):e?zs||(zs=new Promise((t,n)=>{const r=document.createElement("script");r.src=`https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(e)}&v=weekly`,r.async=!0,r.defer=!0,r.onload=()=>{window.google&&window.google.maps?t(window.google.maps):n(new Error("Google Maps failed to load"))},r.onerror=()=>n(new Error("Failed to load Google Maps JS")),document.head.appendChild(r)}),zs):Promise.reject(new Error("Missing Google Maps API key"))}function S0({origin:e,destination:t,mode:n="DRIVING",apiKey:r}){const[i,s]=m.useState(null),[o,a]=m.useState("idle"),[u,c]=m.useState(null);return m.useEffect(()=>{let d=!1;async function f(){if(a("loading"),c(null),!e||!t||!r){a("error"),c("Missing origin/destination or API key");return}try{const h=await w0(r);if(d)return;const w=new h.DistanceMatrixService,j={origins:[new h.LatLng(e.lat,e.lng)],destinations:[new h.LatLng(t.lat,t.lng)],travelMode:n,drivingOptions:n==="DRIVING"?{departureTime:new Date}:void 0,unitSystem:h.UnitSystem.METRIC};w.getDistanceMatrix(j,(_,P)=>{var g,p,v,M,E;if(!d){if(P!=="OK"){a("error"),c(P||"DistanceMatrix error");return}try{const T=(v=(p=(g=_.rows)==null?void 0:g[0])==null?void 0:p.elements)==null?void 0:v[0],y=((M=T==null?void 0:T.duration_in_traffic)==null?void 0:M.value)||((E=T==null?void 0:T.duration)==null?void 0:E.value);typeof y=="number"?(s(Math.max(1,Math.round(y/60))),a("ok")):(a("error"),c("No duration"))}catch(T){a("error"),c(T.message||"Parse error")}}})}catch(h){if(d)return;a("error"),c(h.message||"Load error")}}return f(),()=>{d=!0}},[e==null?void 0:e.lat,e==null?void 0:e.lng,t==null?void 0:t.lat,t==null?void 0:t.lng,n,r]),{minutes:i,status:o,error:u}}const k0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyBGgEw7LLOsFe7CZI5qaf9xZhN6xZaeILk"};function j0(e,t,n,r){const s=(n-e)*Math.PI/180,o=(r-t)*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}function E0(e,t){const n={walking:4.5,driving:25,cycling:12},r=n[t]||n.driving,i=e/r;return Math.max(1,Math.round(i*60))}function C0({order:e,coords:t,defaultPrep:n=20}){const[r,i]=m.useState(!1),[s,o]=m.useState("driving"),[a,u]=m.useState(n),[c,d]=m.useState(null),[f,h]=m.useState(null),[w,j]=m.useState(!1),[_,P]=m.useState(null),g=typeof import.meta<"u"&&k0&&"AIzaSyBGgEw7LLOsFe7CZI5qaf9xZhN6xZaeILk"||null,p=S0({origin:c,destination:t,mode:s.toUpperCase(),apiKey:g});m.useEffect(()=>{if(!c||!t){h(null);return}if(g&&p.status==="ok"&&typeof p.minutes=="number"){h(p.minutes);return}const T=j0(c.lat,c.lng,t.lat,t.lng);h(E0(T,s))},[c,t==null?void 0:t.lat,t==null?void 0:t.lng,s,p.status,p.minutes,g]);function v(){if(P(null),j(!0),!("geolocation"in navigator)){P("Geolocation not supported"),j(!1);return}navigator.geolocation.getCurrentPosition(T=>{d({lat:T.coords.latitude,lng:T.coords.longitude}),j(!1)},T=>{P(T.message||"Failed to get location"),j(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:1e4})}const M=(()=>{if(!f)return null;if(e.status==="ready")return"Order is ready  start now to pick up.";const T=a-f;return T>0?`Leave in ~${T} min to arrive when its ready.`:T===0?"Start now to arrive when its ready.":`Start now (youll reach ~${Math.abs(T)} min before its ready).`})(),E=!c||!t?null:`https://www.google.com/maps/dir/${encodeURIComponent(c.lat+","+c.lng)}/${encodeURIComponent(t.lat+","+t.lng)}`;return t?l.jsxs("div",{style:{marginTop:8,border:"1px solid #e5e7eb",borderRadius:6,padding:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsx("strong",{style:{fontSize:13},children:"Plan Pickup"}),l.jsx("button",{type:"button",onClick:()=>i(T=>!T),children:r?"Hide":"Plan"})]}),r&&l.jsxs("div",{style:{marginTop:8,display:"grid",gap:8},children:[l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[l.jsxs("label",{style:{fontSize:12},children:["Mode",l.jsxs("select",{value:s,onChange:T=>o(T.target.value),style:{marginLeft:6},children:[l.jsx("option",{value:"driving",children:"Driving"}),l.jsx("option",{value:"walking",children:"Walking"}),l.jsx("option",{value:"cycling",children:"Cycling"})]})]}),l.jsxs("label",{style:{fontSize:12},children:["Prep (min)",l.jsx("input",{type:"number",min:1,max:180,value:a,onChange:T=>u(Number(T.target.value)||n),style:{width:70,marginLeft:6}})]}),l.jsx("button",{type:"button",onClick:v,disabled:w,children:w?"Locating":c?"Update my location":"Use my location"})]}),l.jsx("div",{style:{fontSize:13,color:"#111",display:"flex",gap:6,alignItems:"baseline",flexWrap:"wrap"},children:f?l.jsxs(l.Fragment,{children:[l.jsxs("span",{children:["ETA to truck: ",l.jsxs("strong",{children:[f," min"]}),g&&p.status==="ok"&&l.jsx("span",{style:{marginLeft:6,fontSize:11,color:"#059669"},children:"(live)"}),g&&p.status==="loading"&&l.jsx("span",{style:{marginLeft:6,fontSize:11,color:"#6b7280"},children:"(checking live)"}),g&&p.status==="error"&&l.jsx("span",{style:{marginLeft:6,fontSize:11,color:"#b45309"},children:"(fallback)"})]}),M&&l.jsxs("span",{children:[" ",M]})]}):l.jsx("span",{style:{opacity:.7},children:"Get ETA by using your location."})}),E&&l.jsx("a",{href:E,target:"_blank",rel:"noreferrer",style:{fontSize:12},children:"Open route in Google Maps"}),_&&l.jsx("div",{style:{color:"#b91c1c",fontSize:12},children:_})]})]}):null}function _0(){const{token:e,user:t}=ve(),[n,r]=m.useState([]),[i,s]=m.useState(!0),[o,a]=m.useState(null),[u,c]=m.useState(!1),[d,f]=m.useState(null),[h,w]=m.useState({}),[j,_]=m.useState({}),P=m.useRef({}),g=m.useRef(new Set);m.useRef(null),m.useEffect(()=>{let I=!0;return s(!0),Promise.all([q.getOrders(e),q.getTrucks()]).then(async([x,S])=>{if(!I)return;if(x.success&&r(x.data),x.success){const $={};(x.data||[]).forEach(Y=>{$[Y._id]=Y.status}),P.current=$}const N={},z={};if(S.success&&(S.data||[]).forEach($=>{const Y=$.id||$._id;N[Y]=$.name,z[Y]=$}),x.success){const $=new Set;for(const Y of x.data||[]){const re=typeof Y.truck=="object"?Y.truck.id||Y.truck._id:Y.truck;re&&!z[re]&&$.add(re)}$.size&&(await Promise.all(Array.from($).map(re=>q.getTruck(re).catch(()=>null)))).forEach(re=>{if(re&&re.success&&re.data){const ue=re.data,me=ue.id||ue._id;N[me]=ue.name,z[me]=ue}})}w(N),_(z)}).catch(x=>a(x.message)).finally(()=>s(!1)),()=>{I=!1}},[e]),m.useEffect(()=>{if((t==null?void 0:t.role)==="customer"&&typeof window<"u"&&"Notification"in window&&Notification.permission==="default")try{Notification.requestPermission()}catch{}},[t]),m.useEffect(()=>{if(!e||!n.length)return;const I=Gu(e),x=new Set,S=new Set;n.forEach($=>{x.add(`order:${$._id}`);const Y=A($);Y&&S.add(`truck:${Y}`)}),x.forEach($=>I.emit("subscribe",{room:$})),S.forEach($=>I.emit("subscribe",{room:$}));const N=({orderId:$,status:Y})=>{if(r(re=>re.map(ue=>ue._id===$?{...ue,status:Y}:ue)),(t==null?void 0:t.role)==="customer"){const re=P.current[$];if(Y==="ready"&&re!=="ready"&&re!=="delivered"&&re!=="cancelled"&&!g.current.has($)){const ue=n.find(me=>me._id===$)||{_id:$};p({...ue,status:Y}),g.current.add($)}P.current[$]=Y}},z=({truckId:$,liveLocation:Y})=>{_(re=>({...re,[$]:{...re[$]||{},id:$,liveLocation:Y}}))};return I.on("order:update",N),I.on("truck:location",z),()=>{try{x.forEach($=>I.emit("unsubscribe",{room:$})),S.forEach($=>I.emit("unsubscribe",{room:$})),I.off("order:update",N),I.off("truck:location",z)}catch{}}},[e,n]);function p(I){if(typeof window>"u"||!("Notification"in window)||Notification.permission!=="granted")return;const x="Your order is ready for pickup",S=`${y(I)} at ${R(I)}`;try{const N=new Notification(x,{body:S,tag:I._id});N.onclick=()=>{window.focus();const z=typeof I.truck=="object"?I.truck.id||I.truck._id:I.truck;z&&window.open(`/trucks/${z}`,"_blank"),N.close()}}catch{}}function v(I){const x={accepted:"preparing",completed:"delivered"};if(x[I])return x[I];const S=["pending","preparing","ready","delivered"],N=S.indexOf(I);return N===-1||N===S.length-1?null:S[N+1]}async function M(I){const x=v(I.status);if(x)try{(await q.updateOrderStatus(e,I._id,x)).success&&r(N=>N.map(z=>z._id===I._id?{...z,status:x}:z))}catch(S){alert(S.message)}}function E(I){f(I),c(!0)}function T(I){return typeof I=="string"?I.slice(-6):""}function y(I){const x=T(I._id||"");return x?`ORD-${x.toUpperCase()}`:"ORD-"}function b(I){const x=T(I._id||"");return x?x.toUpperCase():""}function A(I){return typeof I.truck=="object"?I.truck.id||I.truck._id:I.truck}function k(I){const x=A(I);return(typeof I.truck=="object"?I.truck:j[x])||null}function R(I){return I.truck&&typeof I.truck=="object"?I.truck.name||T(I.truck.id||I.truck._id||""):typeof I.truck=="string"?h[I.truck]||T(I.truck):""}function F(I){const x=k(I),S=x==null?void 0:x.liveLocation,N=x==null?void 0:x.location,z=typeof(S==null?void 0:S.lat)=="number"?S.lat:typeof(N==null?void 0:N.lat)=="number"?N.lat:null,$=typeof(S==null?void 0:S.lng)=="number"?S.lng:typeof(N==null?void 0:N.lng)=="number"?N.lng:null;return z!==null&&$!==null?`https://www.google.com/maps?q=${encodeURIComponent(z)},${encodeURIComponent($)}`:null}function D(I){const x=k(I),S=x==null?void 0:x.liveLocation,N=x==null?void 0:x.location,z=typeof(S==null?void 0:S.lat)=="number"?S.lat:typeof(N==null?void 0:N.lat)=="number"?N.lat:null,$=typeof(S==null?void 0:S.lng)=="number"?S.lng:typeof(N==null?void 0:N.lng)=="number"?N.lng:null;return z!==null&&$!==null?{lat:z,lng:$}:null}function B(I){const x=[I.estimatedPrepMinutes,I.prepMinutes,I.prepTimeMin,I.prepTime];for(const S of x)if(typeof S=="number"&&S>0)return S;return 20}function ee(I){return(t==null?void 0:t.role)!=="customer"?I:{pending:"received",preparing:"preparing",ready:"ready for pickup",delivered:"picked up",cancelled:"cancelled"}[I]||I}return i?l.jsx("p",{style:{padding:20},children:"Loading orders..."}):o?l.jsx("p",{style:{padding:20,color:"red"},children:o}):l.jsxs("div",{style:{padding:20},children:[l.jsxs("h2",{children:["Orders (",n.length,")"]}),(t==null?void 0:t.role)==="customer"&&l.jsx("div",{style:{background:"#f8fafc",border:"1px solid #e5e7eb",padding:"8px 10px",borderRadius:6,margin:"8px 0 12px"},children:"Pickup only: collect your order from the truck. Status picked up means its been handed over at the truck."}),l.jsxs("table",{style:{borderCollapse:"collapse",width:"100%",fontFamily:"system-ui"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:mi,children:"Order #"}),l.jsx("th",{style:mi,children:"Truck"}),l.jsx("th",{style:mi,children:"Status"}),l.jsx("th",{style:mi,children:"Total"}),l.jsx("th",{style:mi,children:(t==null?void 0:t.role)==="customer"?"Pickup":"Action"})]})}),l.jsx("tbody",{children:n.map(I=>l.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[l.jsxs("td",{style:gi,children:[l.jsx("div",{children:l.jsx("span",{title:I._id,children:y(I)})}),l.jsxs("div",{style:{fontSize:11,opacity:.7},children:["Pickup Code: ",l.jsx("strong",{children:b(I)})]})]}),l.jsx("td",{style:gi,children:R(I)}),l.jsx("td",{style:gi,children:ee(I.status)}),l.jsx("td",{style:gi,children:Xn(I.total||0)}),l.jsx("td",{style:gi,children:(t==null?void 0:t.role)==="customer"?l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:6},children:[l.jsx("a",{href:`/trucks/${A(I)}`,style:{textDecoration:"none"},children:l.jsx("button",{type:"button",children:"View Truck"})}),F(I)&&l.jsx("a",{href:F(I),target:"_blank",rel:"noreferrer",style:{textDecoration:"none"},children:l.jsx("button",{type:"button",children:"Directions"})}),e&&l.jsx("button",{onClick:()=>E(I),children:"Chat"})]}),D(I)&&l.jsx(Vu,{lat:D(I).lat,lng:D(I).lng,height:160}),l.jsx(C0,{order:I,coords:D(I),defaultPrep:B(I)})]}):l.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[["manager","staff"].includes(t.role)&&l.jsx("button",{onClick:()=>M(I),disabled:!v(I.status)||["cancelled","delivered"].includes(I.status),children:"Next"}),e&&l.jsx("button",{onClick:()=>E(I),children:"Chat"})]})})]},I._id))})]}),l.jsx(Xu,{open:u,onClose:()=>c(!1),title:d?`Order Chat  ${d._id.slice(-6)}`:"Order Chat",roomResolver:I=>d?Ar.getOrderRoom(I,d._id):null})]})}const mi={textAlign:"left",padding:6,background:"#f5f5f5",border:"1px solid #ddd"},gi={padding:6,border:"1px solid #ddd",fontSize:14};function T0(){const{token:e,user:t}=ve(),[n,r]=m.useState([]),[i,s]=m.useState(!0),[o,a]=m.useState(null);m.useEffect(()=>{let d=!0;return q.getReservations(e).then(f=>{f.success&&d&&r(f.data)}).catch(f=>a(f.message)).finally(()=>s(!1)),()=>{d=!1}},[e]);async function u(d,f){try{(await q.updateReservationStatus(e,d._id,f)).success&&r(w=>w.map(j=>j._id===d._id?{...j,status:f}:j))}catch(h){alert(h.message)}}async function c(d){try{(await q.cancelReservation(e,d._id)).success&&r(h=>h.map(w=>w._id===d._id?{...w,status:"cancelled"}:w))}catch(f){alert(f.message)}}return i?l.jsx("p",{style:{padding:20},children:"Loading reservations..."}):o?l.jsx("p",{style:{padding:20,color:"red"},children:o}):l.jsxs("div",{style:{padding:20},children:[l.jsxs("h2",{children:["Reservations (",n.length,")"]}),l.jsxs("table",{style:{borderCollapse:"collapse",width:"100%",fontFamily:"system-ui"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:pr,children:"ID"}),l.jsx("th",{style:pr,children:"Truck"}),l.jsx("th",{style:pr,children:"Start"}),l.jsx("th",{style:pr,children:"End"}),l.jsx("th",{style:pr,children:"Status"}),l.jsx("th",{style:pr,children:"Actions"})]})}),l.jsx("tbody",{children:n.map(d=>{var f;return l.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[l.jsx("td",{style:mr,children:d._id.slice(-6)}),l.jsx("td",{style:mr,children:((f=d.truck)==null?void 0:f.name)||d.truck}),l.jsx("td",{style:mr,children:new Date(d.startTime).toLocaleString()}),l.jsx("td",{style:mr,children:new Date(d.endTime).toLocaleString()}),l.jsx("td",{style:mr,children:d.status}),l.jsxs("td",{style:mr,children:[["admin","manager","staff"].includes(t.role)&&d.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>u(d,"confirmed"),children:"Confirm"})," "]}),["pending","confirmed"].includes(d.status)&&l.jsx("button",{onClick:()=>c(d),children:"Cancel"})]})]},d._id)})})]})]})}const pr={textAlign:"left",padding:6,background:"#f5f5f5",border:"1px solid #ddd"},mr={padding:6,border:"1px solid #ddd",fontSize:14};function R0({children:e}){const{token:t,user:n,logout:r}=ve(),i=us(),[s,o]=m.useState(!1);function a(){r(),i("/login")}const u=t?n==null?void 0:n.role:null,c=[];return t?u==="admin"?c.push({to:"/admin",label:"Admin Dashboard"},{to:"/admin/hierarchy",label:"Hierarchy"},{to:"/admin/staff",label:"Staff"},{to:"/trucks",label:"Trucks"}):u==="manager"?c.push({to:"/manager",label:"Manager Dashboard"},{to:"/manager/staff",label:"My Staff"},{to:"/trucks",label:"My Trucks"},{to:"/orders",label:"Orders"},{to:"/reservations",label:"Reservations"}):u==="staff"?c.push({to:"/staff",label:"Staff Dashboard"},{to:"/staff/stock",label:"My Stock"},{to:"/orders",label:"Orders"}):u==="customer"&&c.push({to:"/customer",label:"Dashboard"},{to:"/trucks",label:"Find Trucks"},{to:"/orders/new",label:"New Order"},{to:"/orders",label:"My Orders"},{to:"/reservations/new",label:"Book Truck"},{to:"/reservations",label:"Reservations"}):c.push({to:"/trucks",label:"Trucks"}),l.jsxs("div",{style:{fontFamily:"system-ui",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[l.jsxs("nav",{style:{background:"#222",color:"#fff",padding:"10px 20px",display:"flex",gap:16,alignItems:"center"},children:[l.jsx("strong",{children:"Smart Food Truck"}),c.map(d=>l.jsx(Yt,{style:{color:"#fff"},to:d.to,children:d.label},d.to)),l.jsx("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:t?l.jsxs(l.Fragment,{children:[l.jsxs("span",{style:{fontSize:14},children:[n==null?void 0:n.email," (",n==null?void 0:n.role,")"]}),l.jsx("button",{onClick:a,style:{cursor:"pointer"},children:"Logout"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Yt,{style:{color:"#fff"},to:"/login",children:"Login"}),l.jsx(Yt,{style:{color:"#fff"},to:"/signup",children:"Sign Up"})]})})]}),l.jsx("main",{style:{flex:1},children:e}),t&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>o(!0),style:{position:"fixed",right:16,bottom:20,background:"#2563eb",color:"#fff",border:"none",borderRadius:22,padding:"10px 14px",cursor:"pointer",boxShadow:"0 6px 18px rgba(37,99,235,0.35)",zIndex:9998},children:"Support"}),l.jsx(Xu,{open:s,onClose:()=>o(!1),title:"Support Chat",roomResolver:d=>Ar.getSupportRoom(d)})]}),l.jsxs("footer",{style:{textAlign:"center",padding:20,fontSize:12,color:"#666"},children:[" ",new Date().getFullYear()," Smart Food Truck"]})]})}function Tt({roles:e,children:t}){const{token:n,user:r}=ve();if(!n)return l.jsx(qr,{to:"/login",replace:!0});if(!e.includes(r==null?void 0:r.role)){const i={admin:"/admin",manager:"/manager",staff:"/staff",customer:"/customer"};return l.jsx(qr,{to:i[r==null?void 0:r.role]||"/trucks",replace:!0})}return t}function P0(){const{user:e}=ve(),[t,n]=m.useState({name:"",email:"",password:""}),[r,i]=m.useState(!1),[s,o]=m.useState(null),[a,u]=m.useState([]),[c,d]=m.useState(null),[f,h]=m.useState(!1);async function w(_){_.preventDefault(),o(null),i(!0);try{const P=await q.createManager(localStorage.getItem("sft_token"),t);P.success&&u(g=>[...g,P.data]),n({name:"",email:"",password:""})}catch(P){o(P.message)}finally{i(!1)}}async function j(){h(!0),d(null),o(null);try{const _=localStorage.getItem("sft_token"),P=await q.cleanupOrphans(_);d((P==null?void 0:P.data)||P)}catch(_){o(_.message)}finally{h(!1)}}return l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Admin Dashboard"}),l.jsxs("p",{children:["Welcome ",e==null?void 0:e.email]}),l.jsxs("nav",{style:{marginTop:8,display:"flex",gap:10},children:[l.jsx("a",{href:"/admin/overview",children:"Managers Overview"}),l.jsx("a",{href:"/admin/managers",children:"Managers (Reactivate/Reassign)"}),l.jsx("a",{href:"/admin/hierarchy",children:"Managers  Trucks  Staff"}),l.jsx("a",{href:"/admin/staff",children:"Manage Staff"})]}),l.jsxs("section",{style:{marginTop:24},children:[l.jsx("h3",{children:"Create Manager"}),l.jsxs("form",{onSubmit:w,style:{display:"flex",gap:8,flexWrap:"wrap"},children:[l.jsx("input",{placeholder:"Name",value:t.name,onChange:_=>n(P=>({...P,name:_.target.value})),required:!0}),l.jsx("input",{placeholder:"Email",type:"email",value:t.email,onChange:_=>n(P=>({...P,email:_.target.value})),required:!0}),l.jsx("input",{placeholder:"Password",type:"password",value:t.password,onChange:_=>n(P=>({...P,password:_.target.value})),required:!0}),l.jsx("button",{disabled:r,children:r?"Creating...":"Create"})]}),s&&l.jsx("div",{style:{color:"red"},children:s}),a.length>0&&l.jsx("ul",{style:{marginTop:12},children:a.map(_=>l.jsxs("li",{children:[_.email," (",_.role,")"]},_.id))})]}),l.jsxs("section",{style:{marginTop:24},children:[l.jsx("h3",{children:"Data Maintenance"}),l.jsx("p",{children:"Cleanup orphaned data across the project (admin only)."}),l.jsx("button",{onClick:j,disabled:f,children:f?"Cleaning":"Cleanup Orphans"}),c&&l.jsx("pre",{style:{background:"#f5f5f5",padding:10,marginTop:10,overflowX:"auto"},children:JSON.stringify(c,null,2)})]})]})}function L0(){const{user:e,token:t}=ve(),[n,r]=m.useState([]),[i,s]=m.useState(!0),[o,a]=m.useState(null),[u,c]=m.useState(!1),[d,f]=m.useState({}),[h,w]=m.useState({}),[j,_]=m.useState([]),[P,g]=m.useState({}),[p,v]=m.useState([]),[M,E]=m.useState({}),[T,y]=m.useState({}),[b,A]=m.useState({});m.useEffect(()=>{if(!t||(e==null?void 0:e.role)!=="admin")return;let D=!0;return s(!0),Promise.all([q.getManagersHierarchy(t,{includeInactive:u}),q.getTrucks(),q.getManagers(t)]).then(([B,ee,I])=>{D&&(B.success&&r(B.data),ee.success&&_(ee.data),I.success&&v(I.data))}).catch(B=>{D&&a(B.message)}).finally(()=>{D&&s(!1)}),()=>{D=!1}},[t,e,u]);const k=D=>f(B=>({...B,[D]:!B[D]})),R=(D,B)=>w(ee=>({...ee,[D]:B})),F=m.useMemo(()=>{const D=n.reduce((ee,I)=>{var x;return ee+(((x=I.totals)==null?void 0:x.trucks)||0)},0),B=n.reduce((ee,I)=>{var x;return ee+(((x=I.totals)==null?void 0:x.staff)||0)},0);return{trucks:D,staff:B,managers:n.length}},[n]);return t?(e==null?void 0:e.role)!=="admin"?l.jsx("p",{style:{padding:20},children:"Forbidden"}):i?l.jsx("p",{style:{padding:20},children:"Loading hierarchy"}):o?l.jsx("p",{style:{padding:20,color:"red"},children:o}):l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{marginBottom:4},children:"Managers  Trucks  Staff"}),l.jsxs("div",{style:{color:"#555",fontSize:12},children:["Managers: ",F.managers," | Trucks: ",F.trucks," | Staff: ",F.staff]})]}),l.jsxs("label",{style:{fontSize:13},children:[l.jsx("input",{type:"checkbox",checked:u,onChange:D=>c(D.target.checked)})," Include inactive"]})]}),l.jsx("div",{style:{marginTop:16,display:"flex",flexDirection:"column",gap:12},children:n.map(D=>{var B,ee,I;return l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:8,padding:12},children:[l.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[l.jsx("button",{onClick:()=>k(D.id),style:Qd,children:d[D.id]?"":""}),l.jsxs("div",{style:{flex:1},children:[l.jsx("strong",{children:D.name})," ",l.jsxs("span",{style:{color:"#555"},children:["(",D.email,")"]}),l.jsxs("div",{style:{fontSize:12,color:"#666"},children:["Trucks: ",((B=D.totals)==null?void 0:B.trucks)||0," | Staff: ",((ee=D.totals)==null?void 0:ee.staff)||0," | Last active: ",qd(D.lastLoginAt)]}),D.statusCounts&&l.jsxs("div",{style:{fontSize:12,color:"#666"},children:["Status: ",Object.entries(D.statusCounts).map(([x,S])=>`${x}:${S}`).join(" | ")||"n/a"]})]}),l.jsx("div",{style:{display:"flex",gap:8}})]}),d[D.id]&&l.jsx("div",{style:{marginTop:10,marginLeft:24,display:"flex",flexDirection:"column",gap:8},children:(I=D.trucks)!=null&&I.length?D.trucks.map(x=>{var S,N,z,$,Y,re,ue,me,be,Je;return l.jsxs("div",{style:{border:"1px solid #eee",borderRadius:6,padding:10},children:[l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{onClick:()=>k(x.id),style:Qd,children:d[x.id]?"":""}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{children:[l.jsx("strong",{children:x.name})," ",l.jsxs("span",{style:{color:"#777"},children:["(",x.status,")"]})]}),l.jsxs("div",{style:{fontSize:12,color:"#666"},children:["Loc: ",x.liveLocation?`${(S=x.liveLocation.lat)==null?void 0:S.toFixed(3)}, ${(N=x.liveLocation.lng)==null?void 0:N.toFixed(3)}`:""," | Staff: ",x.staffCount]})]}),l.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center",flexWrap:"wrap"},children:[(z=M[x.id])!=null&&z.open?l.jsxs("span",{children:[l.jsxs("select",{value:(($=M[x.id])==null?void 0:$.managerId)||"",onChange:V=>E(xe=>({...xe,[x.id]:{...xe[x.id]||{},managerId:V.target.value}})),children:[l.jsx("option",{value:"",disabled:!0,children:"Select manager"}),p.map(V=>l.jsxs("option",{value:V.id,children:[V.name||V.email," (",shortId(V.id),")"]},V.id))]}),l.jsx(Ye,{label:"Apply",busy:h[`am:${x.id}`],onClick:async()=>{var xe;const V=(xe=M[x.id])==null?void 0:xe.managerId;if(V){R(`am:${x.id}`,!0);try{await dn(()=>q.assignManager(t,x.id,V)),await fn(s,t,u,r)}catch(Ze){alert(Ze.message)}finally{R(`am:${x.id}`,!1),E(Ze=>({...Ze,[x.id]:{open:!1,managerId:""}}))}}}}),l.jsx(Ye,{label:"Cancel",onClick:()=>E(V=>({...V,[x.id]:{open:!1,managerId:""}}))})]}):l.jsx(Ye,{label:"Assign Manager",busy:!1,onClick:()=>E(V=>({...V,[x.id]:{open:!0,managerId:""}}))}),l.jsx(Ye,{label:"Unassign Manager",busy:h[`um:${x.id}`],onClick:async()=>{R(`um:${x.id}`,!0);try{await dn(()=>q.unassignManager(t,x.id)),await fn(s,t,u,r)}catch(V){alert(V.message)}finally{R(`um:${x.id}`,!1)}}}),(Y=T[x.id])!=null&&Y.open?l.jsxs("span",{children:[l.jsxs("select",{value:((re=T[x.id])==null?void 0:re.status)||"",onChange:V=>y(xe=>({...xe,[x.id]:{...xe[x.id]||{},status:V.target.value}})),children:[l.jsx("option",{value:"",disabled:!0,children:"Select status"}),["open","closed","in-transit","maintenance"].map(V=>l.jsx("option",{value:V,children:V},V))]}),l.jsx(Ye,{label:"Apply",busy:h[`st:${x.id}`],onClick:async()=>{var xe;const V=(xe=T[x.id])==null?void 0:xe.status;if(V){R(`st:${x.id}`,!0);try{await dn(()=>q.updateTruckStatusLocation(t,x.id,{status:V})),await fn(s,t,u,r)}catch(Ze){alert(Ze.message)}finally{R(`st:${x.id}`,!1),y(Ze=>({...Ze,[x.id]:{open:!1,status:""}}))}}}}),l.jsx(Ye,{label:"Cancel",onClick:()=>y(V=>({...V,[x.id]:{open:!1,status:""}}))})]}):l.jsx(Ye,{label:"Set Status",busy:!1,onClick:()=>y(V=>({...V,[x.id]:{open:!0,status:x.status||""}}))}),(ue=b[x.id])!=null&&ue.open?l.jsxs("span",{children:[l.jsxs("select",{value:((me=b[x.id])==null?void 0:me.staffId)||"",onChange:V=>A(xe=>({...xe,[x.id]:{...xe[x.id]||{},staffId:V.target.value}})),children:[l.jsx("option",{value:"",disabled:!0,children:"Select staff"}),(x.staff||[]).map(V=>l.jsxs("option",{value:V.id,children:[V.name||V.email," (",shortId(V.id),")"]},V.id))]}),l.jsxs("select",{value:((be=b[x.id])==null?void 0:be.target)||"",onChange:V=>A(xe=>({...xe,[x.id]:{...xe[x.id]||{},target:V.target.value}})),children:[l.jsx("option",{value:"",disabled:!0,children:"Select target truck"}),j.filter(V=>V.id!==x.id).map(V=>l.jsxs("option",{value:V.id,children:[V.name," (",shortId(V.id),")"]},V.id))]}),l.jsx(Ye,{label:"Apply",busy:h[`mv:${x.id}`],onClick:async()=>{var Ze,je;const V=(Ze=b[x.id])==null?void 0:Ze.staffId,xe=(je=b[x.id])==null?void 0:je.target;if(!(!V||!xe)){R(`mv:${x.id}`,!0);try{await dn(()=>q.assignStaffToTruck(t,V,xe)),await fn(s,t,u,r)}catch(we){alert(we.message)}finally{R(`mv:${x.id}`,!1),A(we=>({...we,[x.id]:{open:!1,staffId:"",target:""}}))}}}}),l.jsx(Ye,{label:"Cancel",onClick:()=>A(V=>({...V,[x.id]:{open:!1,staffId:"",target:""}}))})]}):l.jsx(Ye,{label:"Move Staff",busy:!1,onClick:()=>A(V=>({...V,[x.id]:{open:!0,staffId:"",target:""}}))})]})]}),d[x.id]&&l.jsx("div",{style:{marginTop:8,marginLeft:24},children:(Je=x.staff)!=null&&Je.length?l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:yi,children:"Name"}),l.jsx("th",{style:yi,children:"Email"}),l.jsx("th",{style:yi,children:"Role"}),l.jsx("th",{style:yi,children:"Last active"}),l.jsx("th",{style:yi,children:"Actions"})]})}),l.jsx("tbody",{children:x.staff.map(V=>{var xe,Ze;return l.jsxs("tr",{children:[l.jsx("td",{style:vi,children:V.name}),l.jsx("td",{style:vi,children:V.email}),l.jsx("td",{style:vi,children:V.staffRole||"general"}),l.jsx("td",{style:vi,children:qd(V.lastLoginAt)}),l.jsxs("td",{style:vi,children:[l.jsx(Ye,{label:"Unassign",busy:h[`us:${x.id}:${V.id}`],onClick:async()=>{R(`us:${x.id}:${V.id}`,!0);try{await dn(()=>q.unassignStaff(t,x.id,V.id)),await fn(s,t,u,r)}catch(je){alert(je.message)}finally{R(`us:${x.id}:${V.id}`,!1)}}}),(xe=P[V.id])!=null&&xe.open?l.jsxs("span",{children:[l.jsxs("select",{value:((Ze=P[V.id])==null?void 0:Ze.target)||"",onChange:je=>g(we=>({...we,[V.id]:{...we[V.id]||{},target:je.target.value}})),children:[l.jsx("option",{value:"",disabled:!0,children:"Select Truck"}),j.map(je=>l.jsxs("option",{value:je.id,children:[je.name," (",shortId(je.id),")"]},je.id))]}),l.jsx(Ye,{label:"Apply",busy:h[`ms:${x.id}:${V.id}`],onClick:async()=>{var we;const je=(we=P[V.id])==null?void 0:we.target;if(je){R(`ms:${x.id}:${V.id}`,!0);try{await dn(()=>q.assignStaffToTruck(t,V.id,je)),await fn(s,t,u,r)}catch(It){alert(It.message)}finally{R(`ms:${x.id}:${V.id}`,!1),g(It=>({...It,[V.id]:{open:!1,target:""}}))}}}}),l.jsx(Ye,{label:"Cancel",onClick:()=>g(je=>({...je,[V.id]:{open:!1,target:""}}))})]}):l.jsx(Ye,{label:"Move",busy:!1,onClick:()=>g(je=>({...je,[V.id]:{open:!0,target:""}}))}),l.jsx(Ye,{label:"Deactivate",busy:h[`ds:${V.id}`],onClick:async()=>{R(`ds:${V.id}`,!0);try{await dn(()=>q.deactivateStaff(t,V.id)),await fn(s,t,u,r)}catch(je){alert(je.message)}finally{R(`ds:${V.id}`,!1)}}}),l.jsx(Ye,{label:"Reactivate",busy:h[`rs:${V.id}`],onClick:async()=>{R(`rs:${V.id}`,!0);try{await dn(()=>q.reactivateStaff(t,V.id)),await fn(s,t,u,r)}catch(je){alert(je.message)}finally{R(`rs:${V.id}`,!1)}}})]})]},V.id)})})]}):l.jsx("div",{style:{color:"#777"},children:"No staff."})})]},x.id)}):l.jsx("div",{style:{color:"#777"},children:"No trucks."})})]},D.id)})})]}):l.jsx("p",{style:{padding:20},children:"Unauthorized"})}function qd(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return""}}function Ye({label:e,onClick:t,busy:n}){return l.jsx("button",{disabled:n,onClick:t,style:M0,children:n?"":e})}async function dn(e){var n;const t=await e();if(t&&t.success===!1)throw new Error(((n=t.error)==null?void 0:n.message)||"Request failed");return t}async function fn(e,t,n,r){e(!0);try{const i=await q.getManagersHierarchy(t,{includeInactive:n});i.success&&r(i.data)}finally{e(!1)}}const Qd={padding:"2px 6px",fontSize:12},M0={padding:"4px 8px",fontSize:12,border:"1px solid #ccc",borderRadius:4,background:"#fafafa",cursor:"pointer"},yi={textAlign:"left",padding:6,background:"#f5f5f5",border:"1px solid #ddd",fontSize:12},vi={padding:6,border:"1px solid #eee",fontSize:13};function N0(){const{user:e,token:t}=ve(),[n,r]=m.useState([]),[i,s]=m.useState(!0),[o,a]=m.useState(null),[u,c]=m.useState(null),d=async()=>{s(!0),a(null);try{const h=await q.getManagersOverview(t);h.success&&r(h.data)}catch(h){a(h.message)}finally{s(!1)}};m.useEffect(()=>{if(!t||(e==null?void 0:e.role)!=="admin")return;let h=!0;return(async()=>h&&await d())(),()=>{h=!1}},[t,e]);async function f(h,w){if(!t)return;const j=`Remove manager ${w}?
Their trucks and staff will be temporarily reassigned to you (Admin).`;if(window.confirm(j)){c(h);try{(await q.deleteManager(t,h)).success&&await d()}catch(_){a(_.message)}finally{c(null)}}}return t?(e==null?void 0:e.role)!=="admin"?l.jsx("p",{style:{padding:20},children:"Forbidden"}):i?l.jsx("p",{style:{padding:20},children:"Loading..."}):o?l.jsx("p",{style:{padding:20,color:"red"},children:o}):l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Managers Overview"}),l.jsx("p",{style:{fontSize:12,marginTop:-8,color:"#555"},children:"Aggregated list of managers, their trucks, staff distribution, and live status."}),n.length===0&&l.jsx("p",{children:"No managers found."}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:n.map(h=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:6,padding:12},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("strong",{children:h.name})," ",l.jsxs("span",{style:{color:"#555"},children:["(",h.email,")"]})]}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Trucks: ",h.truckCount," | Staff: ",h.totalStaff]}),l.jsx("button",{onClick:()=>f(h.id,h.name||h.email),disabled:u===h.id,style:{background:"#b91c1c",color:"#fff",border:"none",padding:"6px 10px",borderRadius:4,cursor:"pointer"},title:"Remove manager and reassign trucks to Admin",children:u===h.id?"Removing...":"Remove"})]})]}),h.statusCounts&&l.jsxs("div",{style:{marginTop:6,fontSize:12,color:"#444"},children:["Status: ",Object.entries(h.statusCounts).map(([w,j])=>`${w}:${j}`).join(" | ")||"n/a"]}),h.trucks.length>0&&l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:8},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:xi,children:"Truck"}),l.jsx("th",{style:xi,children:"Status"}),l.jsx("th",{style:xi,children:"Live Location"}),l.jsx("th",{style:xi,children:"Staff Count"}),l.jsx("th",{style:xi,children:"Staff Members"})]})}),l.jsx("tbody",{children:h.trucks.map(w=>{var j,_;return l.jsxs("tr",{style:{borderTop:"1px solid #eee"},children:[l.jsx("td",{style:wi,children:w.name}),l.jsx("td",{style:wi,children:w.status}),l.jsx("td",{style:wi,children:w.liveLocation?`${(j=w.liveLocation.lat)==null?void 0:j.toFixed(3)}, ${(_=w.liveLocation.lng)==null?void 0:_.toFixed(3)}`:l.jsx("span",{style:{opacity:.6},children:""})}),l.jsx("td",{style:wi,children:w.staffCount}),l.jsx("td",{style:wi,children:w.staff.length?w.staff.map(P=>P.email).join(", "):l.jsx("span",{style:{opacity:.6},children:"None"})})]},w.id)})})]})]},h.id))})]}):l.jsx("p",{style:{padding:20},children:"Unauthorized"})}const xi={textAlign:"left",padding:6,background:"#f5f5f5",border:"1px solid #ddd",fontSize:12},wi={padding:6,border:"1px solid #eee",fontSize:13};function b0(){const{user:e,token:t}=ve(),[n,r]=m.useState(!0),[i,s]=m.useState([]),[o,a]=m.useState([]),[u,c]=m.useState(""),[d,f]=m.useState({}),[h,w]=m.useState(!0),[j,_]=m.useState(null),[P,g]=m.useState(!1),[p,v]=m.useState(!0),M=m.useMemo(()=>i.filter(D=>D.isActive===!1),[i]),E=m.useMemo(()=>i.filter(D=>D.isActive!==!1),[i]);async function T(){if(!(!t||(e==null?void 0:e.role)!=="admin")){w(!0),_(null);try{const[D,B]=await Promise.all([q.getManagers(t,{includeInactive:n}),q.getManagedTrucks(t)]);D.success&&s(D.data),B.success&&a(B.data||B.trucks||[])}catch(D){_(D.message)}finally{w(!1)}}}m.useEffect(()=>{T()},[t,e,n]);function y(D){f(B=>({...B,[D]:!B[D]}))}function b(D){if(!u)return!1;const B=D.manager;if(!B)return!1;const ee=typeof B=="object"?B.id||B._id:B;return String(ee)===String(u)}const A=m.useMemo(()=>p&&u?o.filter(D=>!b(D)):o,[o,p,u]);m.useEffect(()=>{f(D=>{const B=new Set(A.map(I=>String(I.id||I._id))),ee={};for(const[I,x]of Object.entries(D))B.has(String(I))&&(ee[I]=x);return ee})},[A]);function k(D){const B={};for(const ee of A)B[ee.id||ee._id]=D;f(B)}async function R(D){if(t){g(!0),_(null);try{(await q.reactivateManager(t,D)).success&&await T()}catch(B){_(B.message)}finally{g(!1)}}}async function F(){if(!t)return;const D=Object.entries(d).filter(([,B])=>B).map(([B])=>B);if(D.length===0){alert("Select at least one truck.");return}if(!u){alert("Choose target manager.");return}if(window.confirm(`Reassign ${D.length} truck(s) to selected manager?`)){g(!0),_(null);try{for(const B of D)await q.assignManager(t,B,u);await T(),f({})}catch(B){_(B.message)}finally{g(!1)}}}return t?(e==null?void 0:e.role)!=="admin"?l.jsx("p",{style:{padding:20},children:"Forbidden"}):l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Managers (Admin)"}),l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",marginTop:8},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("input",{type:"checkbox",checked:n,onChange:D=>r(D.target.checked)}),"Include inactive"]}),h&&l.jsx("span",{children:"Loading..."}),j&&l.jsx("span",{style:{color:"red"},children:j})]}),n&&l.jsxs("section",{style:{marginTop:20},children:[l.jsx("h3",{children:"Inactive Managers"}),M.length===0?l.jsx("p",{style:{opacity:.7},children:"None"}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:M.map(D=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:6,padding:10,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("strong",{children:D.name})," ",l.jsxs("span",{style:{color:"#555"},children:["(",D.email,")"]}),l.jsx("span",{style:{marginLeft:8,fontSize:12,color:"#a00"},children:"[inactive]"})]}),l.jsx("button",{disabled:P,onClick:()=>R(D.id),style:{padding:"6px 10px"},children:"Reactivate"})]},D.id))})]}),l.jsxs("section",{style:{marginTop:24},children:[l.jsx("h3",{children:"Bulk Reassign Trucks to Manager"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[l.jsxs("label",{children:["Target manager:",l.jsxs("select",{value:u,onChange:D=>c(D.target.value),style:{marginLeft:8},children:[l.jsx("option",{value:"",children:"-- select --"}),E.map(D=>l.jsxs("option",{value:D.id,children:[D.name," (",D.email,")"]},D.id))]})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("input",{type:"checkbox",checked:p,onChange:D=>v(D.target.checked)}),"Hide trucks already assigned to target manager"]}),l.jsx("button",{disabled:P,onClick:()=>k(!0),children:"Select all"}),l.jsx("button",{disabled:P,onClick:()=>k(!1),children:"Clear"}),l.jsx("button",{disabled:P,onClick:F,children:"Reassign Selected"})]}),l.jsx("div",{style:{marginTop:10,border:"1px solid #eee",borderRadius:6},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:Fs,children:"Select"}),l.jsx("th",{style:Fs,children:"Truck"}),l.jsx("th",{style:Fs,children:"Current Manager"}),l.jsx("th",{style:Fs,children:"Status"})]})}),l.jsx("tbody",{children:A.map(D=>{const B=D.id||D._id,ee=D.manager?D.manager.name?`${D.manager.name} (${D.manager.email})`:D.manager.email||"":"",I=u&&b(D);return l.jsxs("tr",{style:{borderTop:"1px solid #f0f0f0",opacity:I?.6:1},children:[l.jsx("td",{style:$s,children:l.jsx("input",{type:"checkbox",checked:!!d[B],onChange:()=>y(B),disabled:I})}),l.jsx("td",{style:$s,children:D.name}),l.jsx("td",{style:$s,children:ee}),l.jsx("td",{style:$s,children:D.status})]},B)})})]})})]})]}):l.jsx("p",{style:{padding:20},children:"Unauthorized"})}const Fs={textAlign:"left",padding:6,background:"#f5f5f5",border:"1px solid #ddd",fontSize:12},$s={padding:6,border:"1px solid #eee",fontSize:13};function O0(){const{user:e,token:t}=ve(),[n,r]=m.useState([]),[i,s]=m.useState(!0),[o,a]=m.useState(null),[u,c]=m.useState({}),[d,f]=m.useState("all"),[h,w]=m.useState("flat"),[j,_]=m.useState([]),[P,g]=m.useState({}),[p,v]=m.useState({}),[M,E]=m.useState({});async function T(){s(!0),a(null);try{const k=await q.listStaff(t);k.success&&r(k.data);const R=await q.getTrucks();R.success&&_(R.data)}catch(k){a(k.message)}finally{s(!1)}}if(m.useEffect(()=>{t&&(e==null?void 0:e.role)==="admin"&&T()},[t,e]),!t)return l.jsx("p",{style:{padding:20},children:"Unauthorized"});if((e==null?void 0:e.role)!=="admin")return l.jsx("p",{style:{padding:20},children:"Forbidden"});const y=m.useMemo(()=>{const k=new Map;return(j||[]).forEach(R=>k.set(R.id,R)),k},[j]),b=n.filter(k=>d==="assigned"?!!k.assignedTruck:d==="unassigned"?!k.assignedTruck:!0),A=m.useMemo(()=>{var F,D;if(h!=="manager")return[];const k=new Map;for(const B of b){const ee=(F=B.truckManager)!=null&&F.id?`mgr:${B.truckManager.id}`:"unassigned";if(!k.has(ee)){const I=(D=B.truckManager)!=null&&D.id?`${B.truckManager.name} (${B.truckManager.email})`:"Unassigned";k.set(ee,{title:I,items:[]})}k.get(ee).items.push(B)}const R=Array.from(k.entries());return R.sort((B,ee)=>B[0]==="unassigned"?1:ee[0]==="unassigned"?-1:B[1].title.localeCompare(ee[1].title)),R.map(([B,ee])=>({key:B,...ee}))},[b,h]);return l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[l.jsx("h2",{children:"Admin  Staff Management"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{children:"View:"}),l.jsxs("select",{value:h,onChange:k=>w(k.target.value),children:[l.jsx("option",{value:"flat",children:"Flat"}),l.jsx("option",{value:"manager",children:"By Manager"})]})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{children:"Filter:"}),l.jsxs("select",{value:d,onChange:k=>f(k.target.value),children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"assigned",children:"Assigned"}),l.jsx("option",{value:"unassigned",children:"Unassigned"})]})]})]})]}),i&&l.jsx("p",{children:"Loading staff"}),o&&l.jsx("p",{style:{color:"red"},children:o}),!i&&!o&&h==="flat"&&l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:12},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:hn,children:"Name"}),l.jsx("th",{style:hn,children:"Email"}),l.jsx("th",{style:hn,children:"Truck"}),l.jsx("th",{style:hn,children:"Actions"})]})}),l.jsx("tbody",{children:b.map(k=>l.jsxs("tr",{children:[l.jsx("td",{style:pn,children:k.name}),l.jsx("td",{style:pn,children:k.email}),l.jsx("td",{style:pn,children:k.assignedTruck?(()=>{const R=y.get(String(k.assignedTruck));return R?`${R.name} (${Fo(R.id)})`:String(k.assignedTruck)})():""}),l.jsx("td",{style:{...pn,position:"relative"},children:P[k.id]?l.jsxs("span",{children:[l.jsxs("select",{value:p[k.id]||"",onChange:R=>v(F=>({...F,[k.id]:R.target.value})),children:[l.jsx("option",{value:"",disabled:!0,children:"Select Truck"}),j.map(R=>l.jsxs("option",{value:R.id,children:[R.name," (",Fo(R.id),")"]},R.id))]}),l.jsx("button",{style:gr,disabled:!!u[`mv:${k.id}`]||!p[k.id],onClick:async()=>{const R=p[k.id];if(R){c(F=>({...F,[`mv:${k.id}`]:!0}));try{await q.assignStaffToTruck(t,k.id,R),await T()}catch(F){alert(F.message)}finally{c(F=>({...F,[`mv:${k.id}`]:!1})),g(F=>({...F,[k.id]:!1})),v(F=>({...F,[k.id]:""}))}}},children:"Apply"}),l.jsx("button",{style:gr,onClick:()=>{g(R=>({...R,[k.id]:!1})),v(R=>({...R,[k.id]:""}))},children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{style:gr,onClick:()=>E(R=>({...R,[k.id]:!R[k.id]})),children:"Manage "}),M[k.id]&&l.jsxs("div",{style:Kd,children:[l.jsx("button",{style:Ft,onClick:()=>{g(R=>({...R,[k.id]:!0})),E(R=>({...R,[k.id]:!1}))},children:"Assign/Move"}),k.assignedTruck&&l.jsx("button",{style:Ft,disabled:!!u[`un:${k.id}`],onClick:async()=>{E(R=>({...R,[k.id]:!1})),c(R=>({...R,[`un:${k.id}`]:!0}));try{await q.unassignStaffFromTruck(t,k.id),await T()}catch(R){alert(R.message)}finally{c(R=>({...R,[`un:${k.id}`]:!1}))}},children:"Unassign"}),k.isActive?l.jsx("button",{style:Ft,disabled:!!u[`de:${k.id}`],onClick:async()=>{E(R=>({...R,[k.id]:!1})),c(R=>({...R,[`de:${k.id}`]:!0}));try{await q.deactivateStaff(t,k.id),await T()}catch(R){alert(R.message)}finally{c(R=>({...R,[`de:${k.id}`]:!1}))}},children:"Deactivate"}):l.jsx("button",{style:Ft,disabled:!!u[`re:${k.id}`],onClick:async()=>{E(R=>({...R,[k.id]:!1})),c(R=>({...R,[`re:${k.id}`]:!0}));try{await q.reactivateStaff(t,k.id),await T()}catch(R){alert(R.message)}finally{c(R=>({...R,[`re:${k.id}`]:!1}))}},children:"Reactivate"}),l.jsx("button",{style:{...Ft,color:"#b00020"},disabled:!!u[`del:${k.id}`],onClick:async()=>{if(E(R=>({...R,[k.id]:!1})),!!confirm(`Delete staff ${k.name} (${k.email})? This cannot be undone.`)){c(R=>({...R,[`del:${k.id}`]:!0}));try{await q.deleteStaff(t,k.id),await T()}catch(R){alert(R.message)}finally{c(R=>({...R,[`del:${k.id}`]:!1}))}}},children:"Delete"})]})]})})]},k.id))})]}),!i&&!o&&h==="manager"&&l.jsx("div",{style:{marginTop:12},children:A.length===0?l.jsx("div",{style:{color:"#666"},children:"No staff match the selected filter."}):A.map(k=>l.jsxs("div",{style:{marginBottom:20},children:[l.jsxs("h3",{style:{margin:"16px 0 8px",display:"flex",alignItems:"center",gap:8},title:k.title,children:[l.jsx("span",{children:k.title.split(" (")[0]}),l.jsxs("span",{style:D0,children:["Staff: ",k.items.length]})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:hn,children:"Name"}),l.jsx("th",{style:hn,children:"Email"}),l.jsx("th",{style:hn,children:"Truck"}),l.jsx("th",{style:hn,children:"Actions"})]})}),l.jsx("tbody",{children:k.items.map(R=>l.jsxs("tr",{children:[l.jsx("td",{style:pn,children:R.name}),l.jsx("td",{style:pn,children:R.email}),l.jsx("td",{style:pn,children:R.assignedTruck?(()=>{const F=y.get(String(R.assignedTruck));return F?`${F.name}`:String(R.assignedTruck)})():""}),l.jsx("td",{style:{...pn,position:"relative"},children:P[R.id]?l.jsxs("span",{children:[l.jsxs("select",{value:p[R.id]||"",onChange:F=>v(D=>({...D,[R.id]:F.target.value})),children:[l.jsx("option",{value:"",disabled:!0,children:"Select Truck"}),j.map(F=>l.jsxs("option",{value:F.id,children:[F.name," (",Fo(F.id),")"]},F.id))]}),l.jsx("button",{style:gr,disabled:!!u[`mv:${R.id}`]||!p[R.id],onClick:async()=>{const F=p[R.id];if(F){c(D=>({...D,[`mv:${R.id}`]:!0}));try{await q.assignStaffToTruck(t,R.id,F),await T()}catch(D){alert(D.message)}finally{c(D=>({...D,[`mv:${R.id}`]:!1})),g(D=>({...D,[R.id]:!1})),v(D=>({...D,[R.id]:""}))}}},children:"Apply"}),l.jsx("button",{style:gr,onClick:()=>{g(F=>({...F,[R.id]:!1})),v(F=>({...F,[R.id]:""}))},children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{style:gr,onClick:()=>E(F=>({...F,[R.id]:!F[R.id]})),children:"Manage "}),M[R.id]&&l.jsxs("div",{style:Kd,children:[l.jsx("button",{style:Ft,onClick:()=>{g(F=>({...F,[R.id]:!0})),E(F=>({...F,[R.id]:!1}))},children:"Assign/Move"}),R.assignedTruck&&l.jsx("button",{style:Ft,disabled:!!u[`un:${R.id}`],onClick:async()=>{E(F=>({...F,[R.id]:!1})),c(F=>({...F,[`un:${R.id}`]:!0}));try{await q.unassignStaffFromTruck(t,R.id),await T()}catch(F){alert(F.message)}finally{c(F=>({...F,[`un:${R.id}`]:!1}))}},children:"Unassign"}),R.isActive?l.jsx("button",{style:Ft,disabled:!!u[`de:${R.id}`],onClick:async()=>{E(F=>({...F,[R.id]:!1})),c(F=>({...F,[`de:${R.id}`]:!0}));try{await q.deactivateStaff(t,R.id),await T()}catch(F){alert(F.message)}finally{c(F=>({...F,[`de:${R.id}`]:!1}))}},children:"Deactivate"}):l.jsx("button",{style:Ft,disabled:!!u[`re:${R.id}`],onClick:async()=>{E(F=>({...F,[R.id]:!1})),c(F=>({...F,[`re:${R.id}`]:!0}));try{await q.reactivateStaff(t,R.id),await T()}catch(F){alert(F.message)}finally{c(F=>({...F,[`re:${R.id}`]:!1}))}},children:"Reactivate"}),l.jsx("button",{style:{...Ft,color:"#b00020"},disabled:!!u[`del:${R.id}`],onClick:async()=>{if(E(F=>({...F,[R.id]:!1})),!!confirm(`Delete staff ${R.name} (${R.email})? This cannot be undone.`)){c(F=>({...F,[`del:${R.id}`]:!0}));try{await q.deleteStaff(t,R.id),await T()}catch(F){alert(F.message)}finally{c(F=>({...F,[`del:${R.id}`]:!1}))}}},children:"Delete"})]})]})})]},R.id))})]})]},k.key))})]})}const hn={textAlign:"left",padding:8,background:"#f5f5f5",border:"1px solid #ddd"},pn={padding:8,border:"1px solid #eee"},gr={padding:"4px 8px",marginRight:6},D0={background:"#eef2ff",color:"#3730a3",border:"1px solid #c7d2fe",borderRadius:12,fontSize:12,padding:"2px 8px"},Kd={position:"absolute",zIndex:10,background:"#fff",border:"1px solid #ddd",borderRadius:6,boxShadow:"0 4px 10px rgba(0,0,0,0.06)",padding:6,display:"flex",flexDirection:"column",minWidth:160},Ft={textAlign:"left",padding:"6px 8px",background:"transparent",border:"none",cursor:"pointer"};function Fo(e){return String(e).slice(0,6)}function I0(){const{token:e}=ve(),[t,n]=m.useState([]),[r,i]=m.useState(""),[s,o]=m.useState(!0);return m.useEffect(()=>{let a=!0;async function u(){var c;o(!0);try{const d=await q.getManagedTrucks(e);a&&(d!=null&&d.success)&&(n(d.data||[]),(c=d.data)!=null&&c.length&&!r&&i(d.data[0]._id||d.data[0].id))}finally{a&&o(!1)}}return e&&u(),()=>{a=!1}},[e]),l.jsxs("section",{style:{marginTop:24},children:[l.jsx("h3",{children:"Manage Menu"}),s?l.jsx("p",{children:"Loading trucks"}):t.length===0?l.jsx("p",{children:"No trucks assigned to you yet."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:12},children:l.jsxs("label",{children:["Truck:",l.jsx("select",{value:r,onChange:a=>i(a.target.value),style:{marginLeft:6},children:t.map(a=>l.jsx("option",{value:a._id||a.id,children:a.name},a._id||a.id))})]})}),r&&l.jsx(qp,{truckId:r})]})]})}function A0(){const{user:e}=ve(),t=localStorage.getItem("sft_token"),[n,r]=m.useState([]),[i,s]=m.useState({name:"",email:"",password:"",truckId:""}),[o,a]=m.useState(!1),[u,c]=m.useState(null),[d,f]=m.useState([]);m.useEffect(()=>{q.getManagedTrucks(t).then(w=>{w.success&&r(w.data)})},[t]);async function h(w){w.preventDefault(),c(null),a(!0);try{const j=await q.createStaff(t,i);j.success&&f(_=>[..._,j.data]),s({name:"",email:"",password:"",truckId:""})}catch(j){c(j.message)}finally{a(!1)}}return l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Manager Dashboard"}),l.jsxs("p",{children:["Welcome ",e==null?void 0:e.email]}),l.jsx("nav",{style:{marginTop:8},children:l.jsx("a",{href:"/manager/staff",children:"Manage My Staff"})}),l.jsxs("section",{style:{marginTop:24},children:[l.jsx("h3",{children:"Create Staff"}),l.jsxs("form",{onSubmit:h,style:{display:"flex",gap:8,flexWrap:"wrap",maxWidth:800},children:[l.jsx("input",{placeholder:"Name",value:i.name,onChange:w=>s(j=>({...j,name:w.target.value})),required:!0}),l.jsx("input",{placeholder:"Email",type:"email",value:i.email,onChange:w=>s(j=>({...j,email:w.target.value})),required:!0}),l.jsx("input",{placeholder:"Password",type:"password",value:i.password,onChange:w=>s(j=>({...j,password:w.target.value})),required:!0}),l.jsxs("select",{value:i.truckId,onChange:w=>s(j=>({...j,truckId:w.target.value})),required:!0,children:[l.jsx("option",{value:"",children:"Select Truck"}),n.map(w=>l.jsx("option",{value:w._id,children:w.name},w._id))]}),l.jsx("button",{disabled:o,children:o?"Creating...":"Create Staff"})]}),u&&l.jsx("div",{style:{color:"red"},children:u}),d.length>0&&l.jsx("ul",{style:{marginTop:12},children:d.map(w=>l.jsxs("li",{children:[w.email," (",w.role,")"]},w.id))})]}),l.jsx(I0,{})]})}function z0(){const{user:e,token:t}=ve(),[n,r]=m.useState([]),[i,s]=m.useState([]),[o,a]=m.useState(!0),[u,c]=m.useState(null),[d,f]=m.useState({}),[h,w]=m.useState("all"),[j,_]=m.useState("active"),[P,g]=m.useState({}),[p,v]=m.useState({}),[M,E]=m.useState([]);m.useEffect(()=>{if(!t||(e==null?void 0:e.role)!=="manager")return;let A=!0;return a(!0),Promise.all([dr.listStaff(t),dr.getManagedTrucks(t),dr.reclaimUnassigned(t)]).then(([k,R,F])=>{A&&(k.success&&r(k.data),R.success&&s(R.data),F&&F.success&&E(F.data))}).catch(k=>c(k.message)).finally(()=>a(!1)),()=>{A=!1}},[t,e]);const T=m.useMemo(()=>{const A=new Map;return(i||[]).forEach(k=>A.set(k._id||k.id,k)),A},[i]),b=(j==="reclaim"?M:n).filter(A=>j==="reclaim"||h==="all"?!0:String(A.assignedTruck||"")===String(h));return t?(e==null?void 0:e.role)!=="manager"?l.jsx("p",{style:{padding:20},children:"Forbidden"}):o?l.jsx("p",{style:{padding:20},children:"Loading"}):u?l.jsx("p",{style:{padding:20,color:"red"},children:u}):l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"My Staff"}),l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{marginRight:6},children:"View:"}),l.jsxs("select",{value:j,onChange:A=>_(A.target.value),children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"reclaim",children:"Previously Managed"})]})]}),j==="active"&&l.jsxs("div",{children:[l.jsx("label",{style:{marginRight:6},children:"Truck:"}),l.jsxs("select",{value:h,onChange:A=>w(A.target.value),children:[l.jsx("option",{value:"all",children:"All"}),i.map(A=>l.jsx("option",{value:A._id||A.id,children:A.name},A._id||A.id))]})]})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:$o,children:"Staff"}),l.jsx("th",{style:$o,children:"Truck"}),l.jsx("th",{style:$o,children:"Actions"})]})}),l.jsx("tbody",{children:b.map(A=>{var B,ee,I;const k=A.id,R=!!A.assignedTruck,F=!!((B=P[k])!=null&&B.open),D=((ee=P[k])==null?void 0:ee.target)||"";return l.jsxs("tr",{children:[l.jsxs("td",{style:Uo,children:[l.jsx("div",{style:{fontWeight:600},children:A.name}),l.jsx("div",{style:{fontSize:12,color:"#666"},children:A.email})]}),l.jsx("td",{style:Uo,children:((I=T.get(String(A.assignedTruck)))==null?void 0:I.name)||""}),l.jsx("td",{style:{...Uo,position:"relative"},children:j==="reclaim"||!R?F?l.jsxs("span",{children:[l.jsxs("select",{value:D,onChange:x=>g(S=>({...S,[k]:{...S[k]||{},target:x.target.value}})),children:[l.jsx("option",{value:"",disabled:!0,children:"Select Truck"}),i.map(x=>l.jsx("option",{value:x._id||x.id,children:x.name},x._id||x.id))]}),l.jsx("button",{style:yr,disabled:!!d[`as:${k}`]||!D,onClick:async()=>{if(D){f(x=>({...x,[`as:${k}`]:!0}));try{await dr.assignStaffToManagedTruck(t,D,k),j==="reclaim"?(r(x=>{const S=x.some(z=>z.id===k),N={id:k,name:A.name,email:A.email,assignedTruck:D};return S?x.map(z=>z.id===k?N:z):[...x,N]}),E(x=>x.filter(S=>S.id!==k))):(r(x=>x.map(S=>S.id===k?{...S,assignedTruck:D}:S)),E(x=>x.filter(S=>S.id!==k))),g(x=>({...x,[k]:{open:!1,target:""}}))}catch(x){alert(x.message)}finally{f(x=>({...x,[`as:${k}`]:!1}))}}},children:"Assign"}),l.jsx("button",{style:yr,onClick:()=>g(x=>({...x,[k]:{open:!1,target:""}})),children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{style:yr,onClick:()=>v(x=>({...x,[k]:!x[k]})),children:"Assign "}),p[k]&&l.jsx("div",{style:Yd,children:l.jsx("button",{style:Bo,onClick:()=>{g(x=>({...x,[k]:{open:!0,target:""}})),v(x=>({...x,[k]:!1}))},children:"Assign to truck"})})]}):F?l.jsxs("span",{children:[l.jsxs("select",{value:D,onChange:x=>g(S=>({...S,[k]:{...S[k]||{},target:x.target.value}})),children:[l.jsx("option",{value:"",disabled:!0,children:"Move to"}),i.map(x=>l.jsx("option",{value:x._id||x.id,children:x.name},x._id||x.id))]}),l.jsx("button",{style:yr,disabled:!!d[`mv:${k}`]||!D,onClick:async()=>{if(D){f(x=>({...x,[`mv:${k}`]:!0}));try{await dr.assignStaffToManagedTruck(t,D,k),r(x=>x.map(S=>S.id===k?{...S,assignedTruck:D}:S)),g(x=>({...x,[k]:{open:!1,target:""}}))}catch(x){alert(x.message)}finally{f(x=>({...x,[`mv:${k}`]:!1}))}}},children:"Apply"}),l.jsx("button",{style:yr,onClick:()=>g(x=>({...x,[k]:{open:!1,target:""}})),children:"Close"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{style:yr,onClick:()=>v(x=>({...x,[k]:!x[k]})),children:"Manage "}),p[k]&&l.jsxs("div",{style:Yd,children:[l.jsx("button",{style:Bo,onClick:()=>{g(x=>({...x,[k]:{open:!0,target:""}})),v(x=>({...x,[k]:!1}))},children:"Move"}),l.jsx("button",{style:Bo,disabled:!!d[`un:${k}`],onClick:async()=>{v(S=>({...S,[k]:!1}));const x=String(A.assignedTruck);f(S=>({...S,[`un:${k}`]:!0}));try{await dr.unassignStaffFromManagedTruck(t,x,k),r(S=>S.map(N=>N.id===k?{...N,assignedTruck:void 0}:N)),E(S=>S.some(N=>N.id===k)?S:[...S,{id:k,name:A.name,email:A.email}]),g(S=>({...S,[k]:{open:!1,target:""}}))}catch(S){alert(S.message)}finally{f(S=>({...S,[`un:${k}`]:!1}))}},children:"Unassign"})]})]})})]},k)})})]})]}):l.jsx("p",{style:{padding:20},children:"Unauthorized"})}const $o={textAlign:"left",padding:8,background:"#f5f5f5",border:"1px solid #ddd"},Uo={padding:8,border:"1px solid #eee"},yr={padding:"4px 8px",marginRight:6},Yd={position:"absolute",zIndex:10,background:"#fff",border:"1px solid #ddd",borderRadius:6,boxShadow:"0 4px 10px rgba(0,0,0,0.06)",padding:6,display:"flex",flexDirection:"column",minWidth:160},Bo={textAlign:"left",padding:"6px 8px",background:"transparent",border:"none",cursor:"pointer"};function F0(){const{user:e}=ve();return l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Staff Dashboard"}),l.jsxs("p",{children:["Welcome ",e==null?void 0:e.email]}),l.jsx("p",{children:"You can update stock and mark items sold out on your assigned truck. For adding/editing items or enabling items, please contact your Manager or Admin."})]})}function $0(){const{token:e,user:t}=ve(),n=m.useMemo(()=>(t==null?void 0:t.assignedTruck)||(t==null?void 0:t.truckId)||null,[t]),[r,i]=m.useState(null),[s,o]=m.useState([]),[a,u]=m.useState(!0),[c,d]=m.useState(null),[f,h]=m.useState({});m.useEffect(()=>{let j=!0;async function _(){if(!n){u(!1);return}u(!0),d(null);try{const[P,g]=await Promise.all([q.getTruck(n),q.getMenuItems(n)]);if(!j)return;P!=null&&P.success&&i(P.data),g!=null&&g.success&&o(g.data||[])}catch(P){j&&d(P.message)}finally{j&&u(!1)}}return e&&_(),()=>{j=!1}},[e,n]);async function w(j){const _=j._id;h(P=>({...P,[_]:!0}));try{const P=await q.updateMenuStock(e,_,{isAvailable:!j.isAvailable});if(P&&P.success){const g=P.data||{...j,isAvailable:!j.isAvailable};o(p=>p.map(v=>v._id===_?g:v))}else o(g=>g.map(p=>p._id===_?{...p,isAvailable:!j.isAvailable}:p))}catch(P){alert(P.message||"Failed to update stock")}finally{h(P=>({...P,[_]:!1}))}}return e?(t==null?void 0:t.role)!=="staff"?l.jsx("p",{style:{padding:20},children:"Forbidden: staff only"}):n?a?l.jsx("p",{style:{padding:20},children:"Loading"}):c?l.jsx("p",{style:{padding:20,color:"red"},children:c}):l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsxs("h2",{children:["My Stock  ",(r==null?void 0:r.name)||""]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:Us,children:"Name"}),l.jsx("th",{style:Us,children:"Category"}),l.jsx("th",{style:Us,children:"Available"}),l.jsx("th",{style:Us,children:"Action"})]})}),l.jsx("tbody",{children:s.map(j=>l.jsxs("tr",{style:{borderTop:"1px solid #eee"},children:[l.jsx("td",{style:Bs,children:j.name}),l.jsx("td",{style:Bs,children:j.category||"-"}),l.jsx("td",{style:Bs,children:j.isAvailable?"Yes":"No"}),l.jsx("td",{style:Bs,children:l.jsx("button",{onClick:()=>w(j),disabled:!!f[j._id],children:f[j._id]?"Updating":j.isAvailable?"Mark sold out":"Mark in stock"})})]},j._id))})]})]}):l.jsxs("div",{style:{padding:20},children:[l.jsx("h2",{children:"My Stock"}),l.jsx("p",{children:"No truck assigned to your account yet."})]}):l.jsx("p",{style:{padding:20},children:"Unauthorized"})}const Us={textAlign:"left",padding:6,background:"#f5f5f5",border:"1px solid #ddd"},Bs={padding:6,border:"1px solid #eee"};function U0(){const{user:e}=ve();return l.jsxs("div",{style:{padding:20,fontFamily:"system-ui"},children:[l.jsx("h2",{children:"Customer Dashboard"}),l.jsxs("p",{children:["Welcome ",e==null?void 0:e.email]}),l.jsxs("ul",{children:[l.jsx("li",{children:l.jsx(Yt,{to:"/trucks",children:"Browse Trucks"})}),l.jsx("li",{children:l.jsx(Yt,{to:"/orders/new",children:"Create Order"})}),l.jsx("li",{children:l.jsx(Yt,{to:"/reservations/new",children:"Create Reservation"})}),l.jsx("li",{children:l.jsx(Yt,{to:"/orders",children:"My Orders"})}),l.jsx("li",{children:l.jsx(Yt,{to:"/reservations",children:"My Reservations"})})]})]})}function Hs({children:e}){const{token:t}=ve();return t?e:l.jsx(qr,{to:"/login",replace:!0})}function B0(){const{token:e,user:t}=ve();if(!e)return l.jsx(qr,{to:"/trucks",replace:!0});const n=t==null?void 0:t.role,r=n==="customer"?"/customer":n==="admin"?"/admin":n==="manager"?"/manager":n==="staff"?"/staff":"/trucks";return l.jsx(qr,{to:r,replace:!0})}function H0(){return l.jsx(gx,{children:l.jsx(R0,{children:l.jsxs(Qv,{children:[l.jsx(Me,{path:"/",element:l.jsx(B0,{})}),l.jsx(Me,{path:"/login",element:l.jsx(yx,{})}),l.jsx(Me,{path:"/signup",element:l.jsx(vx,{})}),l.jsx(Me,{path:"/trucks",element:l.jsx(f0,{})}),l.jsx(Me,{path:"/trucks/:id",element:l.jsx(p0,{})}),l.jsx(Me,{path:"/trucks/:id/menu-manage",element:l.jsx(Tt,{roles:["admin","manager"],children:l.jsx(g0,{})})}),l.jsx(Me,{path:"/admin",element:l.jsx(Tt,{roles:["admin"],children:l.jsx(P0,{})})}),l.jsx(Me,{path:"/admin/managers",element:l.jsx(Tt,{roles:["admin"],children:l.jsx(b0,{})})}),l.jsx(Me,{path:"/admin/overview",element:l.jsx(Tt,{roles:["admin"],children:l.jsx(N0,{})})}),l.jsx(Me,{path:"/admin/hierarchy",element:l.jsx(Tt,{roles:["admin"],children:l.jsx(L0,{})})}),l.jsx(Me,{path:"/admin/staff",element:l.jsx(Tt,{roles:["admin"],children:l.jsx(O0,{})})}),l.jsx(Me,{path:"/manager",element:l.jsx(Tt,{roles:["manager"],children:l.jsx(A0,{})})}),l.jsx(Me,{path:"/manager/staff",element:l.jsx(Tt,{roles:["manager"],children:l.jsx(z0,{})})}),l.jsx(Me,{path:"/staff/stock",element:l.jsx(Tt,{roles:["staff"],children:l.jsx($0,{})})}),l.jsx(Me,{path:"/staff",element:l.jsx(Tt,{roles:["staff"],children:l.jsx(F0,{})})}),l.jsx(Me,{path:"/customer",element:l.jsx(Tt,{roles:["customer"],children:l.jsx(U0,{})})}),l.jsx(Me,{path:"/orders",element:l.jsx(Hs,{children:l.jsx(_0,{})})}),l.jsx(Me,{path:"/orders/new",element:l.jsx(Hs,{children:l.jsx(y0,{})})}),l.jsx(Me,{path:"/reservations",element:l.jsx(Hs,{children:l.jsx(T0,{})})}),l.jsx(Me,{path:"/reservations/new",element:l.jsx(Hs,{children:l.jsx(x0,{})})}),l.jsx(Me,{path:"*",element:l.jsx(qr,{to:"/",replace:!0})})]})})})}const V0=ex([{path:"/*",element:l.jsx(H0,{})}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}});fp(document.getElementById("root")).render(l.jsx(uf.StrictMode,{children:l.jsx(ux,{router:V0,future:{v7_startTransition:!0,v7_relativeSplatPath:!0}})}));
